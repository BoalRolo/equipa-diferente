function nw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function rw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vg={exports:{}},Ml={},_g={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bo=Symbol.for("react.element"),iw=Symbol.for("react.portal"),sw=Symbol.for("react.fragment"),ow=Symbol.for("react.strict_mode"),aw=Symbol.for("react.profiler"),lw=Symbol.for("react.provider"),uw=Symbol.for("react.context"),cw=Symbol.for("react.forward_ref"),dw=Symbol.for("react.suspense"),hw=Symbol.for("react.memo"),fw=Symbol.for("react.lazy"),Xf=Symbol.iterator;function pw(t){return t===null||typeof t!="object"?null:(t=Xf&&t[Xf]||t["@@iterator"],typeof t=="function"?t:null)}var wg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Eg=Object.assign,xg={};function ss(t,e,n){this.props=t,this.context=e,this.refs=xg,this.updater=n||wg}ss.prototype.isReactComponent={};ss.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ss.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Tg(){}Tg.prototype=ss.prototype;function Rd(t,e,n){this.props=t,this.context=e,this.refs=xg,this.updater=n||wg}var Pd=Rd.prototype=new Tg;Pd.constructor=Rd;Eg(Pd,ss.prototype);Pd.isPureReactComponent=!0;var Yf=Array.isArray,Sg=Object.prototype.hasOwnProperty,kd={current:null},Ig={key:!0,ref:!0,__self:!0,__source:!0};function Cg(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Sg.call(e,r)&&!Ig.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:bo,type:t,key:s,ref:o,props:i,_owner:kd.current}}function mw(t,e){return{$$typeof:bo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Nd(t){return typeof t=="object"&&t!==null&&t.$$typeof===bo}function gw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Jf=/\/+/g;function Su(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gw(""+t.key):e.toString(36)}function Ma(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case bo:case iw:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Su(o,0):r,Yf(i)?(n="",t!=null&&(n=t.replace(Jf,"$&/")+"/"),Ma(i,e,n,"",function(c){return c})):i!=null&&(Nd(i)&&(i=mw(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Jf,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Yf(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Su(s,l);o+=Ma(s,e,n,u,i)}else if(u=pw(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Su(s,l++),o+=Ma(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function da(t,e,n){if(t==null)return t;var r=[],i=0;return Ma(t,r,"","",function(s){return e.call(n,s,i++)}),r}function yw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},La={transition:null},vw={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:La,ReactCurrentOwner:kd};function Ag(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:da,forEach:function(t,e,n){da(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return da(t,function(){e++}),e},toArray:function(t){return da(t,function(e){return e})||[]},only:function(t){if(!Nd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=ss;le.Fragment=sw;le.Profiler=aw;le.PureComponent=Rd;le.StrictMode=ow;le.Suspense=dw;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vw;le.act=Ag;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Eg({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=kd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Sg.call(e,u)&&!Ig.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:bo,type:t.type,key:i,ref:s,props:r,_owner:o}};le.createContext=function(t){return t={$$typeof:uw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lw,_context:t},t.Consumer=t};le.createElement=Cg;le.createFactory=function(t){var e=Cg.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:cw,render:t}};le.isValidElement=Nd;le.lazy=function(t){return{$$typeof:fw,_payload:{_status:-1,_result:t},_init:yw}};le.memo=function(t,e){return{$$typeof:hw,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=La.transition;La.transition={};try{t()}finally{La.transition=e}};le.unstable_act=Ag;le.useCallback=function(t,e){return Mt.current.useCallback(t,e)};le.useContext=function(t){return Mt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};le.useEffect=function(t,e){return Mt.current.useEffect(t,e)};le.useId=function(){return Mt.current.useId()};le.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return Mt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};le.useRef=function(t){return Mt.current.useRef(t)};le.useState=function(t){return Mt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return Mt.current.useTransition()};le.version="18.3.1";_g.exports=le;var b=_g.exports;const gt=rw(b),uc=nw({__proto__:null,default:gt},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w=b,ww=Symbol.for("react.element"),Ew=Symbol.for("react.fragment"),xw=Object.prototype.hasOwnProperty,Tw=_w.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sw={key:!0,ref:!0,__self:!0,__source:!0};function Rg(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)xw.call(e,r)&&!Sw.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ww,type:t,key:s,ref:o,props:i,_owner:Tw.current}}Ml.Fragment=Ew;Ml.jsx=Rg;Ml.jsxs=Rg;vg.exports=Ml;var w=vg.exports,cc={},Pg={exports:{}},Zt={},kg={exports:{}},Ng={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,q){var G=U.length;U.push(q);e:for(;0<G;){var ye=G-1>>>1,Te=U[ye];if(0<i(Te,q))U[ye]=q,U[G]=Te,G=ye;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var q=U[0],G=U.pop();if(G!==q){U[0]=G;e:for(var ye=0,Te=U.length,Ae=Te>>>1;ye<Ae;){var Wt=2*(ye+1)-1,bt=U[Wt],qt=Wt+1,ct=U[qt];if(0>i(bt,G))qt<Te&&0>i(ct,bt)?(U[ye]=ct,U[qt]=G,ye=qt):(U[ye]=bt,U[Wt]=G,ye=Wt);else if(qt<Te&&0>i(ct,G))U[ye]=ct,U[qt]=G,ye=qt;else break e}}return q}function i(U,q){var G=U.sortIndex-q.sortIndex;return G!==0?G:U.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],f=1,p=null,y=3,_=!1,R=!1,P=!1,N=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(U){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=U)r(c),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(c)}}function V(U){if(P=!1,I(U),!R)if(n(u)!==null)R=!0,ke(M);else{var q=n(c);q!==null&&de(V,q.startTime-U)}}function M(U,q){R=!1,P&&(P=!1,m(v),v=-1),_=!0;var G=y;try{for(I(q),p=n(u);p!==null&&(!(p.expirationTime>q)||U&&!A());){var ye=p.callback;if(typeof ye=="function"){p.callback=null,y=p.priorityLevel;var Te=ye(p.expirationTime<=q);q=t.unstable_now(),typeof Te=="function"?p.callback=Te:p===n(u)&&r(u),I(q)}else r(u);p=n(u)}if(p!==null)var Ae=!0;else{var Wt=n(c);Wt!==null&&de(V,Wt.startTime-q),Ae=!1}return Ae}finally{p=null,y=G,_=!1}}var $=!1,S=null,v=-1,x=5,T=-1;function A(){return!(t.unstable_now()-T<x)}function k(){if(S!==null){var U=t.unstable_now();T=U;var q=!0;try{q=S(!0,U)}finally{q?C():($=!1,S=null)}}else $=!1}var C;if(typeof E=="function")C=function(){E(k)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,B=Ze.port2;Ze.port1.onmessage=k,C=function(){B.postMessage(null)}}else C=function(){N(k,0)};function ke(U){S=U,$||($=!0,C())}function de(U,q){v=N(function(){U(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){R||_||(R=!0,ke(M))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(U){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var G=y;y=q;try{return U()}finally{y=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var G=y;y=U;try{return q()}finally{y=G}},t.unstable_scheduleCallback=function(U,q,G){var ye=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ye+G:ye):G=ye,U){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=G+Te,U={id:f++,callback:q,priorityLevel:U,startTime:G,expirationTime:Te,sortIndex:-1},G>ye?(U.sortIndex=G,e(c,U),n(u)===null&&U===n(c)&&(P?(m(v),v=-1):P=!0,de(V,G-ye))):(U.sortIndex=Te,e(u,U),R||_||(R=!0,ke(M))),U},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(U){var q=y;return function(){var G=y;y=q;try{return U.apply(this,arguments)}finally{y=G}}}})(Ng);kg.exports=Ng;var Iw=kg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cw=b,Jt=Iw;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bg=new Set,to={};function oi(t,e){qi(t,e),qi(t+"Capture",e)}function qi(t,e){for(to[t]=e,t=0;t<e.length;t++)bg.add(e[t])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dc=Object.prototype.hasOwnProperty,Aw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zf={},ep={};function Rw(t){return dc.call(ep,t)?!0:dc.call(Zf,t)?!1:Aw.test(t)?ep[t]=!0:(Zf[t]=!0,!1)}function Pw(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kw(t,e,n,r){if(e===null||typeof e>"u"||Pw(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_t[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_t[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_t[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_t[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_t[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_t[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_t[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_t[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_t[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var bd=/[\-:]([a-z])/g;function Od(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bd,Od);_t[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bd,Od);_t[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bd,Od);_t[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_t[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_t[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vd(t,e,n,r){var i=_t.hasOwnProperty(e)?_t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kw(e,n,i,r)&&(n=null),r||i===null?Rw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xn=Cw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ha=Symbol.for("react.element"),Ii=Symbol.for("react.portal"),Ci=Symbol.for("react.fragment"),Dd=Symbol.for("react.strict_mode"),hc=Symbol.for("react.profiler"),Og=Symbol.for("react.provider"),Vg=Symbol.for("react.context"),Md=Symbol.for("react.forward_ref"),fc=Symbol.for("react.suspense"),pc=Symbol.for("react.suspense_list"),Ld=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),Dg=Symbol.for("react.offscreen"),tp=Symbol.iterator;function Cs(t){return t===null||typeof t!="object"?null:(t=tp&&t[tp]||t["@@iterator"],typeof t=="function"?t:null)}var ze=Object.assign,Iu;function Ds(t){if(Iu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Iu=e&&e[1]||""}return`
`+Iu+t}var Cu=!1;function Au(t,e){if(!t||Cu)return"";Cu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Cu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ds(t):""}function Nw(t){switch(t.tag){case 5:return Ds(t.type);case 16:return Ds("Lazy");case 13:return Ds("Suspense");case 19:return Ds("SuspenseList");case 0:case 2:case 15:return t=Au(t.type,!1),t;case 11:return t=Au(t.type.render,!1),t;case 1:return t=Au(t.type,!0),t;default:return""}}function mc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ci:return"Fragment";case Ii:return"Portal";case hc:return"Profiler";case Dd:return"StrictMode";case fc:return"Suspense";case pc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Vg:return(t.displayName||"Context")+".Consumer";case Og:return(t._context.displayName||"Context")+".Provider";case Md:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ld:return e=t.displayName||null,e!==null?e:mc(t.type)||"Memo";case nr:e=t._payload,t=t._init;try{return mc(t(e))}catch{}}return null}function bw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mc(e);case 8:return e===Dd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Tr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ow(t){var e=Mg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fa(t){t._valueTracker||(t._valueTracker=Ow(t))}function Lg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Mg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ja(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gc(t,e){var n=e.checked;return ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function np(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Tr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jg(t,e){e=e.checked,e!=null&&Vd(t,"checked",e,!1)}function yc(t,e){jg(t,e);var n=Tr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vc(t,e.type,n):e.hasOwnProperty("defaultValue")&&vc(t,e.type,Tr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vc(t,e,n){(e!=="number"||Ja(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ms=Array.isArray;function Li(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Tr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _c(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ip(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(Ms(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Tr(n)}}function Fg(t,e){var n=Tr(e.value),r=Tr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function sp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $g(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$g(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pa,Ug=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pa=pa||document.createElement("div"),pa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function no(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vw=["Webkit","ms","Moz","O"];Object.keys(zs).forEach(function(t){Vw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zs[e]=zs[t]})});function zg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zs.hasOwnProperty(t)&&zs[t]?(""+e).trim():e+"px"}function Bg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Dw=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ec(t,e){if(e){if(Dw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function xc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tc=null;function jd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sc=null,ji=null,Fi=null;function op(t){if(t=Do(t)){if(typeof Sc!="function")throw Error(F(280));var e=t.stateNode;e&&(e=Ul(e),Sc(t.stateNode,t.type,e))}}function Wg(t){ji?Fi?Fi.push(t):Fi=[t]:ji=t}function qg(){if(ji){var t=ji,e=Fi;if(Fi=ji=null,op(t),e)for(t=0;t<e.length;t++)op(e[t])}}function Hg(t,e){return t(e)}function Kg(){}var Ru=!1;function Gg(t,e,n){if(Ru)return t(e,n);Ru=!0;try{return Hg(t,e,n)}finally{Ru=!1,(ji!==null||Fi!==null)&&(Kg(),qg())}}function ro(t,e){var n=t.stateNode;if(n===null)return null;var r=Ul(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var Ic=!1;if(Bn)try{var As={};Object.defineProperty(As,"passive",{get:function(){Ic=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{Ic=!1}function Mw(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Bs=!1,Za=null,el=!1,Cc=null,Lw={onError:function(t){Bs=!0,Za=t}};function jw(t,e,n,r,i,s,o,l,u){Bs=!1,Za=null,Mw.apply(Lw,arguments)}function Fw(t,e,n,r,i,s,o,l,u){if(jw.apply(this,arguments),Bs){if(Bs){var c=Za;Bs=!1,Za=null}else throw Error(F(198));el||(el=!0,Cc=c)}}function ai(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Qg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ap(t){if(ai(t)!==t)throw Error(F(188))}function $w(t){var e=t.alternate;if(!e){if(e=ai(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ap(i),t;if(s===r)return ap(i),e;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function Xg(t){return t=$w(t),t!==null?Yg(t):null}function Yg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Yg(t);if(e!==null)return e;t=t.sibling}return null}var Jg=Jt.unstable_scheduleCallback,lp=Jt.unstable_cancelCallback,Uw=Jt.unstable_shouldYield,zw=Jt.unstable_requestPaint,Ge=Jt.unstable_now,Bw=Jt.unstable_getCurrentPriorityLevel,Fd=Jt.unstable_ImmediatePriority,Zg=Jt.unstable_UserBlockingPriority,tl=Jt.unstable_NormalPriority,Ww=Jt.unstable_LowPriority,ey=Jt.unstable_IdlePriority,Ll=null,An=null;function qw(t){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Ll,t,void 0,(t.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:Gw,Hw=Math.log,Kw=Math.LN2;function Gw(t){return t>>>=0,t===0?32:31-(Hw(t)/Kw|0)|0}var ma=64,ga=4194304;function Ls(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Ls(l):(s&=o,s!==0&&(r=Ls(s)))}else o=n&~i,o!==0?r=Ls(o):s!==0&&(r=Ls(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_n(e),i=1<<n,r|=t[n],e&=~i;return r}function Qw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-_n(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=Qw(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Ac(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ty(){var t=ma;return ma<<=1,!(ma&4194240)&&(ma=64),t}function Pu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Oo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_n(e),t[e]=n}function Yw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_n(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function $d(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_n(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ie=0;function ny(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ry,Ud,iy,sy,oy,Rc=!1,ya=[],cr=null,dr=null,hr=null,io=new Map,so=new Map,ir=[],Jw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function up(t,e){switch(t){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":io.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":so.delete(e.pointerId)}}function Rs(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Do(e),e!==null&&Ud(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Zw(t,e,n,r,i){switch(e){case"focusin":return cr=Rs(cr,t,e,n,r,i),!0;case"dragenter":return dr=Rs(dr,t,e,n,r,i),!0;case"mouseover":return hr=Rs(hr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return io.set(s,Rs(io.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,so.set(s,Rs(so.get(s)||null,t,e,n,r,i)),!0}return!1}function ay(t){var e=Wr(t.target);if(e!==null){var n=ai(e);if(n!==null){if(e=n.tag,e===13){if(e=Qg(n),e!==null){t.blockedOn=e,oy(t.priority,function(){iy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ja(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Tc=r,n.target.dispatchEvent(r),Tc=null}else return e=Do(n),e!==null&&Ud(e),t.blockedOn=n,!1;e.shift()}return!0}function cp(t,e,n){ja(t)&&n.delete(e)}function eE(){Rc=!1,cr!==null&&ja(cr)&&(cr=null),dr!==null&&ja(dr)&&(dr=null),hr!==null&&ja(hr)&&(hr=null),io.forEach(cp),so.forEach(cp)}function Ps(t,e){t.blockedOn===e&&(t.blockedOn=null,Rc||(Rc=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,eE)))}function oo(t){function e(i){return Ps(i,t)}if(0<ya.length){Ps(ya[0],t);for(var n=1;n<ya.length;n++){var r=ya[n];r.blockedOn===t&&(r.blockedOn=null)}}for(cr!==null&&Ps(cr,t),dr!==null&&Ps(dr,t),hr!==null&&Ps(hr,t),io.forEach(e),so.forEach(e),n=0;n<ir.length;n++)r=ir[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ir.length&&(n=ir[0],n.blockedOn===null);)ay(n),n.blockedOn===null&&ir.shift()}var $i=Xn.ReactCurrentBatchConfig,rl=!0;function tE(t,e,n,r){var i=Ie,s=$i.transition;$i.transition=null;try{Ie=1,zd(t,e,n,r)}finally{Ie=i,$i.transition=s}}function nE(t,e,n,r){var i=Ie,s=$i.transition;$i.transition=null;try{Ie=4,zd(t,e,n,r)}finally{Ie=i,$i.transition=s}}function zd(t,e,n,r){if(rl){var i=Pc(t,e,n,r);if(i===null)Fu(t,e,r,il,n),up(t,r);else if(Zw(i,t,e,n,r))r.stopPropagation();else if(up(t,r),e&4&&-1<Jw.indexOf(t)){for(;i!==null;){var s=Do(i);if(s!==null&&ry(s),s=Pc(t,e,n,r),s===null&&Fu(t,e,r,il,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Fu(t,e,r,null,n)}}var il=null;function Pc(t,e,n,r){if(il=null,t=jd(r),t=Wr(t),t!==null)if(e=ai(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Qg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return il=t,null}function ly(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bw()){case Fd:return 1;case Zg:return 4;case tl:case Ww:return 16;case ey:return 536870912;default:return 16}default:return 16}}var or=null,Bd=null,Fa=null;function uy(){if(Fa)return Fa;var t,e=Bd,n=e.length,r,i="value"in or?or.value:or.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Fa=i.slice(t,1<r?1-r:void 0)}function $a(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function va(){return!0}function dp(){return!1}function en(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?va:dp,this.isPropagationStopped=dp,this}return ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=va)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=va)},persist:function(){},isPersistent:va}),e}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wd=en(os),Vo=ze({},os,{view:0,detail:0}),rE=en(Vo),ku,Nu,ks,jl=ze({},Vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ks&&(ks&&t.type==="mousemove"?(ku=t.screenX-ks.screenX,Nu=t.screenY-ks.screenY):Nu=ku=0,ks=t),ku)},movementY:function(t){return"movementY"in t?t.movementY:Nu}}),hp=en(jl),iE=ze({},jl,{dataTransfer:0}),sE=en(iE),oE=ze({},Vo,{relatedTarget:0}),bu=en(oE),aE=ze({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),lE=en(aE),uE=ze({},os,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cE=en(uE),dE=ze({},os,{data:0}),fp=en(dE),hE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pE[t])?!!e[t]:!1}function qd(){return mE}var gE=ze({},Vo,{key:function(t){if(t.key){var e=hE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$a(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qd,charCode:function(t){return t.type==="keypress"?$a(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$a(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yE=en(gE),vE=ze({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pp=en(vE),_E=ze({},Vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qd}),wE=en(_E),EE=ze({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),xE=en(EE),TE=ze({},jl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),SE=en(TE),IE=[9,13,27,32],Hd=Bn&&"CompositionEvent"in window,Ws=null;Bn&&"documentMode"in document&&(Ws=document.documentMode);var CE=Bn&&"TextEvent"in window&&!Ws,cy=Bn&&(!Hd||Ws&&8<Ws&&11>=Ws),mp=" ",gp=!1;function dy(t,e){switch(t){case"keyup":return IE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ai=!1;function AE(t,e){switch(t){case"compositionend":return hy(e);case"keypress":return e.which!==32?null:(gp=!0,mp);case"textInput":return t=e.data,t===mp&&gp?null:t;default:return null}}function RE(t,e){if(Ai)return t==="compositionend"||!Hd&&dy(t,e)?(t=uy(),Fa=Bd=or=null,Ai=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cy&&e.locale!=="ko"?null:e.data;default:return null}}var PE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PE[t.type]:e==="textarea"}function fy(t,e,n,r){Wg(r),e=sl(e,"onChange"),0<e.length&&(n=new Wd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qs=null,ao=null;function kE(t){Sy(t,0)}function Fl(t){var e=ki(t);if(Lg(e))return t}function NE(t,e){if(t==="change")return e}var py=!1;if(Bn){var Ou;if(Bn){var Vu="oninput"in document;if(!Vu){var vp=document.createElement("div");vp.setAttribute("oninput","return;"),Vu=typeof vp.oninput=="function"}Ou=Vu}else Ou=!1;py=Ou&&(!document.documentMode||9<document.documentMode)}function _p(){qs&&(qs.detachEvent("onpropertychange",my),ao=qs=null)}function my(t){if(t.propertyName==="value"&&Fl(ao)){var e=[];fy(e,ao,t,jd(t)),Gg(kE,e)}}function bE(t,e,n){t==="focusin"?(_p(),qs=e,ao=n,qs.attachEvent("onpropertychange",my)):t==="focusout"&&_p()}function OE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fl(ao)}function VE(t,e){if(t==="click")return Fl(e)}function DE(t,e){if(t==="input"||t==="change")return Fl(e)}function ME(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var En=typeof Object.is=="function"?Object.is:ME;function lo(t,e){if(En(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!dc.call(e,i)||!En(t[i],e[i]))return!1}return!0}function wp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ep(t,e){var n=wp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wp(n)}}function gy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yy(){for(var t=window,e=Ja();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ja(t.document)}return e}function Kd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function LE(t){var e=yy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gy(n.ownerDocument.documentElement,n)){if(r!==null&&Kd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ep(n,s);var o=Ep(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jE=Bn&&"documentMode"in document&&11>=document.documentMode,Ri=null,kc=null,Hs=null,Nc=!1;function xp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nc||Ri==null||Ri!==Ja(r)||(r=Ri,"selectionStart"in r&&Kd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hs&&lo(Hs,r)||(Hs=r,r=sl(kc,"onSelect"),0<r.length&&(e=new Wd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ri)))}function _a(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pi={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionend:_a("Transition","TransitionEnd")},Du={},vy={};Bn&&(vy=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function $l(t){if(Du[t])return Du[t];if(!Pi[t])return t;var e=Pi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vy)return Du[t]=e[n];return t}var _y=$l("animationend"),wy=$l("animationiteration"),Ey=$l("animationstart"),xy=$l("transitionend"),Ty=new Map,Tp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(t,e){Ty.set(t,e),oi(e,[t])}for(var Mu=0;Mu<Tp.length;Mu++){var Lu=Tp[Mu],FE=Lu.toLowerCase(),$E=Lu[0].toUpperCase()+Lu.slice(1);Rr(FE,"on"+$E)}Rr(_y,"onAnimationEnd");Rr(wy,"onAnimationIteration");Rr(Ey,"onAnimationStart");Rr("dblclick","onDoubleClick");Rr("focusin","onFocus");Rr("focusout","onBlur");Rr(xy,"onTransitionEnd");qi("onMouseEnter",["mouseout","mouseover"]);qi("onMouseLeave",["mouseout","mouseover"]);qi("onPointerEnter",["pointerout","pointerover"]);qi("onPointerLeave",["pointerout","pointerover"]);oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UE=new Set("cancel close invalid load scroll toggle".split(" ").concat(js));function Sp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Fw(r,e,void 0,t),t.currentTarget=null}function Sy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Sp(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Sp(i,l,c),s=u}}}if(el)throw t=Cc,el=!1,Cc=null,t}function Ve(t,e){var n=e[Mc];n===void 0&&(n=e[Mc]=new Set);var r=t+"__bubble";n.has(r)||(Iy(e,t,2,!1),n.add(r))}function ju(t,e,n){var r=0;e&&(r|=4),Iy(n,t,r,e)}var wa="_reactListening"+Math.random().toString(36).slice(2);function uo(t){if(!t[wa]){t[wa]=!0,bg.forEach(function(n){n!=="selectionchange"&&(UE.has(n)||ju(n,!1,t),ju(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wa]||(e[wa]=!0,ju("selectionchange",!1,e))}}function Iy(t,e,n,r){switch(ly(e)){case 1:var i=tE;break;case 4:i=nE;break;default:i=zd}n=i.bind(null,e,n,t),i=void 0,!Ic||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Fu(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Wr(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Gg(function(){var c=s,f=jd(n),p=[];e:{var y=Ty.get(t);if(y!==void 0){var _=Wd,R=t;switch(t){case"keypress":if($a(n)===0)break e;case"keydown":case"keyup":_=yE;break;case"focusin":R="focus",_=bu;break;case"focusout":R="blur",_=bu;break;case"beforeblur":case"afterblur":_=bu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=hp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=sE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=wE;break;case _y:case wy:case Ey:_=lE;break;case xy:_=xE;break;case"scroll":_=rE;break;case"wheel":_=SE;break;case"copy":case"cut":case"paste":_=cE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=pp}var P=(e&4)!==0,N=!P&&t==="scroll",m=P?y!==null?y+"Capture":null:y;P=[];for(var E=c,I;E!==null;){I=E;var V=I.stateNode;if(I.tag===5&&V!==null&&(I=V,m!==null&&(V=ro(E,m),V!=null&&P.push(co(E,V,I)))),N)break;E=E.return}0<P.length&&(y=new _(y,R,null,n,f),p.push({event:y,listeners:P}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",y&&n!==Tc&&(R=n.relatedTarget||n.fromElement)&&(Wr(R)||R[Wn]))break e;if((_||y)&&(y=f.window===f?f:(y=f.ownerDocument)?y.defaultView||y.parentWindow:window,_?(R=n.relatedTarget||n.toElement,_=c,R=R?Wr(R):null,R!==null&&(N=ai(R),R!==N||R.tag!==5&&R.tag!==6)&&(R=null)):(_=null,R=c),_!==R)){if(P=hp,V="onMouseLeave",m="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(P=pp,V="onPointerLeave",m="onPointerEnter",E="pointer"),N=_==null?y:ki(_),I=R==null?y:ki(R),y=new P(V,E+"leave",_,n,f),y.target=N,y.relatedTarget=I,V=null,Wr(f)===c&&(P=new P(m,E+"enter",R,n,f),P.target=I,P.relatedTarget=N,V=P),N=V,_&&R)t:{for(P=_,m=R,E=0,I=P;I;I=wi(I))E++;for(I=0,V=m;V;V=wi(V))I++;for(;0<E-I;)P=wi(P),E--;for(;0<I-E;)m=wi(m),I--;for(;E--;){if(P===m||m!==null&&P===m.alternate)break t;P=wi(P),m=wi(m)}P=null}else P=null;_!==null&&Ip(p,y,_,P,!1),R!==null&&N!==null&&Ip(p,N,R,P,!0)}}e:{if(y=c?ki(c):window,_=y.nodeName&&y.nodeName.toLowerCase(),_==="select"||_==="input"&&y.type==="file")var M=NE;else if(yp(y))if(py)M=DE;else{M=OE;var $=bE}else(_=y.nodeName)&&_.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(M=VE);if(M&&(M=M(t,c))){fy(p,M,n,f);break e}$&&$(t,y,c),t==="focusout"&&($=y._wrapperState)&&$.controlled&&y.type==="number"&&vc(y,"number",y.value)}switch($=c?ki(c):window,t){case"focusin":(yp($)||$.contentEditable==="true")&&(Ri=$,kc=c,Hs=null);break;case"focusout":Hs=kc=Ri=null;break;case"mousedown":Nc=!0;break;case"contextmenu":case"mouseup":case"dragend":Nc=!1,xp(p,n,f);break;case"selectionchange":if(jE)break;case"keydown":case"keyup":xp(p,n,f)}var S;if(Hd)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ai?dy(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(cy&&n.locale!=="ko"&&(Ai||v!=="onCompositionStart"?v==="onCompositionEnd"&&Ai&&(S=uy()):(or=f,Bd="value"in or?or.value:or.textContent,Ai=!0)),$=sl(c,v),0<$.length&&(v=new fp(v,t,null,n,f),p.push({event:v,listeners:$}),S?v.data=S:(S=hy(n),S!==null&&(v.data=S)))),(S=CE?AE(t,n):RE(t,n))&&(c=sl(c,"onBeforeInput"),0<c.length&&(f=new fp("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:c}),f.data=S))}Sy(p,e)})}function co(t,e,n){return{instance:t,listener:e,currentTarget:n}}function sl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ro(t,n),s!=null&&r.unshift(co(t,s,i)),s=ro(t,e),s!=null&&r.push(co(t,s,i))),t=t.return}return r}function wi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ip(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=ro(n,s),u!=null&&o.unshift(co(n,u,l))):i||(u=ro(n,s),u!=null&&o.push(co(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var zE=/\r\n?/g,BE=/\u0000|\uFFFD/g;function Cp(t){return(typeof t=="string"?t:""+t).replace(zE,`
`).replace(BE,"")}function Ea(t,e,n){if(e=Cp(e),Cp(t)!==e&&n)throw Error(F(425))}function ol(){}var bc=null,Oc=null;function Vc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dc=typeof setTimeout=="function"?setTimeout:void 0,WE=typeof clearTimeout=="function"?clearTimeout:void 0,Ap=typeof Promise=="function"?Promise:void 0,qE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ap<"u"?function(t){return Ap.resolve(null).then(t).catch(HE)}:Dc;function HE(t){setTimeout(function(){throw t})}function $u(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),oo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);oo(e)}function fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Rp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var as=Math.random().toString(36).slice(2),Cn="__reactFiber$"+as,ho="__reactProps$"+as,Wn="__reactContainer$"+as,Mc="__reactEvents$"+as,KE="__reactListeners$"+as,GE="__reactHandles$"+as;function Wr(t){var e=t[Cn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wn]||n[Cn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Rp(t);t!==null;){if(n=t[Cn])return n;t=Rp(t)}return e}t=n,n=t.parentNode}return null}function Do(t){return t=t[Cn]||t[Wn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ki(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function Ul(t){return t[ho]||null}var Lc=[],Ni=-1;function Pr(t){return{current:t}}function De(t){0>Ni||(t.current=Lc[Ni],Lc[Ni]=null,Ni--)}function Pe(t,e){Ni++,Lc[Ni]=t.current,t.current=e}var Sr={},Nt=Pr(Sr),Ut=Pr(!1),Jr=Sr;function Hi(t,e){var n=t.type.contextTypes;if(!n)return Sr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zt(t){return t=t.childContextTypes,t!=null}function al(){De(Ut),De(Nt)}function Pp(t,e,n){if(Nt.current!==Sr)throw Error(F(168));Pe(Nt,e),Pe(Ut,n)}function Cy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,bw(t)||"Unknown",i));return ze({},n,r)}function ll(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Sr,Jr=Nt.current,Pe(Nt,t),Pe(Ut,Ut.current),!0}function kp(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=Cy(t,e,Jr),r.__reactInternalMemoizedMergedChildContext=t,De(Ut),De(Nt),Pe(Nt,t)):De(Ut),Pe(Ut,n)}var Ln=null,zl=!1,Uu=!1;function Ay(t){Ln===null?Ln=[t]:Ln.push(t)}function QE(t){zl=!0,Ay(t)}function kr(){if(!Uu&&Ln!==null){Uu=!0;var t=0,e=Ie;try{var n=Ln;for(Ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ln=null,zl=!1}catch(i){throw Ln!==null&&(Ln=Ln.slice(t+1)),Jg(Fd,kr),i}finally{Ie=e,Uu=!1}}return null}var bi=[],Oi=0,ul=null,cl=0,rn=[],sn=0,Zr=null,jn=1,Fn="";function Fr(t,e){bi[Oi++]=cl,bi[Oi++]=ul,ul=t,cl=e}function Ry(t,e,n){rn[sn++]=jn,rn[sn++]=Fn,rn[sn++]=Zr,Zr=t;var r=jn;t=Fn;var i=32-_n(r)-1;r&=~(1<<i),n+=1;var s=32-_n(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,jn=1<<32-_n(e)+i|n<<i|r,Fn=s+t}else jn=1<<s|n<<i|r,Fn=t}function Gd(t){t.return!==null&&(Fr(t,1),Ry(t,1,0))}function Qd(t){for(;t===ul;)ul=bi[--Oi],bi[Oi]=null,cl=bi[--Oi],bi[Oi]=null;for(;t===Zr;)Zr=rn[--sn],rn[sn]=null,Fn=rn[--sn],rn[sn]=null,jn=rn[--sn],rn[sn]=null}var Xt=null,Qt=null,Me=!1,yn=null;function Py(t,e){var n=an(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Np(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xt=t,Qt=fr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xt=t,Qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zr!==null?{id:jn,overflow:Fn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=an(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xt=t,Qt=null,!0):!1;default:return!1}}function jc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fc(t){if(Me){var e=Qt;if(e){var n=e;if(!Np(t,e)){if(jc(t))throw Error(F(418));e=fr(n.nextSibling);var r=Xt;e&&Np(t,e)?Py(r,n):(t.flags=t.flags&-4097|2,Me=!1,Xt=t)}}else{if(jc(t))throw Error(F(418));t.flags=t.flags&-4097|2,Me=!1,Xt=t}}}function bp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xt=t}function xa(t){if(t!==Xt)return!1;if(!Me)return bp(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vc(t.type,t.memoizedProps)),e&&(e=Qt)){if(jc(t))throw ky(),Error(F(418));for(;e;)Py(t,e),e=fr(e.nextSibling)}if(bp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qt=fr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qt=null}}else Qt=Xt?fr(t.stateNode.nextSibling):null;return!0}function ky(){for(var t=Qt;t;)t=fr(t.nextSibling)}function Ki(){Qt=Xt=null,Me=!1}function Xd(t){yn===null?yn=[t]:yn.push(t)}var XE=Xn.ReactCurrentBatchConfig;function Ns(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function Ta(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Op(t){var e=t._init;return e(t._payload)}function Ny(t){function e(m,E){if(t){var I=m.deletions;I===null?(m.deletions=[E],m.flags|=16):I.push(E)}}function n(m,E){if(!t)return null;for(;E!==null;)e(m,E),E=E.sibling;return null}function r(m,E){for(m=new Map;E!==null;)E.key!==null?m.set(E.key,E):m.set(E.index,E),E=E.sibling;return m}function i(m,E){return m=yr(m,E),m.index=0,m.sibling=null,m}function s(m,E,I){return m.index=I,t?(I=m.alternate,I!==null?(I=I.index,I<E?(m.flags|=2,E):I):(m.flags|=2,E)):(m.flags|=1048576,E)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,E,I,V){return E===null||E.tag!==6?(E=Gu(I,m.mode,V),E.return=m,E):(E=i(E,I),E.return=m,E)}function u(m,E,I,V){var M=I.type;return M===Ci?f(m,E,I.props.children,V,I.key):E!==null&&(E.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===nr&&Op(M)===E.type)?(V=i(E,I.props),V.ref=Ns(m,E,I),V.return=m,V):(V=Ka(I.type,I.key,I.props,null,m.mode,V),V.ref=Ns(m,E,I),V.return=m,V)}function c(m,E,I,V){return E===null||E.tag!==4||E.stateNode.containerInfo!==I.containerInfo||E.stateNode.implementation!==I.implementation?(E=Qu(I,m.mode,V),E.return=m,E):(E=i(E,I.children||[]),E.return=m,E)}function f(m,E,I,V,M){return E===null||E.tag!==7?(E=Qr(I,m.mode,V,M),E.return=m,E):(E=i(E,I),E.return=m,E)}function p(m,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Gu(""+E,m.mode,I),E.return=m,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ha:return I=Ka(E.type,E.key,E.props,null,m.mode,I),I.ref=Ns(m,null,E),I.return=m,I;case Ii:return E=Qu(E,m.mode,I),E.return=m,E;case nr:var V=E._init;return p(m,V(E._payload),I)}if(Ms(E)||Cs(E))return E=Qr(E,m.mode,I,null),E.return=m,E;Ta(m,E)}return null}function y(m,E,I,V){var M=E!==null?E.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return M!==null?null:l(m,E,""+I,V);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ha:return I.key===M?u(m,E,I,V):null;case Ii:return I.key===M?c(m,E,I,V):null;case nr:return M=I._init,y(m,E,M(I._payload),V)}if(Ms(I)||Cs(I))return M!==null?null:f(m,E,I,V,null);Ta(m,I)}return null}function _(m,E,I,V,M){if(typeof V=="string"&&V!==""||typeof V=="number")return m=m.get(I)||null,l(E,m,""+V,M);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case ha:return m=m.get(V.key===null?I:V.key)||null,u(E,m,V,M);case Ii:return m=m.get(V.key===null?I:V.key)||null,c(E,m,V,M);case nr:var $=V._init;return _(m,E,I,$(V._payload),M)}if(Ms(V)||Cs(V))return m=m.get(I)||null,f(E,m,V,M,null);Ta(E,V)}return null}function R(m,E,I,V){for(var M=null,$=null,S=E,v=E=0,x=null;S!==null&&v<I.length;v++){S.index>v?(x=S,S=null):x=S.sibling;var T=y(m,S,I[v],V);if(T===null){S===null&&(S=x);break}t&&S&&T.alternate===null&&e(m,S),E=s(T,E,v),$===null?M=T:$.sibling=T,$=T,S=x}if(v===I.length)return n(m,S),Me&&Fr(m,v),M;if(S===null){for(;v<I.length;v++)S=p(m,I[v],V),S!==null&&(E=s(S,E,v),$===null?M=S:$.sibling=S,$=S);return Me&&Fr(m,v),M}for(S=r(m,S);v<I.length;v++)x=_(S,m,v,I[v],V),x!==null&&(t&&x.alternate!==null&&S.delete(x.key===null?v:x.key),E=s(x,E,v),$===null?M=x:$.sibling=x,$=x);return t&&S.forEach(function(A){return e(m,A)}),Me&&Fr(m,v),M}function P(m,E,I,V){var M=Cs(I);if(typeof M!="function")throw Error(F(150));if(I=M.call(I),I==null)throw Error(F(151));for(var $=M=null,S=E,v=E=0,x=null,T=I.next();S!==null&&!T.done;v++,T=I.next()){S.index>v?(x=S,S=null):x=S.sibling;var A=y(m,S,T.value,V);if(A===null){S===null&&(S=x);break}t&&S&&A.alternate===null&&e(m,S),E=s(A,E,v),$===null?M=A:$.sibling=A,$=A,S=x}if(T.done)return n(m,S),Me&&Fr(m,v),M;if(S===null){for(;!T.done;v++,T=I.next())T=p(m,T.value,V),T!==null&&(E=s(T,E,v),$===null?M=T:$.sibling=T,$=T);return Me&&Fr(m,v),M}for(S=r(m,S);!T.done;v++,T=I.next())T=_(S,m,v,T.value,V),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?v:T.key),E=s(T,E,v),$===null?M=T:$.sibling=T,$=T);return t&&S.forEach(function(k){return e(m,k)}),Me&&Fr(m,v),M}function N(m,E,I,V){if(typeof I=="object"&&I!==null&&I.type===Ci&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case ha:e:{for(var M=I.key,$=E;$!==null;){if($.key===M){if(M=I.type,M===Ci){if($.tag===7){n(m,$.sibling),E=i($,I.props.children),E.return=m,m=E;break e}}else if($.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===nr&&Op(M)===$.type){n(m,$.sibling),E=i($,I.props),E.ref=Ns(m,$,I),E.return=m,m=E;break e}n(m,$);break}else e(m,$);$=$.sibling}I.type===Ci?(E=Qr(I.props.children,m.mode,V,I.key),E.return=m,m=E):(V=Ka(I.type,I.key,I.props,null,m.mode,V),V.ref=Ns(m,E,I),V.return=m,m=V)}return o(m);case Ii:e:{for($=I.key;E!==null;){if(E.key===$)if(E.tag===4&&E.stateNode.containerInfo===I.containerInfo&&E.stateNode.implementation===I.implementation){n(m,E.sibling),E=i(E,I.children||[]),E.return=m,m=E;break e}else{n(m,E);break}else e(m,E);E=E.sibling}E=Qu(I,m.mode,V),E.return=m,m=E}return o(m);case nr:return $=I._init,N(m,E,$(I._payload),V)}if(Ms(I))return R(m,E,I,V);if(Cs(I))return P(m,E,I,V);Ta(m,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,E!==null&&E.tag===6?(n(m,E.sibling),E=i(E,I),E.return=m,m=E):(n(m,E),E=Gu(I,m.mode,V),E.return=m,m=E),o(m)):n(m,E)}return N}var Gi=Ny(!0),by=Ny(!1),dl=Pr(null),hl=null,Vi=null,Yd=null;function Jd(){Yd=Vi=hl=null}function Zd(t){var e=dl.current;De(dl),t._currentValue=e}function $c(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ui(t,e){hl=t,Yd=Vi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($t=!0),t.firstContext=null)}function un(t){var e=t._currentValue;if(Yd!==t)if(t={context:t,memoizedValue:e,next:null},Vi===null){if(hl===null)throw Error(F(308));Vi=t,hl.dependencies={lanes:0,firstContext:t}}else Vi=Vi.next=t;return e}var qr=null;function eh(t){qr===null?qr=[t]:qr.push(t)}function Oy(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,eh(e)):(n.next=i.next,i.next=n),e.interleaved=n,qn(t,r)}function qn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rr=!1;function th(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $n(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,qn(t,n)}return i=r.interleaved,i===null?(e.next=e,eh(r)):(e.next=i.next,i.next=e),r.interleaved=e,qn(t,n)}function Ua(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$d(t,n)}}function Vp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fl(t,e,n,r){var i=t.updateQueue;rr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,f=c=u=null,l=s;do{var y=l.lane,_=l.eventTime;if((r&y)===y){f!==null&&(f=f.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var R=t,P=l;switch(y=e,_=n,P.tag){case 1:if(R=P.payload,typeof R=="function"){p=R.call(_,p,y);break e}p=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=P.payload,y=typeof R=="function"?R.call(_,p,y):R,y==null)break e;p=ze({},p,y);break e;case 2:rr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[l]:y.push(l))}else _={eventTime:_,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=_,u=p):f=f.next=_,o|=y;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;y=l,l=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(f===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ti|=o,t.lanes=o,t.memoizedState=p}}function Dp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var Mo={},Rn=Pr(Mo),fo=Pr(Mo),po=Pr(Mo);function Hr(t){if(t===Mo)throw Error(F(174));return t}function nh(t,e){switch(Pe(po,e),Pe(fo,t),Pe(Rn,Mo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wc(e,t)}De(Rn),Pe(Rn,e)}function Qi(){De(Rn),De(fo),De(po)}function Dy(t){Hr(po.current);var e=Hr(Rn.current),n=wc(e,t.type);e!==n&&(Pe(fo,t),Pe(Rn,n))}function rh(t){fo.current===t&&(De(Rn),De(fo))}var $e=Pr(0);function pl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zu=[];function ih(){for(var t=0;t<zu.length;t++)zu[t]._workInProgressVersionPrimary=null;zu.length=0}var za=Xn.ReactCurrentDispatcher,Bu=Xn.ReactCurrentBatchConfig,ei=0,Ue=null,tt=null,lt=null,ml=!1,Ks=!1,mo=0,YE=0;function It(){throw Error(F(321))}function sh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!En(t[n],e[n]))return!1;return!0}function oh(t,e,n,r,i,s){if(ei=s,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,za.current=t===null||t.memoizedState===null?tx:nx,t=n(r,i),Ks){s=0;do{if(Ks=!1,mo=0,25<=s)throw Error(F(301));s+=1,lt=tt=null,e.updateQueue=null,za.current=rx,t=n(r,i)}while(Ks)}if(za.current=gl,e=tt!==null&&tt.next!==null,ei=0,lt=tt=Ue=null,ml=!1,e)throw Error(F(300));return t}function ah(){var t=mo!==0;return mo=0,t}function In(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Ue.memoizedState=lt=t:lt=lt.next=t,lt}function cn(){if(tt===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var e=lt===null?Ue.memoizedState:lt.next;if(e!==null)lt=e,tt=t;else{if(t===null)throw Error(F(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},lt===null?Ue.memoizedState=lt=t:lt=lt.next=t}return lt}function go(t,e){return typeof e=="function"?e(t):e}function Wu(t){var e=cn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=tt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var f=c.lane;if((ei&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,o=r):u=u.next=p,Ue.lanes|=f,ti|=f}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,En(r,e.memoizedState)||($t=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ue.lanes|=s,ti|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qu(t){var e=cn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);En(s,e.memoizedState)||($t=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function My(){}function Ly(t,e){var n=Ue,r=cn(),i=e(),s=!En(r.memoizedState,i);if(s&&(r.memoizedState=i,$t=!0),r=r.queue,lh($y.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,yo(9,Fy.bind(null,n,r,i,e),void 0,null),ut===null)throw Error(F(349));ei&30||jy(n,e,i)}return i}function jy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Fy(t,e,n,r){e.value=n,e.getSnapshot=r,Uy(e)&&zy(t)}function $y(t,e,n){return n(function(){Uy(e)&&zy(t)})}function Uy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!En(t,n)}catch{return!0}}function zy(t){var e=qn(t,1);e!==null&&wn(e,t,1,-1)}function Mp(t){var e=In();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:t},e.queue=t,t=t.dispatch=ex.bind(null,Ue,t),[e.memoizedState,t]}function yo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function By(){return cn().memoizedState}function Ba(t,e,n,r){var i=In();Ue.flags|=t,i.memoizedState=yo(1|e,n,void 0,r===void 0?null:r)}function Bl(t,e,n,r){var i=cn();r=r===void 0?null:r;var s=void 0;if(tt!==null){var o=tt.memoizedState;if(s=o.destroy,r!==null&&sh(r,o.deps)){i.memoizedState=yo(e,n,s,r);return}}Ue.flags|=t,i.memoizedState=yo(1|e,n,s,r)}function Lp(t,e){return Ba(8390656,8,t,e)}function lh(t,e){return Bl(2048,8,t,e)}function Wy(t,e){return Bl(4,2,t,e)}function qy(t,e){return Bl(4,4,t,e)}function Hy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ky(t,e,n){return n=n!=null?n.concat([t]):null,Bl(4,4,Hy.bind(null,e,t),n)}function uh(){}function Gy(t,e){var n=cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Qy(t,e){var n=cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Xy(t,e,n){return ei&21?(En(n,e)||(n=ty(),Ue.lanes|=n,ti|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$t=!0),t.memoizedState=n)}function JE(t,e){var n=Ie;Ie=n!==0&&4>n?n:4,t(!0);var r=Bu.transition;Bu.transition={};try{t(!1),e()}finally{Ie=n,Bu.transition=r}}function Yy(){return cn().memoizedState}function ZE(t,e,n){var r=gr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jy(t))Zy(e,n);else if(n=Oy(t,e,n,r),n!==null){var i=Vt();wn(n,t,r,i),ev(n,e,r)}}function ex(t,e,n){var r=gr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jy(t))Zy(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,En(l,o)){var u=e.interleaved;u===null?(i.next=i,eh(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Oy(t,e,i,r),n!==null&&(i=Vt(),wn(n,t,r,i),ev(n,e,r))}}function Jy(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function Zy(t,e){Ks=ml=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ev(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$d(t,n)}}var gl={readContext:un,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},tx={readContext:un,useCallback:function(t,e){return In().memoizedState=[t,e===void 0?null:e],t},useContext:un,useEffect:Lp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ba(4194308,4,Hy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ba(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ba(4,2,t,e)},useMemo:function(t,e){var n=In();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=In();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ZE.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=In();return t={current:t},e.memoizedState=t},useState:Mp,useDebugValue:uh,useDeferredValue:function(t){return In().memoizedState=t},useTransition:function(){var t=Mp(!1),e=t[0];return t=JE.bind(null,t[1]),In().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ue,i=In();if(Me){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),ut===null)throw Error(F(349));ei&30||jy(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Lp($y.bind(null,r,s,t),[t]),r.flags|=2048,yo(9,Fy.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=In(),e=ut.identifierPrefix;if(Me){var n=Fn,r=jn;n=(r&~(1<<32-_n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=mo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=YE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nx={readContext:un,useCallback:Gy,useContext:un,useEffect:lh,useImperativeHandle:Ky,useInsertionEffect:Wy,useLayoutEffect:qy,useMemo:Qy,useReducer:Wu,useRef:By,useState:function(){return Wu(go)},useDebugValue:uh,useDeferredValue:function(t){var e=cn();return Xy(e,tt.memoizedState,t)},useTransition:function(){var t=Wu(go)[0],e=cn().memoizedState;return[t,e]},useMutableSource:My,useSyncExternalStore:Ly,useId:Yy,unstable_isNewReconciler:!1},rx={readContext:un,useCallback:Gy,useContext:un,useEffect:lh,useImperativeHandle:Ky,useInsertionEffect:Wy,useLayoutEffect:qy,useMemo:Qy,useReducer:qu,useRef:By,useState:function(){return qu(go)},useDebugValue:uh,useDeferredValue:function(t){var e=cn();return tt===null?e.memoizedState=t:Xy(e,tt.memoizedState,t)},useTransition:function(){var t=qu(go)[0],e=cn().memoizedState;return[t,e]},useMutableSource:My,useSyncExternalStore:Ly,useId:Yy,unstable_isNewReconciler:!1};function mn(t,e){if(t&&t.defaultProps){e=ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Uc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wl={isMounted:function(t){return(t=t._reactInternals)?ai(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vt(),i=gr(t),s=$n(r,i);s.payload=e,n!=null&&(s.callback=n),e=pr(t,s,i),e!==null&&(wn(e,t,i,r),Ua(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vt(),i=gr(t),s=$n(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=pr(t,s,i),e!==null&&(wn(e,t,i,r),Ua(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vt(),r=gr(t),i=$n(n,r);i.tag=2,e!=null&&(i.callback=e),e=pr(t,i,r),e!==null&&(wn(e,t,r,n),Ua(e,t,r))}};function jp(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!lo(n,r)||!lo(i,s):!0}function tv(t,e,n){var r=!1,i=Sr,s=e.contextType;return typeof s=="object"&&s!==null?s=un(s):(i=zt(e)?Jr:Nt.current,r=e.contextTypes,s=(r=r!=null)?Hi(t,i):Sr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Fp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wl.enqueueReplaceState(e,e.state,null)}function zc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},th(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=un(s):(s=zt(e)?Jr:Nt.current,i.context=Hi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Uc(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wl.enqueueReplaceState(i,i.state,null),fl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xi(t,e){try{var n="",r=e;do n+=Nw(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Hu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ix=typeof WeakMap=="function"?WeakMap:Map;function nv(t,e,n){n=$n(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vl||(vl=!0,Zc=r),Bc(t,e)},n}function rv(t,e,n){n=$n(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Bc(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Bc(t,e),typeof r!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $p(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ix;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=vx.bind(null,t,e,n),e.then(t,t))}function Up(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zp(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$n(-1,1),e.tag=2,pr(n,e,1))),n.lanes|=1),t)}var sx=Xn.ReactCurrentOwner,$t=!1;function Ot(t,e,n,r){e.child=t===null?by(e,null,n,r):Gi(e,t.child,n,r)}function Bp(t,e,n,r,i){n=n.render;var s=e.ref;return Ui(e,i),r=oh(t,e,n,r,s,i),n=ah(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hn(t,e,i)):(Me&&n&&Gd(e),e.flags|=1,Ot(t,e,r,i),e.child)}function Wp(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!yh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,iv(t,e,s,r,i)):(t=Ka(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:lo,n(o,r)&&t.ref===e.ref)return Hn(t,e,i)}return e.flags|=1,t=yr(s,r),t.ref=e.ref,t.return=e,e.child=t}function iv(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(lo(s,r)&&t.ref===e.ref)if($t=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&($t=!0);else return e.lanes=t.lanes,Hn(t,e,i)}return Wc(t,e,n,r,i)}function sv(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Mi,Gt),Gt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(Mi,Gt),Gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Pe(Mi,Gt),Gt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Pe(Mi,Gt),Gt|=r;return Ot(t,e,i,n),e.child}function ov(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wc(t,e,n,r,i){var s=zt(n)?Jr:Nt.current;return s=Hi(e,s),Ui(e,i),n=oh(t,e,n,r,s,i),r=ah(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hn(t,e,i)):(Me&&r&&Gd(e),e.flags|=1,Ot(t,e,n,i),e.child)}function qp(t,e,n,r,i){if(zt(n)){var s=!0;ll(e)}else s=!1;if(Ui(e,i),e.stateNode===null)Wa(t,e),tv(e,n,r),zc(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=un(c):(c=zt(n)?Jr:Nt.current,c=Hi(e,c));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Fp(e,o,r,c),rr=!1;var y=e.memoizedState;o.state=y,fl(e,r,o,i),u=e.memoizedState,l!==r||y!==u||Ut.current||rr?(typeof f=="function"&&(Uc(e,n,f,r),u=e.memoizedState),(l=rr||jp(e,n,l,r,y,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Vy(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:mn(e.type,l),o.props=c,p=e.pendingProps,y=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=un(u):(u=zt(n)?Jr:Nt.current,u=Hi(e,u));var _=n.getDerivedStateFromProps;(f=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||y!==u)&&Fp(e,o,r,u),rr=!1,y=e.memoizedState,o.state=y,fl(e,r,o,i);var R=e.memoizedState;l!==p||y!==R||Ut.current||rr?(typeof _=="function"&&(Uc(e,n,_,r),R=e.memoizedState),(c=rr||jp(e,n,c,r,y,R,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,R,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,R,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=R),o.props=r,o.state=R,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return qc(t,e,n,r,s,i)}function qc(t,e,n,r,i,s){ov(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&kp(e,n,!1),Hn(t,e,s);r=e.stateNode,sx.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Gi(e,t.child,null,s),e.child=Gi(e,null,l,s)):Ot(t,e,l,s),e.memoizedState=r.state,i&&kp(e,n,!0),e.child}function av(t){var e=t.stateNode;e.pendingContext?Pp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Pp(t,e.context,!1),nh(t,e.containerInfo)}function Hp(t,e,n,r,i){return Ki(),Xd(i),e.flags|=256,Ot(t,e,n,r),e.child}var Hc={dehydrated:null,treeContext:null,retryLane:0};function Kc(t){return{baseLanes:t,cachePool:null,transitions:null}}function lv(t,e,n){var r=e.pendingProps,i=$e.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pe($e,i&1),t===null)return Fc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Kl(o,r,0,null),t=Qr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Kc(n),e.memoizedState=Hc,t):ch(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return ox(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=yr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=yr(l,s):(s=Qr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Kc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Hc,r}return s=t.child,t=s.sibling,r=yr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ch(t,e){return e=Kl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sa(t,e,n,r){return r!==null&&Xd(r),Gi(e,t.child,null,n),t=ch(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ox(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Hu(Error(F(422))),Sa(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Kl({mode:"visible",children:r.children},i,0,null),s=Qr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Gi(e,t.child,null,o),e.child.memoizedState=Kc(o),e.memoizedState=Hc,s);if(!(e.mode&1))return Sa(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(F(419)),r=Hu(s,r,void 0),Sa(t,e,o,r)}if(l=(o&t.childLanes)!==0,$t||l){if(r=ut,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qn(t,i),wn(r,t,i,-1))}return gh(),r=Hu(Error(F(421))),Sa(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_x.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Qt=fr(i.nextSibling),Xt=e,Me=!0,yn=null,t!==null&&(rn[sn++]=jn,rn[sn++]=Fn,rn[sn++]=Zr,jn=t.id,Fn=t.overflow,Zr=e),e=ch(e,r.children),e.flags|=4096,e)}function Kp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$c(t.return,e,n)}function Ku(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function uv(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ot(t,e,r.children,n),r=$e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kp(t,n,e);else if(t.tag===19)Kp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe($e,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&pl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ku(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&pl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ku(e,!0,n,null,s);break;case"together":Ku(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ti|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=yr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=yr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ax(t,e,n){switch(e.tag){case 3:av(e),Ki();break;case 5:Dy(e);break;case 1:zt(e.type)&&ll(e);break;case 4:nh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pe(dl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe($e,$e.current&1),e.flags|=128,null):n&e.child.childLanes?lv(t,e,n):(Pe($e,$e.current&1),t=Hn(t,e,n),t!==null?t.sibling:null);Pe($e,$e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe($e,$e.current),r)break;return null;case 22:case 23:return e.lanes=0,sv(t,e,n)}return Hn(t,e,n)}var cv,Gc,dv,hv;cv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gc=function(){};dv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hr(Rn.current);var s=null;switch(n){case"input":i=gc(t,i),r=gc(t,r),s=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),s=[];break;case"textarea":i=_c(t,i),r=_c(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ol)}Ec(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(to.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(to.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ve("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};hv=function(t,e,n,r){n!==r&&(e.flags|=4)};function bs(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lx(t,e,n){var r=e.pendingProps;switch(Qd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(e),null;case 1:return zt(e.type)&&al(),Ct(e),null;case 3:return r=e.stateNode,Qi(),De(Ut),De(Nt),ih(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yn!==null&&(nd(yn),yn=null))),Gc(t,e),Ct(e),null;case 5:rh(e);var i=Hr(po.current);if(n=e.type,t!==null&&e.stateNode!=null)dv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return Ct(e),null}if(t=Hr(Rn.current),xa(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Cn]=e,r[ho]=s,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<js.length;i++)Ve(js[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":np(r,s),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ve("invalid",r);break;case"textarea":ip(r,s),Ve("invalid",r)}Ec(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ea(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ea(r.textContent,l,t),i=["children",""+l]):to.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ve("scroll",r)}switch(n){case"input":fa(r),rp(r,s,!0);break;case"textarea":fa(r),sp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ol)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$g(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Cn]=e,t[ho]=r,cv(t,e,!1,!1),e.stateNode=t;e:{switch(o=xc(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),i=r;break;case"iframe":case"object":case"embed":Ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<js.length;i++)Ve(js[i],t);i=r;break;case"source":Ve("error",t),i=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),i=r;break;case"details":Ve("toggle",t),i=r;break;case"input":np(t,r),i=gc(t,r),Ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":ip(t,r),i=_c(t,r),Ve("invalid",t);break;default:i=r}Ec(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?Bg(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ug(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&no(t,u):typeof u=="number"&&no(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(to.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ve("scroll",t):u!=null&&Vd(t,s,u,o))}switch(n){case"input":fa(t),rp(t,r,!1);break;case"textarea":fa(t),sp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Tr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Li(t,!!r.multiple,s,!1):r.defaultValue!=null&&Li(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ol)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ct(e),null;case 6:if(t&&e.stateNode!=null)hv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=Hr(po.current),Hr(Rn.current),xa(e)){if(r=e.stateNode,n=e.memoizedProps,r[Cn]=e,(s=r.nodeValue!==n)&&(t=Xt,t!==null))switch(t.tag){case 3:Ea(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ea(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cn]=e,e.stateNode=r}return Ct(e),null;case 13:if(De($e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&Qt!==null&&e.mode&1&&!(e.flags&128))ky(),Ki(),e.flags|=98560,s=!1;else if(s=xa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[Cn]=e}else Ki(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ct(e),s=!1}else yn!==null&&(nd(yn),yn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$e.current&1?it===0&&(it=3):gh())),e.updateQueue!==null&&(e.flags|=4),Ct(e),null);case 4:return Qi(),Gc(t,e),t===null&&uo(e.stateNode.containerInfo),Ct(e),null;case 10:return Zd(e.type._context),Ct(e),null;case 17:return zt(e.type)&&al(),Ct(e),null;case 19:if(De($e),s=e.memoizedState,s===null)return Ct(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)bs(s,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=pl(t),o!==null){for(e.flags|=128,bs(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe($e,$e.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ge()>Yi&&(e.flags|=128,r=!0,bs(s,!1),e.lanes=4194304)}else{if(!r)if(t=pl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),bs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Me)return Ct(e),null}else 2*Ge()-s.renderingStartTime>Yi&&n!==1073741824&&(e.flags|=128,r=!0,bs(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ge(),e.sibling=null,n=$e.current,Pe($e,r?n&1|2:n&1),e):(Ct(e),null);case 22:case 23:return mh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gt&1073741824&&(Ct(e),e.subtreeFlags&6&&(e.flags|=8192)):Ct(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function ux(t,e){switch(Qd(e),e.tag){case 1:return zt(e.type)&&al(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qi(),De(Ut),De(Nt),ih(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rh(e),null;case 13:if(De($e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));Ki()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De($e),null;case 4:return Qi(),null;case 10:return Zd(e.type._context),null;case 22:case 23:return mh(),null;case 24:return null;default:return null}}var Ia=!1,Pt=!1,cx=typeof WeakSet=="function"?WeakSet:Set,H=null;function Di(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(t,e,r)}else n.current=null}function Qc(t,e,n){try{n()}catch(r){qe(t,e,r)}}var Gp=!1;function dx(t,e){if(bc=rl,t=yy(),Kd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,f=0,p=t,y=null;t:for(;;){for(var _;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(_=p.firstChild)!==null;)y=p,p=_;for(;;){if(p===t)break t;if(y===n&&++c===i&&(l=o),y===s&&++f===r&&(u=o),(_=p.nextSibling)!==null)break;p=y,y=p.parentNode}p=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Oc={focusedElem:t,selectionRange:n},rl=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var R=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var P=R.memoizedProps,N=R.memoizedState,m=e.stateNode,E=m.getSnapshotBeforeUpdate(e.elementType===e.type?P:mn(e.type,P),N);m.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(V){qe(e,e.return,V)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return R=Gp,Gp=!1,R}function Gs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qc(e,n,s)}i=i.next}while(i!==r)}}function ql(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fv(t){var e=t.alternate;e!==null&&(t.alternate=null,fv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cn],delete e[ho],delete e[Mc],delete e[KE],delete e[GE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pv(t){return t.tag===5||t.tag===3||t.tag===4}function Qp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ol));else if(r!==4&&(t=t.child,t!==null))for(Yc(t,e,n),t=t.sibling;t!==null;)Yc(t,e,n),t=t.sibling}function Jc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jc(t,e,n),t=t.sibling;t!==null;)Jc(t,e,n),t=t.sibling}var ft=null,gn=!1;function tr(t,e,n){for(n=n.child;n!==null;)mv(t,e,n),n=n.sibling}function mv(t,e,n){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Ll,n)}catch{}switch(n.tag){case 5:Pt||Di(n,e);case 6:var r=ft,i=gn;ft=null,tr(t,e,n),ft=r,gn=i,ft!==null&&(gn?(t=ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(gn?(t=ft,n=n.stateNode,t.nodeType===8?$u(t.parentNode,n):t.nodeType===1&&$u(t,n),oo(t)):$u(ft,n.stateNode));break;case 4:r=ft,i=gn,ft=n.stateNode.containerInfo,gn=!0,tr(t,e,n),ft=r,gn=i;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qc(n,e,o),i=i.next}while(i!==r)}tr(t,e,n);break;case 1:if(!Pt&&(Di(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){qe(n,e,l)}tr(t,e,n);break;case 21:tr(t,e,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,tr(t,e,n),Pt=r):tr(t,e,n);break;default:tr(t,e,n)}}function Xp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cx),e.forEach(function(r){var i=wx.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function pn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ft=l.stateNode,gn=!1;break e;case 3:ft=l.stateNode.containerInfo,gn=!0;break e;case 4:ft=l.stateNode.containerInfo,gn=!0;break e}l=l.return}if(ft===null)throw Error(F(160));mv(s,o,i),ft=null,gn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){qe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gv(e,t),e=e.sibling}function gv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pn(e,t),Sn(t),r&4){try{Gs(3,t,t.return),ql(3,t)}catch(P){qe(t,t.return,P)}try{Gs(5,t,t.return)}catch(P){qe(t,t.return,P)}}break;case 1:pn(e,t),Sn(t),r&512&&n!==null&&Di(n,n.return);break;case 5:if(pn(e,t),Sn(t),r&512&&n!==null&&Di(n,n.return),t.flags&32){var i=t.stateNode;try{no(i,"")}catch(P){qe(t,t.return,P)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&jg(i,s),xc(l,o);var c=xc(l,s);for(o=0;o<u.length;o+=2){var f=u[o],p=u[o+1];f==="style"?Bg(i,p):f==="dangerouslySetInnerHTML"?Ug(i,p):f==="children"?no(i,p):Vd(i,f,p,c)}switch(l){case"input":yc(i,s);break;case"textarea":Fg(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?Li(i,!!s.multiple,_,!1):y!==!!s.multiple&&(s.defaultValue!=null?Li(i,!!s.multiple,s.defaultValue,!0):Li(i,!!s.multiple,s.multiple?[]:"",!1))}i[ho]=s}catch(P){qe(t,t.return,P)}}break;case 6:if(pn(e,t),Sn(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(P){qe(t,t.return,P)}}break;case 3:if(pn(e,t),Sn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{oo(e.containerInfo)}catch(P){qe(t,t.return,P)}break;case 4:pn(e,t),Sn(t);break;case 13:pn(e,t),Sn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(fh=Ge())),r&4&&Xp(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Pt=(c=Pt)||f,pn(e,t),Pt=c):pn(e,t),Sn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(H=t,f=t.child;f!==null;){for(p=H=f;H!==null;){switch(y=H,_=y.child,y.tag){case 0:case 11:case 14:case 15:Gs(4,y,y.return);break;case 1:Di(y,y.return);var R=y.stateNode;if(typeof R.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,R.props=e.memoizedProps,R.state=e.memoizedState,R.componentWillUnmount()}catch(P){qe(r,n,P)}}break;case 5:Di(y,y.return);break;case 22:if(y.memoizedState!==null){Jp(p);continue}}_!==null?(_.return=y,H=_):Jp(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=zg("display",o))}catch(P){qe(t,t.return,P)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(P){qe(t,t.return,P)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:pn(e,t),Sn(t),r&4&&Xp(t);break;case 21:break;default:pn(e,t),Sn(t)}}function Sn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pv(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(no(i,""),r.flags&=-33);var s=Qp(t);Jc(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Qp(t);Yc(t,l,o);break;default:throw Error(F(161))}}catch(u){qe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hx(t,e,n){H=t,yv(t)}function yv(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var i=H,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ia;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Pt;l=Ia;var c=Pt;if(Ia=o,(Pt=u)&&!c)for(H=i;H!==null;)o=H,u=o.child,o.tag===22&&o.memoizedState!==null?Zp(i):u!==null?(u.return=o,H=u):Zp(i);for(;s!==null;)H=s,yv(s),s=s.sibling;H=i,Ia=l,Pt=c}Yp(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,H=s):Yp(t)}}function Yp(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pt||ql(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Dp(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Dp(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&oo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Pt||e.flags&512&&Xc(e)}catch(y){qe(e,e.return,y)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function Jp(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function Zp(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ql(4,e)}catch(u){qe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){qe(e,i,u)}}var s=e.return;try{Xc(e)}catch(u){qe(e,s,u)}break;case 5:var o=e.return;try{Xc(e)}catch(u){qe(e,o,u)}}}catch(u){qe(e,e.return,u)}if(e===t){H=null;break}var l=e.sibling;if(l!==null){l.return=e.return,H=l;break}H=e.return}}var fx=Math.ceil,yl=Xn.ReactCurrentDispatcher,dh=Xn.ReactCurrentOwner,ln=Xn.ReactCurrentBatchConfig,_e=0,ut=null,Je=null,yt=0,Gt=0,Mi=Pr(0),it=0,vo=null,ti=0,Hl=0,hh=0,Qs=null,Ft=null,fh=0,Yi=1/0,Mn=null,vl=!1,Zc=null,mr=null,Ca=!1,ar=null,_l=0,Xs=0,ed=null,qa=-1,Ha=0;function Vt(){return _e&6?Ge():qa!==-1?qa:qa=Ge()}function gr(t){return t.mode&1?_e&2&&yt!==0?yt&-yt:XE.transition!==null?(Ha===0&&(Ha=ty()),Ha):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:ly(t.type)),t):1}function wn(t,e,n,r){if(50<Xs)throw Xs=0,ed=null,Error(F(185));Oo(t,n,r),(!(_e&2)||t!==ut)&&(t===ut&&(!(_e&2)&&(Hl|=n),it===4&&sr(t,yt)),Bt(t,r),n===1&&_e===0&&!(e.mode&1)&&(Yi=Ge()+500,zl&&kr()))}function Bt(t,e){var n=t.callbackNode;Xw(t,e);var r=nl(t,t===ut?yt:0);if(r===0)n!==null&&lp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&lp(n),e===1)t.tag===0?QE(em.bind(null,t)):Ay(em.bind(null,t)),qE(function(){!(_e&6)&&kr()}),n=null;else{switch(ny(r)){case 1:n=Fd;break;case 4:n=Zg;break;case 16:n=tl;break;case 536870912:n=ey;break;default:n=tl}n=Iv(n,vv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vv(t,e){if(qa=-1,Ha=0,_e&6)throw Error(F(327));var n=t.callbackNode;if(zi()&&t.callbackNode!==n)return null;var r=nl(t,t===ut?yt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wl(t,r);else{e=r;var i=_e;_e|=2;var s=wv();(ut!==t||yt!==e)&&(Mn=null,Yi=Ge()+500,Gr(t,e));do try{gx();break}catch(l){_v(t,l)}while(!0);Jd(),yl.current=s,_e=i,Je!==null?e=0:(ut=null,yt=0,e=it)}if(e!==0){if(e===2&&(i=Ac(t),i!==0&&(r=i,e=td(t,i))),e===1)throw n=vo,Gr(t,0),sr(t,r),Bt(t,Ge()),n;if(e===6)sr(t,r);else{if(i=t.current.alternate,!(r&30)&&!px(i)&&(e=wl(t,r),e===2&&(s=Ac(t),s!==0&&(r=s,e=td(t,s))),e===1))throw n=vo,Gr(t,0),sr(t,r),Bt(t,Ge()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:$r(t,Ft,Mn);break;case 3:if(sr(t,r),(r&130023424)===r&&(e=fh+500-Ge(),10<e)){if(nl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Vt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Dc($r.bind(null,t,Ft,Mn),e);break}$r(t,Ft,Mn);break;case 4:if(sr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-_n(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fx(r/1960))-r,10<r){t.timeoutHandle=Dc($r.bind(null,t,Ft,Mn),r);break}$r(t,Ft,Mn);break;case 5:$r(t,Ft,Mn);break;default:throw Error(F(329))}}}return Bt(t,Ge()),t.callbackNode===n?vv.bind(null,t):null}function td(t,e){var n=Qs;return t.current.memoizedState.isDehydrated&&(Gr(t,e).flags|=256),t=wl(t,e),t!==2&&(e=Ft,Ft=n,e!==null&&nd(e)),t}function nd(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function px(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!En(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sr(t,e){for(e&=~hh,e&=~Hl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_n(e),r=1<<n;t[n]=-1,e&=~r}}function em(t){if(_e&6)throw Error(F(327));zi();var e=nl(t,0);if(!(e&1))return Bt(t,Ge()),null;var n=wl(t,e);if(t.tag!==0&&n===2){var r=Ac(t);r!==0&&(e=r,n=td(t,r))}if(n===1)throw n=vo,Gr(t,0),sr(t,e),Bt(t,Ge()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$r(t,Ft,Mn),Bt(t,Ge()),null}function ph(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(Yi=Ge()+500,zl&&kr())}}function ni(t){ar!==null&&ar.tag===0&&!(_e&6)&&zi();var e=_e;_e|=1;var n=ln.transition,r=Ie;try{if(ln.transition=null,Ie=1,t)return t()}finally{Ie=r,ln.transition=n,_e=e,!(_e&6)&&kr()}}function mh(){Gt=Mi.current,De(Mi)}function Gr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,WE(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Qd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&al();break;case 3:Qi(),De(Ut),De(Nt),ih();break;case 5:rh(r);break;case 4:Qi();break;case 13:De($e);break;case 19:De($e);break;case 10:Zd(r.type._context);break;case 22:case 23:mh()}n=n.return}if(ut=t,Je=t=yr(t.current,null),yt=Gt=e,it=0,vo=null,hh=Hl=ti=0,Ft=Qs=null,qr!==null){for(e=0;e<qr.length;e++)if(n=qr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}qr=null}return t}function _v(t,e){do{var n=Je;try{if(Jd(),za.current=gl,ml){for(var r=Ue.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ml=!1}if(ei=0,lt=tt=Ue=null,Ks=!1,mo=0,dh.current=null,n===null||n.return===null){it=1,vo=e,Je=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=yt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var y=f.alternate;y?(f.updateQueue=y.updateQueue,f.memoizedState=y.memoizedState,f.lanes=y.lanes):(f.updateQueue=null,f.memoizedState=null)}var _=Up(o);if(_!==null){_.flags&=-257,zp(_,o,l,s,e),_.mode&1&&$p(s,c,e),e=_,u=c;var R=e.updateQueue;if(R===null){var P=new Set;P.add(u),e.updateQueue=P}else R.add(u);break e}else{if(!(e&1)){$p(s,c,e),gh();break e}u=Error(F(426))}}else if(Me&&l.mode&1){var N=Up(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),zp(N,o,l,s,e),Xd(Xi(u,l));break e}}s=u=Xi(u,l),it!==4&&(it=2),Qs===null?Qs=[s]:Qs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=nv(s,u,e);Vp(s,m);break e;case 1:l=u;var E=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(mr===null||!mr.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var V=rv(s,l,e);Vp(s,V);break e}}s=s.return}while(s!==null)}xv(n)}catch(M){e=M,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function wv(){var t=yl.current;return yl.current=gl,t===null?gl:t}function gh(){(it===0||it===3||it===2)&&(it=4),ut===null||!(ti&268435455)&&!(Hl&268435455)||sr(ut,yt)}function wl(t,e){var n=_e;_e|=2;var r=wv();(ut!==t||yt!==e)&&(Mn=null,Gr(t,e));do try{mx();break}catch(i){_v(t,i)}while(!0);if(Jd(),_e=n,yl.current=r,Je!==null)throw Error(F(261));return ut=null,yt=0,it}function mx(){for(;Je!==null;)Ev(Je)}function gx(){for(;Je!==null&&!Uw();)Ev(Je)}function Ev(t){var e=Sv(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,e===null?xv(t):Je=e,dh.current=null}function xv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ux(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,Je=null;return}}else if(n=lx(n,e,Gt),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);it===0&&(it=5)}function $r(t,e,n){var r=Ie,i=ln.transition;try{ln.transition=null,Ie=1,yx(t,e,n,r)}finally{ln.transition=i,Ie=r}return null}function yx(t,e,n,r){do zi();while(ar!==null);if(_e&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Yw(t,s),t===ut&&(Je=ut=null,yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ca||(Ca=!0,Iv(tl,function(){return zi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ln.transition,ln.transition=null;var o=Ie;Ie=1;var l=_e;_e|=4,dh.current=null,dx(t,n),gv(n,t),LE(Oc),rl=!!bc,Oc=bc=null,t.current=n,hx(n),zw(),_e=l,Ie=o,ln.transition=s}else t.current=n;if(Ca&&(Ca=!1,ar=t,_l=i),s=t.pendingLanes,s===0&&(mr=null),qw(n.stateNode),Bt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vl)throw vl=!1,t=Zc,Zc=null,t;return _l&1&&t.tag!==0&&zi(),s=t.pendingLanes,s&1?t===ed?Xs++:(Xs=0,ed=t):Xs=0,kr(),null}function zi(){if(ar!==null){var t=ny(_l),e=ln.transition,n=Ie;try{if(ln.transition=null,Ie=16>t?16:t,ar===null)var r=!1;else{if(t=ar,ar=null,_l=0,_e&6)throw Error(F(331));var i=_e;for(_e|=4,H=t.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(H=c;H!==null;){var f=H;switch(f.tag){case 0:case 11:case 15:Gs(8,f,s)}var p=f.child;if(p!==null)p.return=f,H=p;else for(;H!==null;){f=H;var y=f.sibling,_=f.return;if(fv(f),f===c){H=null;break}if(y!==null){y.return=_,H=y;break}H=_}}}var R=s.alternate;if(R!==null){var P=R.child;if(P!==null){R.child=null;do{var N=P.sibling;P.sibling=null,P=N}while(P!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gs(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,H=m;break e}H=s.return}}var E=t.current;for(H=E;H!==null;){o=H;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,H=I;else e:for(o=E;H!==null;){if(l=H,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ql(9,l)}}catch(M){qe(l,l.return,M)}if(l===o){H=null;break e}var V=l.sibling;if(V!==null){V.return=l.return,H=V;break e}H=l.return}}if(_e=i,kr(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Ll,t)}catch{}r=!0}return r}finally{Ie=n,ln.transition=e}}return!1}function tm(t,e,n){e=Xi(n,e),e=nv(t,e,1),t=pr(t,e,1),e=Vt(),t!==null&&(Oo(t,1,e),Bt(t,e))}function qe(t,e,n){if(t.tag===3)tm(t,t,n);else for(;e!==null;){if(e.tag===3){tm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mr===null||!mr.has(r))){t=Xi(n,t),t=rv(e,t,1),e=pr(e,t,1),t=Vt(),e!==null&&(Oo(e,1,t),Bt(e,t));break}}e=e.return}}function vx(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vt(),t.pingedLanes|=t.suspendedLanes&n,ut===t&&(yt&n)===n&&(it===4||it===3&&(yt&130023424)===yt&&500>Ge()-fh?Gr(t,0):hh|=n),Bt(t,e)}function Tv(t,e){e===0&&(t.mode&1?(e=ga,ga<<=1,!(ga&130023424)&&(ga=4194304)):e=1);var n=Vt();t=qn(t,e),t!==null&&(Oo(t,e,n),Bt(t,n))}function _x(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Tv(t,n)}function wx(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),Tv(t,n)}var Sv;Sv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ut.current)$t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $t=!1,ax(t,e,n);$t=!!(t.flags&131072)}else $t=!1,Me&&e.flags&1048576&&Ry(e,cl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wa(t,e),t=e.pendingProps;var i=Hi(e,Nt.current);Ui(e,n),i=oh(null,e,r,t,i,n);var s=ah();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zt(r)?(s=!0,ll(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,th(e),i.updater=Wl,e.stateNode=i,i._reactInternals=e,zc(e,r,t,n),e=qc(null,e,r,!0,s,n)):(e.tag=0,Me&&s&&Gd(e),Ot(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wa(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=xx(r),t=mn(r,t),i){case 0:e=Wc(null,e,r,t,n);break e;case 1:e=qp(null,e,r,t,n);break e;case 11:e=Bp(null,e,r,t,n);break e;case 14:e=Wp(null,e,r,mn(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),Wc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),qp(t,e,r,i,n);case 3:e:{if(av(e),t===null)throw Error(F(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Vy(t,e),fl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Xi(Error(F(423)),e),e=Hp(t,e,r,n,i);break e}else if(r!==i){i=Xi(Error(F(424)),e),e=Hp(t,e,r,n,i);break e}else for(Qt=fr(e.stateNode.containerInfo.firstChild),Xt=e,Me=!0,yn=null,n=by(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ki(),r===i){e=Hn(t,e,n);break e}Ot(t,e,r,n)}e=e.child}return e;case 5:return Dy(e),t===null&&Fc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Vc(r,i)?o=null:s!==null&&Vc(r,s)&&(e.flags|=32),ov(t,e),Ot(t,e,o,n),e.child;case 6:return t===null&&Fc(e),null;case 13:return lv(t,e,n);case 4:return nh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Gi(e,null,r,n):Ot(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),Bp(t,e,r,i,n);case 7:return Ot(t,e,e.pendingProps,n),e.child;case 8:return Ot(t,e,e.pendingProps.children,n),e.child;case 12:return Ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Pe(dl,r._currentValue),r._currentValue=o,s!==null)if(En(s.value,o)){if(s.children===i.children&&!Ut.current){e=Hn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=$n(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),$c(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(F(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),$c(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ot(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ui(e,n),i=un(i),r=r(i),e.flags|=1,Ot(t,e,r,n),e.child;case 14:return r=e.type,i=mn(r,e.pendingProps),i=mn(r.type,i),Wp(t,e,r,i,n);case 15:return iv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),Wa(t,e),e.tag=1,zt(r)?(t=!0,ll(e)):t=!1,Ui(e,n),tv(e,r,i),zc(e,r,i,n),qc(null,e,r,!0,t,n);case 19:return uv(t,e,n);case 22:return sv(t,e,n)}throw Error(F(156,e.tag))};function Iv(t,e){return Jg(t,e)}function Ex(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,e,n,r){return new Ex(t,e,n,r)}function yh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xx(t){if(typeof t=="function")return yh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Md)return 11;if(t===Ld)return 14}return 2}function yr(t,e){var n=t.alternate;return n===null?(n=an(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ka(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")yh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ci:return Qr(n.children,i,s,e);case Dd:o=8,i|=8;break;case hc:return t=an(12,n,e,i|2),t.elementType=hc,t.lanes=s,t;case fc:return t=an(13,n,e,i),t.elementType=fc,t.lanes=s,t;case pc:return t=an(19,n,e,i),t.elementType=pc,t.lanes=s,t;case Dg:return Kl(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Og:o=10;break e;case Vg:o=9;break e;case Md:o=11;break e;case Ld:o=14;break e;case nr:o=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=an(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Qr(t,e,n,r){return t=an(7,t,r,e),t.lanes=n,t}function Kl(t,e,n,r){return t=an(22,t,r,e),t.elementType=Dg,t.lanes=n,t.stateNode={isHidden:!1},t}function Gu(t,e,n){return t=an(6,t,null,e),t.lanes=n,t}function Qu(t,e,n){return e=an(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Tx(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pu(0),this.expirationTimes=Pu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vh(t,e,n,r,i,s,o,l,u){return t=new Tx(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=an(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},th(s),t}function Sx(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ii,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Cv(t){if(!t)return Sr;t=t._reactInternals;e:{if(ai(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(zt(n))return Cy(t,n,e)}return e}function Av(t,e,n,r,i,s,o,l,u){return t=vh(n,r,!0,t,i,s,o,l,u),t.context=Cv(null),n=t.current,r=Vt(),i=gr(n),s=$n(r,i),s.callback=e??null,pr(n,s,i),t.current.lanes=i,Oo(t,i,r),Bt(t,r),t}function Gl(t,e,n,r){var i=e.current,s=Vt(),o=gr(i);return n=Cv(n),e.context===null?e.context=n:e.pendingContext=n,e=$n(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pr(i,e,o),t!==null&&(wn(t,i,o,s),Ua(t,i,o)),o}function El(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _h(t,e){nm(t,e),(t=t.alternate)&&nm(t,e)}function Ix(){return null}var Rv=typeof reportError=="function"?reportError:function(t){console.error(t)};function wh(t){this._internalRoot=t}Ql.prototype.render=wh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));Gl(t,e,null,null)};Ql.prototype.unmount=wh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ni(function(){Gl(null,t,null,null)}),e[Wn]=null}};function Ql(t){this._internalRoot=t}Ql.prototype.unstable_scheduleHydration=function(t){if(t){var e=sy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ir.length&&e!==0&&e<ir[n].priority;n++);ir.splice(n,0,t),n===0&&ay(t)}};function Eh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rm(){}function Cx(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=El(o);s.call(c)}}var o=Av(e,r,t,0,null,!1,!1,"",rm);return t._reactRootContainer=o,t[Wn]=o.current,uo(t.nodeType===8?t.parentNode:t),ni(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=El(u);l.call(c)}}var u=vh(t,0,!1,null,null,!1,!1,"",rm);return t._reactRootContainer=u,t[Wn]=u.current,uo(t.nodeType===8?t.parentNode:t),ni(function(){Gl(e,u,n,r)}),u}function Yl(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=El(o);l.call(u)}}Gl(e,o,t,i)}else o=Cx(n,e,t,i,r);return El(o)}ry=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ls(e.pendingLanes);n!==0&&($d(e,n|1),Bt(e,Ge()),!(_e&6)&&(Yi=Ge()+500,kr()))}break;case 13:ni(function(){var r=qn(t,1);if(r!==null){var i=Vt();wn(r,t,1,i)}}),_h(t,1)}};Ud=function(t){if(t.tag===13){var e=qn(t,134217728);if(e!==null){var n=Vt();wn(e,t,134217728,n)}_h(t,134217728)}};iy=function(t){if(t.tag===13){var e=gr(t),n=qn(t,e);if(n!==null){var r=Vt();wn(n,t,e,r)}_h(t,e)}};sy=function(){return Ie};oy=function(t,e){var n=Ie;try{return Ie=t,e()}finally{Ie=n}};Sc=function(t,e,n){switch(e){case"input":if(yc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ul(r);if(!i)throw Error(F(90));Lg(r),yc(r,i)}}}break;case"textarea":Fg(t,n);break;case"select":e=n.value,e!=null&&Li(t,!!n.multiple,e,!1)}};Hg=ph;Kg=ni;var Ax={usingClientEntryPoint:!1,Events:[Do,ki,Ul,Wg,qg,ph]},Os={findFiberByHostInstance:Wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rx={bundleType:Os.bundleType,version:Os.version,rendererPackageName:Os.rendererPackageName,rendererConfig:Os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xg(t),t===null?null:t.stateNode},findFiberByHostInstance:Os.findFiberByHostInstance||Ix,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Aa.isDisabled&&Aa.supportsFiber)try{Ll=Aa.inject(Rx),An=Aa}catch{}}Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ax;Zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eh(e))throw Error(F(200));return Sx(t,e,null,n)};Zt.createRoot=function(t,e){if(!Eh(t))throw Error(F(299));var n=!1,r="",i=Rv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vh(t,1,!1,null,null,n,!1,r,i),t[Wn]=e.current,uo(t.nodeType===8?t.parentNode:t),new wh(e)};Zt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=Xg(e),t=t===null?null:t.stateNode,t};Zt.flushSync=function(t){return ni(t)};Zt.hydrate=function(t,e,n){if(!Xl(e))throw Error(F(200));return Yl(null,t,e,!0,n)};Zt.hydrateRoot=function(t,e,n){if(!Eh(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Rv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Av(e,null,t,1,n??null,i,!1,s,o),t[Wn]=e.current,uo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ql(e)};Zt.render=function(t,e,n){if(!Xl(e))throw Error(F(200));return Yl(null,t,e,!1,n)};Zt.unmountComponentAtNode=function(t){if(!Xl(t))throw Error(F(40));return t._reactRootContainer?(ni(function(){Yl(null,null,t,!1,function(){t._reactRootContainer=null,t[Wn]=null})}),!0):!1};Zt.unstable_batchedUpdates=ph;Zt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xl(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return Yl(t,e,n,!1,r)};Zt.version="18.3.1-next-f1338f8080-20240426";function Pv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pv)}catch(t){console.error(t)}}Pv(),Pg.exports=Zt;var kv=Pg.exports,im=kv;cc.createRoot=im.createRoot,cc.hydrateRoot=im.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _o(){return _o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_o.apply(this,arguments)}var lr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(lr||(lr={}));const sm="popstate";function Px(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return rd("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xl(i)}return Nx(e,n,null,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Nv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kx(){return Math.random().toString(36).substr(2,8)}function om(t,e){return{usr:t.state,key:t.key,idx:e}}function rd(t,e,n,r){return n===void 0&&(n=null),_o({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ls(e):e,{state:n,key:e&&e.key||r||kx()})}function xl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ls(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Nx(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=lr.Pop,u=null,c=f();c==null&&(c=0,o.replaceState(_o({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function p(){l=lr.Pop;let N=f(),m=N==null?null:N-c;c=N,u&&u({action:l,location:P.location,delta:m})}function y(N,m){l=lr.Push;let E=rd(P.location,N,m);c=f()+1;let I=om(E,c),V=P.createHref(E);try{o.pushState(I,"",V)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(V)}s&&u&&u({action:l,location:P.location,delta:1})}function _(N,m){l=lr.Replace;let E=rd(P.location,N,m);c=f();let I=om(E,c),V=P.createHref(E);o.replaceState(I,"",V),s&&u&&u({action:l,location:P.location,delta:0})}function R(N){let m=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof N=="string"?N:xl(N);return E=E.replace(/ $/,"%20"),Qe(m,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,m)}let P={get action(){return l},get location(){return t(i,o)},listen(N){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(sm,p),u=N,()=>{i.removeEventListener(sm,p),u=null}},createHref(N){return e(i,N)},createURL:R,encodeLocation(N){let m=R(N);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:y,replace:_,go(N){return o.go(N)}};return P}var am;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(am||(am={}));function bx(t,e,n){return n===void 0&&(n="/"),Ox(t,e,n)}function Ox(t,e,n,r){let i=typeof e=="string"?ls(e):e,s=xh(i.pathname||"/",n);if(s==null)return null;let o=bv(t);Vx(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=Hx(s);l=Bx(o[u],c)}return l}function bv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Qe(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=vr([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(Qe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),bv(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Ux(c,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of Ov(s.path))i(s,o,u)}),e}function Ov(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Ov(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function Vx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zx(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Dx=/^:[\w-]+$/,Mx=3,Lx=2,jx=1,Fx=10,$x=-2,lm=t=>t==="*";function Ux(t,e){let n=t.split("/"),r=n.length;return n.some(lm)&&(r+=$x),e&&(r+=Lx),n.filter(i=>!lm(i)).reduce((i,s)=>i+(Dx.test(s)?Mx:s===""?jx:Fx),r)}function zx(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Bx(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=Wx({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),y=u.route;if(!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:vr([s,p.pathname]),pathnameBase:Xx(vr([s,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(s=vr([s,p.pathnameBase]))}return o}function Wx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qx(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,f,p)=>{let{paramName:y,isOptional:_}=f;if(y==="*"){let P=l[p]||"";o=s.slice(0,s.length-P.length).replace(/(.)\/+$/,"$1")}const R=l[p];return _&&!R?c[y]=void 0:c[y]=(R||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function qx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Nv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Hx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Kx(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ls(t):t;return{pathname:n?n.startsWith("/")?n:Gx(n,e):e,search:Yx(r),hash:Jx(i)}}function Gx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Xu(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Th(t,e){let n=Qx(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Sh(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ls(t):(i=_o({},t),Qe(!i.pathname||!i.pathname.includes("?"),Xu("?","pathname","search",i)),Qe(!i.pathname||!i.pathname.includes("#"),Xu("#","pathname","hash",i)),Qe(!i.search||!i.search.includes("#"),Xu("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}l=p>=0?e[p]:"/"}let u=Kx(i,l),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const vr=t=>t.join("/").replace(/\/\/+/g,"/"),Xx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Yx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Jx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Zx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Vv=["post","put","patch","delete"];new Set(Vv);const e1=["get",...Vv];new Set(e1);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wo(){return wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wo.apply(this,arguments)}const Ih=b.createContext(null),t1=b.createContext(null),Nr=b.createContext(null),Jl=b.createContext(null),br=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Dv=b.createContext(null);function n1(t,e){let{relative:n}=e===void 0?{}:e;us()||Qe(!1);let{basename:r,navigator:i}=b.useContext(Nr),{hash:s,pathname:o,search:l}=Lv(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:vr([r,o])),i.createHref({pathname:u,search:l,hash:s})}function us(){return b.useContext(Jl)!=null}function Lo(){return us()||Qe(!1),b.useContext(Jl).location}function Mv(t){b.useContext(Nr).static||b.useLayoutEffect(t)}function jo(){let{isDataRoute:t}=b.useContext(br);return t?m1():r1()}function r1(){us()||Qe(!1);let t=b.useContext(Ih),{basename:e,future:n,navigator:r}=b.useContext(Nr),{matches:i}=b.useContext(br),{pathname:s}=Lo(),o=JSON.stringify(Th(i,n.v7_relativeSplatPath)),l=b.useRef(!1);return Mv(()=>{l.current=!0}),b.useCallback(function(c,f){if(f===void 0&&(f={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let p=Sh(c,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:vr([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,o,s,t])}function Lv(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(Nr),{matches:i}=b.useContext(br),{pathname:s}=Lo(),o=JSON.stringify(Th(i,r.v7_relativeSplatPath));return b.useMemo(()=>Sh(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function i1(t,e){return s1(t,e)}function s1(t,e,n,r){us()||Qe(!1);let{navigator:i,static:s}=b.useContext(Nr),{matches:o}=b.useContext(br),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let f=Lo(),p;if(e){var y;let m=typeof e=="string"?ls(e):e;c==="/"||(y=m.pathname)!=null&&y.startsWith(c)||Qe(!1),p=m}else p=f;let _=p.pathname||"/",R=_;if(c!=="/"){let m=c.replace(/^\//,"").split("/");R="/"+_.replace(/^\//,"").split("/").slice(m.length).join("/")}let P=bx(t,{pathname:R}),N=c1(P&&P.map(m=>Object.assign({},m,{params:Object.assign({},u,m.params),pathname:vr([c,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:vr([c,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),o,n,r);return e&&N?b.createElement(Jl.Provider,{value:{location:wo({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:lr.Pop}},N):N}function o1(){let t=p1(),e=Zx(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,null)}const a1=b.createElement(o1,null);class l1 extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(br.Provider,{value:this.props.routeContext},b.createElement(Dv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function u1(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(Ih);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(br.Provider,{value:e},r)}function c1(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);f>=0||Qe(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:y,errors:_}=n,R=p.route.loader&&y[p.route.id]===void 0&&(!_||_[p.route.id]===void 0);if(p.route.lazy||R){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,p,y)=>{let _,R=!1,P=null,N=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,P=p.route.errorElement||a1,u&&(c<0&&y===0?(g1("route-fallback"),R=!0,N=null):c===y&&(R=!0,N=p.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,y+1)),E=()=>{let I;return _?I=P:R?I=N:p.route.Component?I=b.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=f,b.createElement(u1,{match:p,routeContext:{outlet:f,matches:m,isDataRoute:n!=null},children:I})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?b.createElement(l1,{location:n.location,revalidation:n.revalidation,component:P,error:_,children:E(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):E()},null)}var jv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(jv||{}),Fv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Fv||{});function d1(t){let e=b.useContext(Ih);return e||Qe(!1),e}function h1(t){let e=b.useContext(t1);return e||Qe(!1),e}function f1(t){let e=b.useContext(br);return e||Qe(!1),e}function $v(t){let e=f1(),n=e.matches[e.matches.length-1];return n.route.id||Qe(!1),n.route.id}function p1(){var t;let e=b.useContext(Dv),n=h1(),r=$v();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function m1(){let{router:t}=d1(jv.UseNavigateStable),e=$v(Fv.UseNavigateStable),n=b.useRef(!1);return Mv(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,wo({fromRouteId:e},s)))},[t,e])}const um={};function g1(t,e,n){um[t]||(um[t]=!0)}function y1(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Uv(t){let{to:e,replace:n,state:r,relative:i}=t;us()||Qe(!1);let{future:s,static:o}=b.useContext(Nr),{matches:l}=b.useContext(br),{pathname:u}=Lo(),c=jo(),f=Sh(e,Th(l,s.v7_relativeSplatPath),u,i==="path"),p=JSON.stringify(f);return b.useEffect(()=>c(JSON.parse(p),{replace:n,state:r,relative:i}),[c,p,i,n,r]),null}function Ur(t){Qe(!1)}function v1(t){let{basename:e="/",children:n=null,location:r,navigationType:i=lr.Pop,navigator:s,static:o=!1,future:l}=t;us()&&Qe(!1);let u=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:u,navigator:s,static:o,future:wo({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=ls(r));let{pathname:f="/",search:p="",hash:y="",state:_=null,key:R="default"}=r,P=b.useMemo(()=>{let N=xh(f,u);return N==null?null:{location:{pathname:N,search:p,hash:y,state:_,key:R},navigationType:i}},[u,f,p,y,_,R,i]);return P==null?null:b.createElement(Nr.Provider,{value:c},b.createElement(Jl.Provider,{children:n,value:P}))}function _1(t){let{children:e,location:n}=t;return i1(id(e),n)}new Promise(()=>{});function id(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let s=[...e,i];if(r.type===b.Fragment){n.push.apply(n,id(r.props.children,s));return}r.type!==Ur&&Qe(!1),!r.props.index||!r.props.children||Qe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=id(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sd.apply(this,arguments)}function w1(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function E1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function x1(t,e){return t.button===0&&(!e||e==="_self")&&!E1(t)}const T1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],S1="6";try{window.__reactRouterVersion=S1}catch{}const I1="startTransition",cm=uc[I1];function C1(t){let{basename:e,children:n,future:r,window:i}=t,s=b.useRef();s.current==null&&(s.current=Px({window:i,v5Compat:!0}));let o=s.current,[l,u]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},f=b.useCallback(p=>{c&&cm?cm(()=>u(p)):u(p)},[u,c]);return b.useLayoutEffect(()=>o.listen(f),[o,f]),b.useEffect(()=>y1(r),[r]),b.createElement(v1,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const A1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",R1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zv=b.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:c,preventScrollReset:f,viewTransition:p}=e,y=w1(e,T1),{basename:_}=b.useContext(Nr),R,P=!1;if(typeof c=="string"&&R1.test(c)&&(R=c,A1))try{let I=new URL(window.location.href),V=c.startsWith("//")?new URL(I.protocol+c):new URL(c),M=xh(V.pathname,_);V.origin===I.origin&&M!=null?c=M+V.search+V.hash:P=!0}catch{}let N=n1(c,{relative:i}),m=P1(c,{replace:o,state:l,target:u,preventScrollReset:f,relative:i,viewTransition:p});function E(I){r&&r(I),I.defaultPrevented||m(I)}return b.createElement("a",sd({},y,{href:R||N,onClick:P||s?r:E,ref:n,target:u}))});var dm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(dm||(dm={}));var hm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hm||(hm={}));function P1(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,u=jo(),c=Lo(),f=Lv(t,{relative:o});return b.useCallback(p=>{if(x1(p,n)){p.preventDefault();let y=r!==void 0?r:xl(c)===xl(f);u(t,{replace:y,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[c,u,f,r,i,n,t,s,o,l])}var fm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},k1=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let y=(l&15)<<2|c>>6,_=c&63;u||(_=64,o||(y=64)),r.push(n[f],n[p],n[y],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Bv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):k1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||p==null)throw new N1;const y=s<<2|l>>4;if(r.push(y),c!==64){const _=l<<4&240|c>>2;if(r.push(_),p!==64){const R=c<<6&192|p;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class N1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b1=function(t){const e=Bv(t);return Wv.encodeByteArray(e,!0)},Tl=function(t){return b1(t).replace(/\./g,"")},O1=function(t){try{return Wv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=()=>V1().__FIREBASE_DEFAULTS__,M1=()=>{if(typeof process>"u"||typeof fm>"u")return;const t=fm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},L1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&O1(t[1]);return e&&JSON.parse(e)},Ch=()=>{try{return D1()||M1()||L1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},j1=t=>{var e,n;return(n=(e=Ch())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},F1=t=>{const e=j1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qv=()=>{var t;return(t=Ch())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Tl(JSON.stringify(n)),Tl(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B1(){var t;const e=(t=Ch())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function W1(){return!B1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q1(){try{return typeof indexedDB=="object"}catch{return!1}}function H1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="FirebaseError";class cs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=K1,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hv.prototype.create)}}class Hv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?G1(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new cs(i,l,r)}}function G1(t,e){return t.replace(Q1,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Q1=/\{\$([^}]+)}/g;function od(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(pm(s)&&pm(o)){if(!od(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t){return t&&t._delegate?t._delegate:t}class xo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(J1(e))try{this.getOrInitializeService({instanceIdentifier:zr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zr){return this.instances.has(e)}getOptions(e=zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Y1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zr){return this.component?this.component.multipleInstances?e:zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Y1(t){return t===zr?void 0:t}function J1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new X1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const eT={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},tT=ve.INFO,nT={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},rT=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=nT[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kv{constructor(e){this.name=e,this._logLevel=tT,this._logHandler=rT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const iT=(t,e)=>e.some(n=>t instanceof n);let mm,gm;function sT(){return mm||(mm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oT(){return gm||(gm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gv=new WeakMap,ad=new WeakMap,Qv=new WeakMap,Yu=new WeakMap,Ah=new WeakMap;function aT(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(_r(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Gv.set(n,t)}).catch(()=>{}),Ah.set(e,t),e}function lT(t){if(ad.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ad.set(t,e)}let ld={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ad.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Qv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _r(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uT(t){ld=t(ld)}function cT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ju(this),e,...n);return Qv.set(r,e.sort?e.sort():[e]),_r(r)}:oT().includes(t)?function(...e){return t.apply(Ju(this),e),_r(Gv.get(this))}:function(...e){return _r(t.apply(Ju(this),e))}}function dT(t){return typeof t=="function"?cT(t):(t instanceof IDBTransaction&&lT(t),iT(t,sT())?new Proxy(t,ld):t)}function _r(t){if(t instanceof IDBRequest)return aT(t);if(Yu.has(t))return Yu.get(t);const e=dT(t);return e!==t&&(Yu.set(t,e),Ah.set(e,t)),e}const Ju=t=>Ah.get(t);function hT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=_r(o);return r&&o.addEventListener("upgradeneeded",u=>{r(_r(o.result),u.oldVersion,u.newVersion,_r(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const fT=["get","getKey","getAll","getAllKeys","count"],pT=["put","add","delete","clear"],Zu=new Map;function ym(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zu.get(e))return Zu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=pT.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fT.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return Zu.set(e,s),s}uT(t=>({...t,get:(e,n,r)=>ym(e,n)||t.get(e,n,r),has:(e,n)=>!!ym(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gT(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gT(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ud="@firebase/app",vm="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn=new Kv("@firebase/app"),yT="@firebase/app-compat",vT="@firebase/analytics-compat",_T="@firebase/analytics",wT="@firebase/app-check-compat",ET="@firebase/app-check",xT="@firebase/auth",TT="@firebase/auth-compat",ST="@firebase/database",IT="@firebase/data-connect",CT="@firebase/database-compat",AT="@firebase/functions",RT="@firebase/functions-compat",PT="@firebase/installations",kT="@firebase/installations-compat",NT="@firebase/messaging",bT="@firebase/messaging-compat",OT="@firebase/performance",VT="@firebase/performance-compat",DT="@firebase/remote-config",MT="@firebase/remote-config-compat",LT="@firebase/storage",jT="@firebase/storage-compat",FT="@firebase/firestore",$T="@firebase/vertexai-preview",UT="@firebase/firestore-compat",zT="firebase",BT="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="[DEFAULT]",WT={[ud]:"fire-core",[yT]:"fire-core-compat",[_T]:"fire-analytics",[vT]:"fire-analytics-compat",[ET]:"fire-app-check",[wT]:"fire-app-check-compat",[xT]:"fire-auth",[TT]:"fire-auth-compat",[ST]:"fire-rtdb",[IT]:"fire-data-connect",[CT]:"fire-rtdb-compat",[AT]:"fire-fn",[RT]:"fire-fn-compat",[PT]:"fire-iid",[kT]:"fire-iid-compat",[NT]:"fire-fcm",[bT]:"fire-fcm-compat",[OT]:"fire-perf",[VT]:"fire-perf-compat",[DT]:"fire-rc",[MT]:"fire-rc-compat",[LT]:"fire-gcs",[jT]:"fire-gcs-compat",[FT]:"fire-fst",[UT]:"fire-fst-compat",[$T]:"fire-vertex","fire-js":"fire-js",[zT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=new Map,qT=new Map,dd=new Map;function _m(t,e){try{t.container.addComponent(e)}catch(n){Kn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Il(t){const e=t.name;if(dd.has(e))return Kn.debug(`There were multiple attempts to register component ${e}.`),!1;dd.set(e,t);for(const n of Sl.values())_m(n,t);for(const n of qT.values())_m(n,t);return!0}function HT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new Hv("app","Firebase",KT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=BT;function Xv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:cd,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw wr.create("bad-app-name",{appName:String(i)});if(n||(n=qv()),!n)throw wr.create("no-options");const s=Sl.get(i);if(s){if(od(n,s.options)&&od(r,s.config))return s;throw wr.create("duplicate-app",{appName:i})}const o=new Z1(i);for(const u of dd.values())o.addComponent(u);const l=new GT(n,r,o);return Sl.set(i,l),l}function XT(t=cd){const e=Sl.get(t);if(!e&&t===cd&&qv())return Xv();if(!e)throw wr.create("no-app",{appName:t});return e}function Bi(t,e,n){var r;let i=(r=WT[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kn.warn(l.join(" "));return}Il(new xo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="firebase-heartbeat-database",JT=1,To="firebase-heartbeat-store";let ec=null;function Yv(){return ec||(ec=hT(YT,JT,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(To)}catch(n){console.warn(n)}}}}).catch(t=>{throw wr.create("idb-open",{originalErrorMessage:t.message})})),ec}async function ZT(t){try{const n=(await Yv()).transaction(To),r=await n.objectStore(To).get(Jv(t));return await n.done,r}catch(e){if(e instanceof cs)Kn.warn(e.message);else{const n=wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kn.warn(n.message)}}}async function wm(t,e){try{const r=(await Yv()).transaction(To,"readwrite");await r.objectStore(To).put(e,Jv(t)),await r.done}catch(n){if(n instanceof cs)Kn.warn(n.message);else{const r=wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Kn.warn(r.message)}}}function Jv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=1024,tS=30*24*60*60*1e3;class nS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Em();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=tS}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Kn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Em(),{heartbeatsToSend:r,unsentEntries:i}=rS(this._heartbeatsCache.heartbeats),s=Tl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Kn.warn(n),""}}}function Em(){return new Date().toISOString().substring(0,10)}function rS(t,e=eS){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),xm(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return q1()?H1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZT(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function xm(t){return Tl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t){Il(new xo("platform-logger",e=>new mT(e),"PRIVATE")),Il(new xo("heartbeat",e=>new nS(e),"PRIVATE")),Bi(ud,vm,t),Bi(ud,vm,"esm2017"),Bi("fire-js","")}sS("");var oS="firebase",aS="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bi(oS,aS,"app");var Tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xr,Zv;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,v){function x(){}x.prototype=v.prototype,S.D=v.prototype,S.prototype=new x,S.prototype.constructor=S,S.C=function(T,A,k){for(var C=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)C[Ze-2]=arguments[Ze];return v.prototype[A].apply(T,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,v,x){x||(x=0);var T=Array(16);if(typeof v=="string")for(var A=0;16>A;++A)T[A]=v.charCodeAt(x++)|v.charCodeAt(x++)<<8|v.charCodeAt(x++)<<16|v.charCodeAt(x++)<<24;else for(A=0;16>A;++A)T[A]=v[x++]|v[x++]<<8|v[x++]<<16|v[x++]<<24;v=S.g[0],x=S.g[1],A=S.g[2];var k=S.g[3],C=v+(k^x&(A^k))+T[0]+3614090360&4294967295;v=x+(C<<7&4294967295|C>>>25),C=k+(A^v&(x^A))+T[1]+3905402710&4294967295,k=v+(C<<12&4294967295|C>>>20),C=A+(x^k&(v^x))+T[2]+606105819&4294967295,A=k+(C<<17&4294967295|C>>>15),C=x+(v^A&(k^v))+T[3]+3250441966&4294967295,x=A+(C<<22&4294967295|C>>>10),C=v+(k^x&(A^k))+T[4]+4118548399&4294967295,v=x+(C<<7&4294967295|C>>>25),C=k+(A^v&(x^A))+T[5]+1200080426&4294967295,k=v+(C<<12&4294967295|C>>>20),C=A+(x^k&(v^x))+T[6]+2821735955&4294967295,A=k+(C<<17&4294967295|C>>>15),C=x+(v^A&(k^v))+T[7]+4249261313&4294967295,x=A+(C<<22&4294967295|C>>>10),C=v+(k^x&(A^k))+T[8]+1770035416&4294967295,v=x+(C<<7&4294967295|C>>>25),C=k+(A^v&(x^A))+T[9]+2336552879&4294967295,k=v+(C<<12&4294967295|C>>>20),C=A+(x^k&(v^x))+T[10]+4294925233&4294967295,A=k+(C<<17&4294967295|C>>>15),C=x+(v^A&(k^v))+T[11]+2304563134&4294967295,x=A+(C<<22&4294967295|C>>>10),C=v+(k^x&(A^k))+T[12]+1804603682&4294967295,v=x+(C<<7&4294967295|C>>>25),C=k+(A^v&(x^A))+T[13]+4254626195&4294967295,k=v+(C<<12&4294967295|C>>>20),C=A+(x^k&(v^x))+T[14]+2792965006&4294967295,A=k+(C<<17&4294967295|C>>>15),C=x+(v^A&(k^v))+T[15]+1236535329&4294967295,x=A+(C<<22&4294967295|C>>>10),C=v+(A^k&(x^A))+T[1]+4129170786&4294967295,v=x+(C<<5&4294967295|C>>>27),C=k+(x^A&(v^x))+T[6]+3225465664&4294967295,k=v+(C<<9&4294967295|C>>>23),C=A+(v^x&(k^v))+T[11]+643717713&4294967295,A=k+(C<<14&4294967295|C>>>18),C=x+(k^v&(A^k))+T[0]+3921069994&4294967295,x=A+(C<<20&4294967295|C>>>12),C=v+(A^k&(x^A))+T[5]+3593408605&4294967295,v=x+(C<<5&4294967295|C>>>27),C=k+(x^A&(v^x))+T[10]+38016083&4294967295,k=v+(C<<9&4294967295|C>>>23),C=A+(v^x&(k^v))+T[15]+3634488961&4294967295,A=k+(C<<14&4294967295|C>>>18),C=x+(k^v&(A^k))+T[4]+3889429448&4294967295,x=A+(C<<20&4294967295|C>>>12),C=v+(A^k&(x^A))+T[9]+568446438&4294967295,v=x+(C<<5&4294967295|C>>>27),C=k+(x^A&(v^x))+T[14]+3275163606&4294967295,k=v+(C<<9&4294967295|C>>>23),C=A+(v^x&(k^v))+T[3]+4107603335&4294967295,A=k+(C<<14&4294967295|C>>>18),C=x+(k^v&(A^k))+T[8]+1163531501&4294967295,x=A+(C<<20&4294967295|C>>>12),C=v+(A^k&(x^A))+T[13]+2850285829&4294967295,v=x+(C<<5&4294967295|C>>>27),C=k+(x^A&(v^x))+T[2]+4243563512&4294967295,k=v+(C<<9&4294967295|C>>>23),C=A+(v^x&(k^v))+T[7]+1735328473&4294967295,A=k+(C<<14&4294967295|C>>>18),C=x+(k^v&(A^k))+T[12]+2368359562&4294967295,x=A+(C<<20&4294967295|C>>>12),C=v+(x^A^k)+T[5]+4294588738&4294967295,v=x+(C<<4&4294967295|C>>>28),C=k+(v^x^A)+T[8]+2272392833&4294967295,k=v+(C<<11&4294967295|C>>>21),C=A+(k^v^x)+T[11]+1839030562&4294967295,A=k+(C<<16&4294967295|C>>>16),C=x+(A^k^v)+T[14]+4259657740&4294967295,x=A+(C<<23&4294967295|C>>>9),C=v+(x^A^k)+T[1]+2763975236&4294967295,v=x+(C<<4&4294967295|C>>>28),C=k+(v^x^A)+T[4]+1272893353&4294967295,k=v+(C<<11&4294967295|C>>>21),C=A+(k^v^x)+T[7]+4139469664&4294967295,A=k+(C<<16&4294967295|C>>>16),C=x+(A^k^v)+T[10]+3200236656&4294967295,x=A+(C<<23&4294967295|C>>>9),C=v+(x^A^k)+T[13]+681279174&4294967295,v=x+(C<<4&4294967295|C>>>28),C=k+(v^x^A)+T[0]+3936430074&4294967295,k=v+(C<<11&4294967295|C>>>21),C=A+(k^v^x)+T[3]+3572445317&4294967295,A=k+(C<<16&4294967295|C>>>16),C=x+(A^k^v)+T[6]+76029189&4294967295,x=A+(C<<23&4294967295|C>>>9),C=v+(x^A^k)+T[9]+3654602809&4294967295,v=x+(C<<4&4294967295|C>>>28),C=k+(v^x^A)+T[12]+3873151461&4294967295,k=v+(C<<11&4294967295|C>>>21),C=A+(k^v^x)+T[15]+530742520&4294967295,A=k+(C<<16&4294967295|C>>>16),C=x+(A^k^v)+T[2]+3299628645&4294967295,x=A+(C<<23&4294967295|C>>>9),C=v+(A^(x|~k))+T[0]+4096336452&4294967295,v=x+(C<<6&4294967295|C>>>26),C=k+(x^(v|~A))+T[7]+1126891415&4294967295,k=v+(C<<10&4294967295|C>>>22),C=A+(v^(k|~x))+T[14]+2878612391&4294967295,A=k+(C<<15&4294967295|C>>>17),C=x+(k^(A|~v))+T[5]+4237533241&4294967295,x=A+(C<<21&4294967295|C>>>11),C=v+(A^(x|~k))+T[12]+1700485571&4294967295,v=x+(C<<6&4294967295|C>>>26),C=k+(x^(v|~A))+T[3]+2399980690&4294967295,k=v+(C<<10&4294967295|C>>>22),C=A+(v^(k|~x))+T[10]+4293915773&4294967295,A=k+(C<<15&4294967295|C>>>17),C=x+(k^(A|~v))+T[1]+2240044497&4294967295,x=A+(C<<21&4294967295|C>>>11),C=v+(A^(x|~k))+T[8]+1873313359&4294967295,v=x+(C<<6&4294967295|C>>>26),C=k+(x^(v|~A))+T[15]+4264355552&4294967295,k=v+(C<<10&4294967295|C>>>22),C=A+(v^(k|~x))+T[6]+2734768916&4294967295,A=k+(C<<15&4294967295|C>>>17),C=x+(k^(A|~v))+T[13]+1309151649&4294967295,x=A+(C<<21&4294967295|C>>>11),C=v+(A^(x|~k))+T[4]+4149444226&4294967295,v=x+(C<<6&4294967295|C>>>26),C=k+(x^(v|~A))+T[11]+3174756917&4294967295,k=v+(C<<10&4294967295|C>>>22),C=A+(v^(k|~x))+T[2]+718787259&4294967295,A=k+(C<<15&4294967295|C>>>17),C=x+(k^(A|~v))+T[9]+3951481745&4294967295,S.g[0]=S.g[0]+v&4294967295,S.g[1]=S.g[1]+(A+(C<<21&4294967295|C>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+k&4294967295}r.prototype.u=function(S,v){v===void 0&&(v=S.length);for(var x=v-this.blockSize,T=this.B,A=this.h,k=0;k<v;){if(A==0)for(;k<=x;)i(this,S,k),k+=this.blockSize;if(typeof S=="string"){for(;k<v;)if(T[A++]=S.charCodeAt(k++),A==this.blockSize){i(this,T),A=0;break}}else for(;k<v;)if(T[A++]=S[k++],A==this.blockSize){i(this,T),A=0;break}}this.h=A,this.o+=v},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var v=1;v<S.length-8;++v)S[v]=0;var x=8*this.o;for(v=S.length-8;v<S.length;++v)S[v]=x&255,x/=256;for(this.u(S),S=Array(16),v=x=0;4>v;++v)for(var T=0;32>T;T+=8)S[x++]=this.g[v]>>>T&255;return S};function s(S,v){var x=l;return Object.prototype.hasOwnProperty.call(x,S)?x[S]:x[S]=v(S)}function o(S,v){this.h=v;for(var x=[],T=!0,A=S.length-1;0<=A;A--){var k=S[A]|0;T&&k==v||(x[A]=k,T=!1)}this.g=x}var l={};function u(S){return-128<=S&&128>S?s(S,function(v){return new o([v|0],0>v?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return p;if(0>S)return N(c(-S));for(var v=[],x=1,T=0;S>=x;T++)v[T]=S/x|0,x*=4294967296;return new o(v,0)}function f(S,v){if(S.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(S.charAt(0)=="-")return N(f(S.substring(1),v));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=c(Math.pow(v,8)),T=p,A=0;A<S.length;A+=8){var k=Math.min(8,S.length-A),C=parseInt(S.substring(A,A+k),v);8>k?(k=c(Math.pow(v,k)),T=T.j(k).add(c(C))):(T=T.j(x),T=T.add(c(C)))}return T}var p=u(0),y=u(1),_=u(16777216);t=o.prototype,t.m=function(){if(P(this))return-N(this).m();for(var S=0,v=1,x=0;x<this.g.length;x++){var T=this.i(x);S+=(0<=T?T:4294967296+T)*v,v*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(R(this))return"0";if(P(this))return"-"+N(this).toString(S);for(var v=c(Math.pow(S,6)),x=this,T="";;){var A=V(x,v).g;x=m(x,A.j(v));var k=((0<x.g.length?x.g[0]:x.h)>>>0).toString(S);if(x=A,R(x))return k+T;for(;6>k.length;)k="0"+k;T=k+T}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function R(S){if(S.h!=0)return!1;for(var v=0;v<S.g.length;v++)if(S.g[v]!=0)return!1;return!0}function P(S){return S.h==-1}t.l=function(S){return S=m(this,S),P(S)?-1:R(S)?0:1};function N(S){for(var v=S.g.length,x=[],T=0;T<v;T++)x[T]=~S.g[T];return new o(x,~S.h).add(y)}t.abs=function(){return P(this)?N(this):this},t.add=function(S){for(var v=Math.max(this.g.length,S.g.length),x=[],T=0,A=0;A<=v;A++){var k=T+(this.i(A)&65535)+(S.i(A)&65535),C=(k>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);T=C>>>16,k&=65535,C&=65535,x[A]=C<<16|k}return new o(x,x[x.length-1]&-2147483648?-1:0)};function m(S,v){return S.add(N(v))}t.j=function(S){if(R(this)||R(S))return p;if(P(this))return P(S)?N(this).j(N(S)):N(N(this).j(S));if(P(S))return N(this.j(N(S)));if(0>this.l(_)&&0>S.l(_))return c(this.m()*S.m());for(var v=this.g.length+S.g.length,x=[],T=0;T<2*v;T++)x[T]=0;for(T=0;T<this.g.length;T++)for(var A=0;A<S.g.length;A++){var k=this.i(T)>>>16,C=this.i(T)&65535,Ze=S.i(A)>>>16,B=S.i(A)&65535;x[2*T+2*A]+=C*B,E(x,2*T+2*A),x[2*T+2*A+1]+=k*B,E(x,2*T+2*A+1),x[2*T+2*A+1]+=C*Ze,E(x,2*T+2*A+1),x[2*T+2*A+2]+=k*Ze,E(x,2*T+2*A+2)}for(T=0;T<v;T++)x[T]=x[2*T+1]<<16|x[2*T];for(T=v;T<2*v;T++)x[T]=0;return new o(x,0)};function E(S,v){for(;(S[v]&65535)!=S[v];)S[v+1]+=S[v]>>>16,S[v]&=65535,v++}function I(S,v){this.g=S,this.h=v}function V(S,v){if(R(v))throw Error("division by zero");if(R(S))return new I(p,p);if(P(S))return v=V(N(S),v),new I(N(v.g),N(v.h));if(P(v))return v=V(S,N(v)),new I(N(v.g),v.h);if(30<S.g.length){if(P(S)||P(v))throw Error("slowDivide_ only works with positive integers.");for(var x=y,T=v;0>=T.l(S);)x=M(x),T=M(T);var A=$(x,1),k=$(T,1);for(T=$(T,2),x=$(x,2);!R(T);){var C=k.add(T);0>=C.l(S)&&(A=A.add(x),k=C),T=$(T,1),x=$(x,1)}return v=m(S,A.j(v)),new I(A,v)}for(A=p;0<=S.l(v);){for(x=Math.max(1,Math.floor(S.m()/v.m())),T=Math.ceil(Math.log(x)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),k=c(x),C=k.j(v);P(C)||0<C.l(S);)x-=T,k=c(x),C=k.j(v);R(k)&&(k=y),A=A.add(k),S=m(S,C)}return new I(A,S)}t.A=function(S){return V(this,S).h},t.and=function(S){for(var v=Math.max(this.g.length,S.g.length),x=[],T=0;T<v;T++)x[T]=this.i(T)&S.i(T);return new o(x,this.h&S.h)},t.or=function(S){for(var v=Math.max(this.g.length,S.g.length),x=[],T=0;T<v;T++)x[T]=this.i(T)|S.i(T);return new o(x,this.h|S.h)},t.xor=function(S){for(var v=Math.max(this.g.length,S.g.length),x=[],T=0;T<v;T++)x[T]=this.i(T)^S.i(T);return new o(x,this.h^S.h)};function M(S){for(var v=S.g.length+1,x=[],T=0;T<v;T++)x[T]=S.i(T)<<1|S.i(T-1)>>>31;return new o(x,S.h)}function $(S,v){var x=v>>5;v%=32;for(var T=S.g.length-x,A=[],k=0;k<T;k++)A[k]=0<v?S.i(k+x)>>>v|S.i(k+x+1)<<32-v:S.i(k+x);return new o(A,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Zv=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,Xr=o}).apply(typeof Tm<"u"?Tm:typeof self<"u"?self:typeof window<"u"?window:{});var Ra=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e0,Fs,t0,Ga,hd,n0,r0,i0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ra=="object"&&Ra];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var O=a[g];if(!(O in h))break e;h=h[O]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,g=!1,O={next:function(){if(!g&&h<a.length){var D=h++;return{value:d(D,a[D]),done:!1}}return g=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function c(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,g),a.apply(d,O)}}return function(){return a.apply(d,arguments)}}function y(a,d,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,y.apply(null,arguments)}function _(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function R(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,O,D){for(var z=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)z[Re-2]=arguments[Re];return d.prototype[O].apply(g,z)}}function P(a){const d=a.length;if(0<d){const h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function N(a,d){for(let h=1;h<arguments.length;h++){const g=arguments[h];if(u(g)){const O=a.length||0,D=g.length||0;a.length=O+D;for(let z=0;z<D;z++)a[O+z]=g[z]}else a.push(g)}}class m{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function E(a){return/^[\s\xa0]*$/.test(a)}function I(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function V(a){return V[" "](a),a}V[" "]=function(){};var M=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function $(a,d,h){for(const g in a)d.call(h,a[g],g,a)}function S(a,d){for(const h in a)d.call(void 0,a[h],h,a)}function v(a){const d={};for(const h in a)d[h]=a[h];return d}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(a,d){let h,g;for(let O=1;O<arguments.length;O++){g=arguments[O];for(h in g)a[h]=g[h];for(let D=0;D<x.length;D++)h=x[D],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function A(a){var d=1;a=a.split(":");const h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function k(a){l.setTimeout(()=>{throw a},0)}function C(){var a=q;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Ze{constructor(){this.h=this.g=null}add(d,h){const g=B.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var B=new m(()=>new ke,a=>a.reset());class ke{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let de,U=!1,q=new Ze,G=()=>{const a=l.Promise.resolve(void 0);de=()=>{a.then(ye)}};var ye=()=>{for(var a;a=C();){try{a.h.call(a.g)}catch(h){k(h)}var d=B;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}U=!1};function Te(){this.s=this.s,this.C=this.C}Te.prototype.s=!1,Te.prototype.ma=function(){this.s||(this.s=!0,this.N())},Te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ae(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Ae.prototype.h=function(){this.defaultPrevented=!0};var Wt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const h=()=>{};l.addEventListener("test",h,d),l.removeEventListener("test",h,d)}catch{}return a}();function bt(a,d){if(Ae.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(M){e:{try{V(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:qt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&bt.aa.h.call(this)}}R(bt,Ae);var qt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ct="closure_listenable_"+(1e6*Math.random()|0),gs=0;function oe(a,d,h,g,O){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=O,this.key=++gs,this.da=this.fa=!1}function we(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function He(a){this.src=a,this.g={},this.h=0}He.prototype.add=function(a,d,h,g,O){var D=a.toString();a=this.g[D],a||(a=this.g[D]=[],this.h++);var z=On(a,d,g,O);return-1<z?(d=a[z],h||(d.fa=!1)):(d=new oe(d,this.src,D,!!g,O),d.fa=h,a.push(d)),d};function xn(a,d){var h=d.type;if(h in a.g){var g=a.g[h],O=Array.prototype.indexOf.call(g,d,void 0),D;(D=0<=O)&&Array.prototype.splice.call(g,O,1),D&&(we(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function On(a,d,h,g){for(var O=0;O<a.length;++O){var D=a[O];if(!D.da&&D.listener==d&&D.capture==!!h&&D.ha==g)return O}return-1}var fi="closure_lm_"+(1e6*Math.random()|0),pi={};function ys(a,d,h,g,O){if(Array.isArray(d)){for(var D=0;D<d.length;D++)ys(a,d[D],h,g,O);return null}return h=he(h),a&&a[ct]?a.K(d,h,c(g)?!!g.capture:!1,O):Qo(a,d,h,!1,g,O)}function Qo(a,d,h,g,O,D){if(!d)throw Error("Invalid event type");var z=c(O)?!!O.capture:!!O,Re=pe(a);if(Re||(a[fi]=Re=new He(a)),h=Re.add(d,h,g,z,D),h.proxy)return h;if(g=Xo(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)Wt||(O=z),O===void 0&&(O=!1),a.addEventListener(d.toString(),g,O);else if(a.attachEvent)a.attachEvent(ie(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function Xo(){function a(h){return d.call(a.src,a.listener,h)}const d=J;return a}function W(a,d,h,g,O){if(Array.isArray(d))for(var D=0;D<d.length;D++)W(a,d[D],h,g,O);else g=c(g)?!!g.capture:!!g,h=he(h),a&&a[ct]?(a=a.i,d=String(d).toString(),d in a.g&&(D=a.g[d],h=On(D,h,g,O),-1<h&&(we(D[h]),Array.prototype.splice.call(D,h,1),D.length==0&&(delete a.g[d],a.h--)))):a&&(a=pe(a))&&(d=a.g[d.toString()],a=-1,d&&(a=On(d,h,g,O)),(h=-1<a?d[a]:null)&&Z(h))}function Z(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[ct])xn(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(ie(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=pe(d))?(xn(h,a),h.h==0&&(h.src=null,d[fi]=null)):we(a)}}}function ie(a){return a in pi?pi[a]:pi[a]="on"+a}function J(a,d){if(a.da)a=!0;else{d=new bt(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&Z(a),a=h.call(g,d)}return a}function pe(a){return a=a[fi],a instanceof He?a:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function he(a){return typeof a=="function"?a:(a[me]||(a[me]=function(d){return a.handleEvent(d)}),a[me])}function re(){Te.call(this),this.i=new He(this),this.M=this,this.F=null}R(re,Te),re.prototype[ct]=!0,re.prototype.removeEventListener=function(a,d,h,g){W(this,a,d,h,g)};function Q(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Ae(d,a);else if(d instanceof Ae)d.target=d.target||a;else{var O=d;d=new Ae(g,a),T(d,O)}if(O=!0,h)for(var D=h.length-1;0<=D;D--){var z=d.g=h[D];O=fe(z,g,!0,d)&&O}if(z=d.g=a,O=fe(z,g,!0,d)&&O,O=fe(z,g,!1,d)&&O,h)for(D=0;D<h.length;D++)z=d.g=h[D],O=fe(z,g,!1,d)&&O}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)we(h[g]);delete a.g[d],a.h--}}this.F=null},re.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},re.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function fe(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,D=0;D<d.length;++D){var z=d[D];if(z&&!z.da&&z.capture==h){var Re=z.listener,ht=z.ha||z.src;z.fa&&xn(a.i,z),O=Re.call(ht,g)!==!1&&O}}return O&&!g.defaultPrevented}function dt(a,d,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function je(a){a.g=dt(()=>{a.g=null,a.i&&(a.i=!1,je(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class ae extends Te{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:je(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xe(a){Te.call(this),this.h=a,this.g={}}R(Xe,Te);var et=[];function ue(a){$(a.g,function(d,h){this.g.hasOwnProperty(h)&&Z(d)},a),a.g={}}Xe.prototype.N=function(){Xe.aa.N.call(this),ue(this)},Xe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Et=l.JSON.stringify,Tn=l.JSON.parse,Or=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function se(){}se.prototype.h=null;function tn(a){return a.h||(a.h=a.i())}function mi(){}var jt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yn(){Ae.call(this,"d")}R(Yn,Ae);function nn(){Ae.call(this,"c")}R(nn,Ae);var dn={},Ne=null;function Fe(){return Ne=Ne||new re}dn.La="serverreachability";function be(a){Ae.call(this,dn.La,a)}R(be,Ae);function xt(a){const d=Fe();Q(d,new be(d))}dn.STAT_EVENT="statevent";function Vr(a,d){Ae.call(this,dn.STAT_EVENT,a),this.stat=d}R(Vr,Ae);function ot(a){const d=Fe();Q(d,new Vr(d,a))}dn.Ma="timingevent";function du(a,d){Ae.call(this,dn.Ma,a),this.size=d}R(du,Ae);function hn(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function Dr(){this.g=!0}Dr.prototype.xa=function(){this.g=!1};function O_(a,d,h,g,O,D){a.info(function(){if(a.g)if(D)for(var z="",Re=D.split("&"),ht=0;ht<Re.length;ht++){var Ee=Re[ht].split("=");if(1<Ee.length){var Tt=Ee[0];Ee=Ee[1];var St=Tt.split("_");z=2<=St.length&&St[1]=="type"?z+(Tt+"="+Ee+"&"):z+(Tt+"=redacted&")}}else z=null;else z=D;return"XMLHTTP REQ ("+g+") [attempt "+O+"]: "+d+`
`+h+`
`+z})}function V_(a,d,h,g,O,D,z){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+O+"]: "+d+`
`+h+`
`+D+" "+z})}function gi(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+M_(a,h)+(g?" "+g:"")})}function D_(a,d){a.info(function(){return"TIMEOUT: "+d})}Dr.prototype.info=function(){};function M_(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var O=g[1];if(Array.isArray(O)&&!(1>O.length)){var D=O[0];if(D!="noop"&&D!="stop"&&D!="close")for(var z=1;z<O.length;z++)O[z]=""}}}}return Et(h)}catch{return d}}var Yo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},df={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hu;function Jo(){}R(Jo,se),Jo.prototype.g=function(){return new XMLHttpRequest},Jo.prototype.i=function(){return{}},hu=new Jo;function Jn(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new Xe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hf}function hf(){this.i=null,this.g="",this.h=!1}var ff={},fu={};function pu(a,d,h){a.L=1,a.v=na(Vn(d)),a.m=h,a.P=!0,pf(a,null)}function pf(a,d){a.F=Date.now(),Zo(a),a.A=Vn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),Rf(h.i,"t",g),a.C=0,h=a.j.J,a.h=new hf,a.g=Hf(a.j,h?d:null,!a.m),0<a.O&&(a.M=new ae(y(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var O="readystatechange";Array.isArray(O)||(O&&(et[0]=O.toString()),O=et);for(var D=0;D<O.length;D++){var z=ys(h,O[D],g||d.handleEvent,!1,d.h||d);if(!z)break;d.g[z.key]=z}d=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),xt(),O_(a.i,a.u,a.A,a.l,a.R,a.m)}Jn.prototype.ca=function(a){a=a.target;const d=this.M;d&&Dn(a)==3?d.j():this.Y(a)},Jn.prototype.Y=function(a){try{if(a==this.g)e:{const St=Dn(this.g);var d=this.g.Ba();const _i=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Df(this.g)))){this.J||St!=4||d==7||(d==8||0>=_i?xt(3):xt(2)),mu(this);var h=this.g.Z();this.X=h;t:if(mf(this)){var g=Df(this.g);a="";var O=g.length,D=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mr(this),vs(this);var z="";break t}this.h.i=new l.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(D&&d==O-1)});g.length=0,this.h.g+=a,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=h==200,V_(this.i,this.u,this.A,this.l,this.R,St,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,ht=this.g;if((Re=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Re)){var Ee=Re;break t}}Ee=null}if(h=Ee)gi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gu(this,h);else{this.o=!1,this.s=3,ot(12),Mr(this),vs(this);break e}}if(this.P){h=!0;let fn;for(;!this.J&&this.C<z.length;)if(fn=L_(this,z),fn==fu){St==4&&(this.s=4,ot(14),h=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==ff){this.s=4,ot(15),gi(this.i,this.l,z,"[Invalid Chunk]"),h=!1;break}else gi(this.i,this.l,fn,null),gu(this,fn);if(mf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||z.length!=0||this.h.h||(this.s=1,ot(16),h=!1),this.o=this.o&&h,!h)gi(this.i,this.l,z,"[Invalid Chunked Response]"),Mr(this),vs(this);else if(0<z.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),xu(Tt),Tt.M=!0,ot(11))}}else gi(this.i,this.l,z,null),gu(this,z);St==4&&Mr(this),this.o&&!this.J&&(St==4?zf(this.j,this):(this.o=!1,Zo(this)))}else ew(this.g),h==400&&0<z.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Mr(this),vs(this)}}}catch{}finally{}};function mf(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function L_(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?fu:(h=Number(d.substring(h,g)),isNaN(h)?ff:(g+=1,g+h>d.length?fu:(d=d.slice(g,g+h),a.C=g+h,d)))}Jn.prototype.cancel=function(){this.J=!0,Mr(this)};function Zo(a){a.S=Date.now()+a.I,gf(a,a.I)}function gf(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=hn(y(a.ba,a),d)}function mu(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Jn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(D_(this.i,this.A),this.L!=2&&(xt(),ot(17)),Mr(this),this.s=2,vs(this)):gf(this,this.S-a)};function vs(a){a.j.G==0||a.J||zf(a.j,a)}function Mr(a){mu(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,ue(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function gu(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||yu(h.h,a))){if(!a.K&&yu(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var O=g;if(O[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)la(h),oa(h);else break e;Eu(h),ot(18)}}else h.za=O[1],0<h.za-h.T&&37500>O[2]&&h.F&&h.v==0&&!h.C&&(h.C=hn(y(h.Za,h),6e3));if(1>=_f(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else jr(h,11)}else if((a.K||h.g==a)&&la(h),!E(d))for(O=h.Da.g.parse(d),d=0;d<O.length;d++){let Ee=O[d];if(h.T=Ee[0],Ee=Ee[1],h.G==2)if(Ee[0]=="c"){h.K=Ee[1],h.ia=Ee[2];const Tt=Ee[3];Tt!=null&&(h.la=Tt,h.j.info("VER="+h.la));const St=Ee[4];St!=null&&(h.Aa=St,h.j.info("SVER="+h.Aa));const _i=Ee[5];_i!=null&&typeof _i=="number"&&0<_i&&(g=1.5*_i,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;const fn=a.g;if(fn){const ca=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ca){var D=g.h;D.g||ca.indexOf("spdy")==-1&&ca.indexOf("quic")==-1&&ca.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(vu(D,D.h),D.h=null))}if(g.D){const Tu=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Tu&&(g.ya=Tu,Oe(g.I,g.D,Tu))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var z=a;if(g.qa=qf(g,g.J?g.ia:null,g.W),z.K){wf(g.h,z);var Re=z,ht=g.L;ht&&(Re.I=ht),Re.B&&(mu(Re),Zo(Re)),g.g=z}else $f(g);0<h.i.length&&aa(h)}else Ee[0]!="stop"&&Ee[0]!="close"||jr(h,7);else h.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?jr(h,7):wu(h):Ee[0]!="noop"&&h.l&&h.l.ta(Ee),h.v=0)}}xt(4)}catch{}}var j_=class{constructor(a,d){this.g=a,this.map=d}};function yf(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vf(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function _f(a){return a.h?1:a.g?a.g.size:0}function yu(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function vu(a,d){a.g?a.g.add(d):a.h=d}function wf(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}yf.prototype.cancel=function(){if(this.i=Ef(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Ef(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const h of a.g.values())d=d.concat(h.D);return d}return P(a.i)}function F_(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function $_(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(const g in a)d[h++]=g;return d}}}function xf(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=$_(a),g=F_(a),O=g.length,D=0;D<O;D++)d.call(void 0,g[D],h&&h[D],a)}var Tf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function U_(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),O=null;if(0<=g){var D=a[h].substring(0,g);O=a[h].substring(g+1)}else D=a[h];d(D,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Lr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Lr){this.h=a.h,ea(this,a.j),this.o=a.o,this.g=a.g,ta(this,a.s),this.l=a.l;var d=a.i,h=new Es;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),Sf(this,h),this.m=a.m}else a&&(d=String(a).match(Tf))?(this.h=!1,ea(this,d[1]||"",!0),this.o=_s(d[2]||""),this.g=_s(d[3]||"",!0),ta(this,d[4]),this.l=_s(d[5]||"",!0),Sf(this,d[6]||"",!0),this.m=_s(d[7]||"")):(this.h=!1,this.i=new Es(null,this.h))}Lr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(ws(d,If,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(ws(d,If,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(ws(h,h.charAt(0)=="/"?W_:B_,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",ws(h,H_)),a.join("")};function Vn(a){return new Lr(a)}function ea(a,d,h){a.j=h?_s(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function ta(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Sf(a,d,h){d instanceof Es?(a.i=d,K_(a.i,a.h)):(h||(d=ws(d,q_)),a.i=new Es(d,a.h))}function Oe(a,d,h){a.i.set(d,h)}function na(a){return Oe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function _s(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ws(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,z_),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function z_(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var If=/[#\/\?@]/g,B_=/[#\?:]/g,W_=/[#\?]/g,q_=/[#\?@]/g,H_=/#/g;function Es(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Zn(a){a.g||(a.g=new Map,a.h=0,a.i&&U_(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Es.prototype,t.add=function(a,d){Zn(this),this.i=null,a=yi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function Cf(a,d){Zn(a),d=yi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Af(a,d){return Zn(a),d=yi(a,d),a.g.has(d)}t.forEach=function(a,d){Zn(this),this.g.forEach(function(h,g){h.forEach(function(O){a.call(d,O,g,this)},this)},this)},t.na=function(){Zn(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){const O=a[g];for(let D=0;D<O.length;D++)h.push(d[g])}return h},t.V=function(a){Zn(this);let d=[];if(typeof a=="string")Af(this,a)&&(d=d.concat(this.g.get(yi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return Zn(this),this.i=null,a=yi(this,a),Af(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Rf(a,d,h){Cf(a,d),0<h.length&&(a.i=null,a.g.set(yi(a,d),P(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];const D=encodeURIComponent(String(g)),z=this.V(g);for(g=0;g<z.length;g++){var O=D;z[g]!==""&&(O+="="+encodeURIComponent(String(z[g]))),a.push(O)}}return this.i=a.join("&")};function yi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function K_(a,d){d&&!a.j&&(Zn(a),a.i=null,a.g.forEach(function(h,g){var O=g.toLowerCase();g!=O&&(Cf(this,g),Rf(this,O,h))},a)),a.j=d}function G_(a,d){const h=new Dr;if(l.Image){const g=new Image;g.onload=_(er,h,"TestLoadImage: loaded",!0,d,g),g.onerror=_(er,h,"TestLoadImage: error",!1,d,g),g.onabort=_(er,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=_(er,h,"TestLoadImage: timeout",!1,d,g),l.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function Q_(a,d){const h=new Dr,g=new AbortController,O=setTimeout(()=>{g.abort(),er(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(D=>{clearTimeout(O),D.ok?er(h,"TestPingServer: ok",!0,d):er(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),er(h,"TestPingServer: error",!1,d)})}function er(a,d,h,g,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),g(h)}catch{}}function X_(){this.g=new Or}function Y_(a,d,h){const g=h||"";try{xf(a,function(O,D){let z=O;c(O)&&(z=Et(O)),d.push(g+D+"="+encodeURIComponent(z))})}catch(O){throw d.push(g+"type="+encodeURIComponent("_badmap")),O}}function ra(a){this.l=a.Ub||null,this.j=a.eb||!1}R(ra,se),ra.prototype.g=function(){return new ia(this.l,this.j)},ra.prototype.i=function(a){return function(){return a}}({});function ia(a,d){re.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(ia,re),t=ia.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Ts(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ts(this)),this.g&&(this.readyState=3,Ts(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pf(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pf(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?xs(this):Ts(this),this.readyState==3&&Pf(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,xs(this))},t.Qa=function(a){this.g&&(this.response=a,xs(this))},t.ga=function(){this.g&&xs(this)};function xs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ts(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function Ts(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ia.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function kf(a){let d="";return $(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function _u(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=kf(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Oe(a,d,h))}function We(a){re.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(We,re);var J_=/^https?$/i,Z_=["POST","PUT"];t=We.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hu.g(),this.v=this.o?tn(this.o):tn(hu),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(D){Nf(this,D);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var O in g)h.set(O,g[O]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const D of g.keys())h.set(D,g.get(D));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(D=>D.toLowerCase()=="content-type"),O=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Z_,d,void 0))||g||O||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[D,z]of h)this.g.setRequestHeader(D,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vf(this),this.u=!0,this.g.send(a),this.u=!1}catch(D){Nf(this,D)}};function Nf(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,bf(a),sa(a)}function bf(a){a.A||(a.A=!0,Q(a,"complete"),Q(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Q(this,"complete"),Q(this,"abort"),sa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sa(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Of(this):this.bb())},t.bb=function(){Of(this)};function Of(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Dn(a)!=4||a.Z()!=2)){if(a.u&&Dn(a)==4)dt(a.Ea,0,a);else if(Q(a,"readystatechange"),Dn(a)==4){a.h=!1;try{const z=a.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=z===0){var O=String(a.D).match(Tf)[1]||null;!O&&l.self&&l.self.location&&(O=l.self.location.protocol.slice(0,-1)),g=!J_.test(O?O.toLowerCase():"")}h=g}if(h)Q(a,"complete"),Q(a,"success");else{a.m=6;try{var D=2<Dn(a)?a.g.statusText:""}catch{D=""}a.l=D+" ["+a.Z()+"]",bf(a)}}finally{sa(a)}}}}function sa(a,d){if(a.g){Vf(a);const h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||Q(a,"ready");try{h.onreadystatechange=g}catch{}}}function Vf(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Dn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),Tn(d)}};function Df(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function ew(a){const d={};a=(a.g&&2<=Dn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(E(a[g]))continue;var h=A(a[g]);const O=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();const D=d[O]||[];d[O]=D,D.push(h)}S(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function Mf(a){this.Aa=0,this.i=[],this.j=new Dr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ss("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ss("baseRetryDelayMs",5e3,a),this.cb=Ss("retryDelaySeedMs",1e4,a),this.Wa=Ss("forwardChannelMaxRetries",2,a),this.wa=Ss("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new yf(a&&a.concurrentRequestLimit),this.Da=new X_,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Mf.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,g){ot(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=qf(this,null,this.W),aa(this)};function wu(a){if(Lf(a),a.G==3){var d=a.U++,h=Vn(a.I);if(Oe(h,"SID",a.K),Oe(h,"RID",d),Oe(h,"TYPE","terminate"),Is(a,h),d=new Jn(a,a.j,d),d.L=2,d.v=na(Vn(h)),h=!1,l.navigator&&l.navigator.sendBeacon)try{h=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&l.Image&&(new Image().src=d.v,h=!0),h||(d.g=Hf(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Zo(d)}Wf(a)}function oa(a){a.g&&(xu(a),a.g.cancel(),a.g=null)}function Lf(a){oa(a),a.u&&(l.clearTimeout(a.u),a.u=null),la(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function aa(a){if(!vf(a.h)&&!a.s){a.s=!0;var d=a.Ga;de||G(),U||(de(),U=!0),q.add(d,a),a.B=0}}function tw(a,d){return _f(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=hn(y(a.Ga,a,d),Bf(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const O=new Jn(this,this.j,a);let D=this.o;if(this.S&&(D?(D=v(D),T(D,this.S)):D=this.S),this.m!==null||this.O||(O.H=D,D=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=Ff(this,O,d),h=Vn(this.I),Oe(h,"RID",a),Oe(h,"CVER",22),this.D&&Oe(h,"X-HTTP-Session-Id",this.D),Is(this,h),D&&(this.O?d="headers="+encodeURIComponent(String(kf(D)))+"&"+d:this.m&&_u(h,this.m,D)),vu(this.h,O),this.Ua&&Oe(h,"TYPE","init"),this.P?(Oe(h,"$req",d),Oe(h,"SID","null"),O.T=!0,pu(O,h,null)):pu(O,h,d),this.G=2}}else this.G==3&&(a?jf(this,a):this.i.length==0||vf(this.h)||jf(this))};function jf(a,d){var h;d?h=d.l:h=a.U++;const g=Vn(a.I);Oe(g,"SID",a.K),Oe(g,"RID",h),Oe(g,"AID",a.T),Is(a,g),a.m&&a.o&&_u(g,a.m,a.o),h=new Jn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Ff(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),vu(a.h,h),pu(h,g,d)}function Is(a,d){a.H&&$(a.H,function(h,g){Oe(d,g,h)}),a.l&&xf({},function(h,g){Oe(d,g,h)})}function Ff(a,d,h){h=Math.min(a.i.length,h);var g=a.l?y(a.l.Na,a.l,a):null;e:{var O=a.i;let D=-1;for(;;){const z=["count="+h];D==-1?0<h?(D=O[0].g,z.push("ofs="+D)):D=0:z.push("ofs="+D);let Re=!0;for(let ht=0;ht<h;ht++){let Ee=O[ht].g;const Tt=O[ht].map;if(Ee-=D,0>Ee)D=Math.max(0,O[ht].g-100),Re=!1;else try{Y_(Tt,z,"req"+Ee+"_")}catch{g&&g(Tt)}}if(Re){g=z.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function $f(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;de||G(),U||(de(),U=!0),q.add(d,a),a.v=0}}function Eu(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=hn(y(a.Fa,a),Bf(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Uf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=hn(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),oa(this),Uf(this))};function xu(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Uf(a){a.g=new Jn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Vn(a.qa);Oe(d,"RID","rpc"),Oe(d,"SID",a.K),Oe(d,"AID",a.T),Oe(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Oe(d,"TO",a.ja),Oe(d,"TYPE","xmlhttp"),Is(a,d),a.m&&a.o&&_u(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=na(Vn(d)),h.m=null,h.P=!0,pf(h,a)}t.Za=function(){this.C!=null&&(this.C=null,oa(this),Eu(this),ot(19))};function la(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function zf(a,d){var h=null;if(a.g==d){la(a),xu(a),a.g=null;var g=2}else if(yu(a.h,d))h=d.D,wf(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var O=a.B;g=Fe(),Q(g,new du(g,h)),aa(a)}else $f(a);else if(O=d.s,O==3||O==0&&0<d.X||!(g==1&&tw(a,d)||g==2&&Eu(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),O){case 1:jr(a,5);break;case 4:jr(a,10);break;case 3:jr(a,6);break;default:jr(a,2)}}}function Bf(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function jr(a,d){if(a.j.info("Error code "+d),d==2){var h=y(a.fb,a),g=a.Xa;const O=!g;g=new Lr(g||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ea(g,"https"),na(g),O?G_(g.toString(),h):Q_(g.toString(),h)}else ot(2);a.G=0,a.l&&a.l.sa(d),Wf(a),Lf(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Wf(a){if(a.G=0,a.ka=[],a.l){const d=Ef(a.h);(d.length!=0||a.i.length!=0)&&(N(a.ka,d),N(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function qf(a,d,h){var g=h instanceof Lr?Vn(h):new Lr(h);if(g.g!="")d&&(g.g=d+"."+g.g),ta(g,g.s);else{var O=l.location;g=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var D=new Lr(null);g&&ea(D,g),d&&(D.g=d),O&&ta(D,O),h&&(D.l=h),g=D}return h=a.D,d=a.ya,h&&d&&Oe(g,h,d),Oe(g,"VER",a.la),Is(a,g),g}function Hf(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new We(new ra({eb:h})):new We(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kf(){}t=Kf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ua(){}ua.prototype.g=function(a,d){return new Ht(a,d)};function Ht(a,d){re.call(this),this.g=new Mf(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!E(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!E(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new vi(this)}R(Ht,re),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){wu(this.g)},Ht.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Et(a),a=h);d.i.push(new j_(d.Ya++,a)),d.G==3&&aa(d)},Ht.prototype.N=function(){this.g.l=null,delete this.j,wu(this.g),delete this.g,Ht.aa.N.call(this)};function Gf(a){Yn.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}R(Gf,Yn);function Qf(){nn.call(this),this.status=1}R(Qf,nn);function vi(a){this.g=a}R(vi,Kf),vi.prototype.ua=function(){Q(this.g,"a")},vi.prototype.ta=function(a){Q(this.g,new Gf(a))},vi.prototype.sa=function(a){Q(this.g,new Qf)},vi.prototype.ra=function(){Q(this.g,"b")},ua.prototype.createWebChannel=ua.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,i0=function(){return new ua},r0=function(){return Fe()},n0=dn,hd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yo.NO_ERROR=0,Yo.TIMEOUT=8,Yo.HTTP_ERROR=6,Ga=Yo,df.COMPLETE="complete",t0=df,mi.EventType=jt,jt.OPEN="a",jt.CLOSE="b",jt.ERROR="c",jt.MESSAGE="d",re.prototype.listen=re.prototype.K,Fs=mi,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,e0=We}).apply(typeof Ra<"u"?Ra:typeof self<"u"?self:typeof window<"u"?window:{});const Sm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ds="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=new Kv("@firebase/firestore");function Vs(){return ri.logLevel}function K(t,...e){if(ri.logLevel<=ve.DEBUG){const n=e.map(Rh);ri.debug(`Firestore (${ds}): ${t}`,...n)}}function Gn(t,...e){if(ri.logLevel<=ve.ERROR){const n=e.map(Rh);ri.error(`Firestore (${ds}): ${t}`,...n)}}function Ji(t,...e){if(ri.logLevel<=ve.WARN){const n=e.map(Rh);ri.warn(`Firestore (${ds}): ${t}`,...n)}}function Rh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t="Unexpected state"){const e=`FIRESTORE (${ds}) INTERNAL ASSERTION FAILED: `+t;throw Gn(e),new Error(e)}function Ce(t,e){t||ee()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends cs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class uS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cS{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Er,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Er)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new s0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new Rt(e)}}class dS{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hS{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new dS(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ce(this.o===void 0);const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new fS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=mS(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function Zi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new st(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new st(0,0))}static max(){return new te(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return So.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof So?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Le extends So{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const gS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends So{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return gS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new X(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new X(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new X(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Le.fromString(e))}static fromName(e){return new Y(Le.fromString(e).popFirst(5))}static empty(){return new Y(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Le(e.slice()))}}function yS(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new Ir(i,Y.empty(),e)}function vS(t){return new Ir(t.readTime,t.key,-1)}class Ir{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ir(te.min(),Y.empty(),-1)}static max(){return new Ir(te.max(),Y.empty(),-1)}}function _S(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ES{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==wS)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(f=>{o[c]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new L((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function xS(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $o(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ph.oe=-1;function Zl(t){return t==null}function Cl(t){return t===0&&1/t==-1/0}function TS(t){return typeof t=="number"&&Number.isInteger(t)&&!Cl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function a0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n){this.comparator=e,this.root=n||pt.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pa(this.root,e,this.comparator,!0)}}class Pa{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??pt.RED,this.left=i??pt.EMPTY,this.right=s??pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new pt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1;pt.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,s){return this}insert(e,n,r){return new pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cm(this.data.getIterator())}getIteratorFrom(e){return new Cm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class Cm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new vn([])}unionWith(e){let n=new vt(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new l0("Invalid base64 string: "+s):s}}(e);return new wt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const SS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(t){if(Ce(!!t),typeof t=="string"){let e=0;const n=SS.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ii(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Nh(t){const e=t.mapValue.fields.__previous_value__;return kh(e)?Nh(e):e}function Io(t){const e=Cr(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n,r,i,s,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class Co{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Co("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Co&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka={mapValue:{}};function si(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kh(t)?4:AS(t)?9007199254740991:CS(t)?10:11:ee()}function Nn(t,e){if(t===e)return!0;const n=si(t);if(n!==si(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Io(t).isEqual(Io(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Cr(i.timestampValue),l=Cr(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ii(i.bytesValue).isEqual(ii(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ke(i.geoPointValue.latitude)===Ke(s.geoPointValue.latitude)&&Ke(i.geoPointValue.longitude)===Ke(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ke(i.integerValue)===Ke(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ke(i.doubleValue),l=Ke(s.doubleValue);return o===l?Cl(o)===Cl(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Zi(t.arrayValue.values||[],e.arrayValue.values||[],Nn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Im(o)!==Im(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Nn(o[u],l[u])))return!1;return!0}(t,e);default:return ee()}}function Ao(t,e){return(t.values||[]).find(n=>Nn(n,e))!==void 0}function es(t,e){if(t===e)return 0;const n=si(t),r=si(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Ke(s.integerValue||s.doubleValue),u=Ke(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Am(t.timestampValue,e.timestampValue);case 4:return Am(Io(t),Io(e));case 5:return xe(t.stringValue,e.stringValue);case 6:return function(s,o){const l=ii(s),u=ii(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=xe(l[c],u[c]);if(f!==0)return f}return xe(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=xe(Ke(s.latitude),Ke(o.latitude));return l!==0?l:xe(Ke(s.longitude),Ke(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Rm(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,u,c,f;const p=s.fields||{},y=o.fields||{},_=(l=p.value)===null||l===void 0?void 0:l.arrayValue,R=(u=y.value)===null||u===void 0?void 0:u.arrayValue,P=xe(((c=_==null?void 0:_.values)===null||c===void 0?void 0:c.length)||0,((f=R==null?void 0:R.values)===null||f===void 0?void 0:f.length)||0);return P!==0?P:Rm(_,R)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ka.mapValue&&o===ka.mapValue)return 0;if(s===ka.mapValue)return 1;if(o===ka.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=o.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const y=xe(u[p],f[p]);if(y!==0)return y;const _=es(l[u[p]],c[f[p]]);if(_!==0)return _}return xe(u.length,f.length)}(t.mapValue,e.mapValue);default:throw ee()}}function Am(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=Cr(t),r=Cr(e),i=xe(n.seconds,r.seconds);return i!==0?i:xe(n.nanos,r.nanos)}function Rm(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=es(n[i],r[i]);if(s)return s}return xe(n.length,r.length)}function ts(t){return fd(t)}function fd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Cr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ii(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=fd(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${fd(n.fields[o])}`;return i+"}"}(t.mapValue):ee()}function pd(t){return!!t&&"integerValue"in t}function bh(t){return!!t&&"arrayValue"in t}function Pm(t){return!!t&&"nullValue"in t}function km(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qa(t){return!!t&&"mapValue"in t}function CS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ys(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return hs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ys(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ys(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ys(n)}setAll(e){let n=mt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Ys(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Qa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Qa(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){hs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new on(Ys(this.value))}}function u0(t){const e=[];return hs(t.fields,(n,r)=>{const i=new mt([n]);if(Qa(r)){const s=u0(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new kt(e,0,te.min(),te.min(),te.min(),on.empty(),0)}static newFoundDocument(e,n,r,i){return new kt(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new kt(e,2,n,te.min(),te.min(),on.empty(),0)}static newUnknownDocument(e,n){return new kt(e,3,n,te.min(),te.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n){this.position=e,this.inclusive=n}}function Nm(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=es(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function bm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n="asc"){this.field=e,this.dir=n}}function RS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{}class rt extends c0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new kS(e,n,r):n==="array-contains"?new OS(e,r):n==="in"?new VS(e,r):n==="not-in"?new DS(e,r):n==="array-contains-any"?new MS(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new NS(e,r):new bS(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(es(n,this.value)):n!==null&&si(this.value)===si(n)&&this.matchesComparison(es(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bn extends c0{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new bn(e,n)}matches(e){return d0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function d0(t){return t.op==="and"}function h0(t){return PS(t)&&d0(t)}function PS(t){for(const e of t.filters)if(e instanceof bn)return!1;return!0}function md(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+ts(t.value);if(h0(t))return t.filters.map(e=>md(e)).join(",");{const e=t.filters.map(n=>md(n)).join(",");return`${t.op}(${e})`}}function f0(t,e){return t instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&Nn(r.value,i.value)}(t,e):t instanceof bn?function(r,i){return i instanceof bn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&f0(o,i.filters[l]),!0):!1}(t,e):void ee()}function p0(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${ts(n.value)}`}(t):t instanceof bn?function(n){return n.op.toString()+" {"+n.getFilters().map(p0).join(" ,")+"}"}(t):"Filter"}class kS extends rt{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class NS extends rt{constructor(e,n){super(e,"in",n),this.keys=m0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bS extends rt{constructor(e,n){super(e,"not-in",n),this.keys=m0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function m0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class OS extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bh(n)&&Ao(n.arrayValue,this.value)}}class VS extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ao(this.value.arrayValue,n)}}class DS extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ao(this.value.arrayValue,n)}}class MS extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ao(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function Om(t,e=null,n=[],r=[],i=null,s=null,o=null){return new LS(t,e,n,r,i,s,o)}function Oh(t){const e=ne(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>md(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Zl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ts(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ts(r)).join(",")),e.ue=n}return e.ue}function Vh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!f0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bm(t.startAt,e.startAt)&&bm(t.endAt,e.endAt)}function gd(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function jS(t,e,n,r,i,s,o,l){return new eu(t,e,n,r,i,s,o,l)}function Dh(t){return new eu(t)}function Vm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function FS(t){return t.collectionGroup!==null}function Js(t){const e=ne(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new vt(mt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Rl(s,r))}),n.has(mt.keyField().canonicalString())||e.ce.push(new Rl(mt.keyField(),r))}return e.ce}function Pn(t){const e=ne(t);return e.le||(e.le=$S(e,Js(t))),e.le}function $S(t,e){if(t.limitType==="F")return Om(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Rl(i.field,s)});const n=t.endAt?new Al(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Al(t.startAt.position,t.startAt.inclusive):null;return Om(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function yd(t,e,n){return new eu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tu(t,e){return Vh(Pn(t),Pn(e))&&t.limitType===e.limitType}function g0(t){return`${Oh(Pn(t))}|lt:${t.limitType}`}function xi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>p0(i)).join(", ")}]`),Zl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ts(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ts(i)).join(",")),`Target(${r})`}(Pn(t))}; limitType=${t.limitType})`}function nu(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Y.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Js(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const c=Nm(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,Js(r),i)||r.endAt&&!function(o,l,u){const c=Nm(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,Js(r),i))}(t,e)}function US(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function y0(t){return(e,n)=>{let r=!1;for(const i of Js(t)){const s=zS(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function zS(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),c=l.data.field(s);return u!==null&&c!==null?es(u,c):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return a0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=new Be(Y.comparator);function Qn(){return BS}const v0=new Be(Y.comparator);function $s(...t){let e=v0;for(const n of t)e=e.insert(n.key,n);return e}function _0(t){let e=v0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Kr(){return Zs()}function w0(){return Zs()}function Zs(){return new fs(t=>t.toString(),(t,e)=>t.isEqual(e))}const WS=new Be(Y.comparator),qS=new vt(Y.comparator);function ce(...t){let e=qS;for(const n of t)e=e.add(n);return e}const HS=new vt(xe);function KS(){return HS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cl(e)?"-0":e}}function E0(t){return{integerValue:""+t}}function GS(t,e){return TS(e)?E0(e):Mh(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){this._=void 0}}function QS(t,e,n){return t instanceof Pl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&kh(s)&&(s=Nh(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ro?T0(t,e):t instanceof Po?S0(t,e):function(i,s){const o=x0(i,s),l=Dm(o)+Dm(i.Pe);return pd(o)&&pd(i.Pe)?E0(l):Mh(i.serializer,l)}(t,e)}function XS(t,e,n){return t instanceof Ro?T0(t,e):t instanceof Po?S0(t,e):n}function x0(t,e){return t instanceof kl?function(r){return pd(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Pl extends ru{}class Ro extends ru{constructor(e){super(),this.elements=e}}function T0(t,e){const n=I0(e);for(const r of t.elements)n.some(i=>Nn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Po extends ru{constructor(e){super(),this.elements=e}}function S0(t,e){let n=I0(e);for(const r of t.elements)n=n.filter(i=>!Nn(i,r));return{arrayValue:{values:n}}}class kl extends ru{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Dm(t){return Ke(t.integerValue||t.doubleValue)}function I0(t){return bh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function YS(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ro&&i instanceof Ro||r instanceof Po&&i instanceof Po?Zi(r.elements,i.elements,Nn):r instanceof kl&&i instanceof kl?Nn(r.Pe,i.Pe):r instanceof Pl&&i instanceof Pl}(t.transform,e.transform)}class JS{constructor(e,n){this.version=e,this.transformResults=n}}class Un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xa(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class iu{}function C0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new R0(t.key,Un.none()):new Uo(t.key,t.data,Un.none());{const n=t.data,r=on.empty();let i=new vt(mt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new li(t.key,r,new vn(i.toArray()),Un.none())}}function ZS(t,e,n){t instanceof Uo?function(i,s,o){const l=i.value.clone(),u=Lm(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof li?function(i,s,o){if(!Xa(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Lm(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(A0(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function eo(t,e,n,r){return t instanceof Uo?function(s,o,l,u){if(!Xa(s.precondition,o))return l;const c=s.value.clone(),f=jm(s.fieldTransforms,u,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof li?function(s,o,l,u){if(!Xa(s.precondition,o))return l;const c=jm(s.fieldTransforms,u,o),f=o.data;return f.setAll(A0(s)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,l){return Xa(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function eI(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=x0(r.transform,i||null);s!=null&&(n===null&&(n=on.empty()),n.set(r.field,s))}return n||null}function Mm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Zi(r,i,(s,o)=>YS(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uo extends iu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class li extends iu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function A0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Lm(t,e,n){const r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,XS(o,l,n[i]))}return r}function jm(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,QS(s,o,e))}return r}class R0 extends iu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tI extends iu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ZS(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=eo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=eo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=w0();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=C0(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&Zi(this.mutations,e.mutations,(n,r)=>Mm(n,r))&&Zi(this.baseMutations,e.baseMutations,(n,r)=>Mm(n,r))}}class Lh{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length);let i=function(){return WS}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Lh(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,ge;function sI(t){switch(t){default:return ee();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function P0(t){if(t===void 0)return Gn("GRPC error has no .code"),j.UNKNOWN;switch(t){case Ye.OK:return j.OK;case Ye.CANCELLED:return j.CANCELLED;case Ye.UNKNOWN:return j.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return j.INTERNAL;case Ye.UNAVAILABLE:return j.UNAVAILABLE;case Ye.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Ye.NOT_FOUND:return j.NOT_FOUND;case Ye.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Ye.ABORTED:return j.ABORTED;case Ye.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Ye.DATA_LOSS:return j.DATA_LOSS;default:return ee()}}(ge=Ye||(Ye={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=new Xr([4294967295,4294967295],0);function Fm(t){const e=oI().encode(t),n=new Zv;return n.update(e),new Uint8Array(n.digest())}function $m(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xr([n,r],0),new Xr([i,s],0)]}class jh{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Us(`Invalid padding: ${n}`);if(r<0)throw new Us(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Us(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Us(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Xr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Xr.fromNumber(r)));return i.compare(aI)===1&&(i=new Xr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Fm(e),[r,i]=$m(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new jh(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=Fm(e),[r,i]=$m(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Us extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new su(te.min(),i,new Be(xe),Qn(),ce())}}class zo{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zo(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class k0{constructor(e,n){this.targetId=e,this.me=n}}class N0{constructor(e,n,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Um{constructor(){this.fe=0,this.ge=Bm(),this.pe=wt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ce(),n=ce(),r=ce();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new zo(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Bm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class lI{constructor(e){this.Le=e,this.Be=new Map,this.ke=Qn(),this.qe=zm(),this.Qe=new Be(xe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(gd(s))if(r===0){const o=new Y(s.path);this.Ue(n,o,kt.newNoDocument(o,te.min()))}else Ce(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=ii(r).toUint8Array()}catch(u){if(u instanceof l0)return Ji("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new jh(o,i,s)}catch(u){return Ji(u instanceof Us?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&gd(l.target)){const u=new Y(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,kt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ce();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new su(e,n,this.Qe,this.ke,r);return this.ke=Qn(),this.qe=zm(),this.Qe=new Be(xe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Um,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new vt(xe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Um),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function zm(){return new Be(Y.comparator)}function Bm(){return new Be(Y.comparator)}const uI={asc:"ASCENDING",desc:"DESCENDING"},cI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dI={and:"AND",or:"OR"};class hI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vd(t,e){return t.useProto3Json||Zl(e)?e:{value:e}}function Nl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function b0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fI(t,e){return Nl(t,e.toTimestamp())}function kn(t){return Ce(!!t),te.fromTimestamp(function(n){const r=Cr(n);return new st(r.seconds,r.nanos)}(t))}function Fh(t,e){return _d(t,e).canonicalString()}function _d(t,e){const n=function(i){return new Le(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function O0(t){const e=Le.fromString(t);return Ce(j0(e)),e}function wd(t,e){return Fh(t.databaseId,e.path)}function tc(t,e){const n=O0(e);if(n.get(1)!==t.databaseId.projectId)throw new X(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(D0(n))}function V0(t,e){return Fh(t.databaseId,e)}function pI(t){const e=O0(t);return e.length===4?Le.emptyPath():D0(e)}function Ed(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function D0(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Wm(t,e,n){return{name:wd(t,e),fields:n.value.mapValue.fields}}function mI(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(Ce(f===void 0||typeof f=="string"),wt.fromBase64String(f||"")):(Ce(f===void 0||f instanceof Buffer||f instanceof Uint8Array),wt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const f=c.code===void 0?j.UNKNOWN:P0(c.code);return new X(f,c.message||"")}(o);n=new N0(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=tc(t,r.document.name),s=kn(r.document.updateTime),o=r.document.createTime?kn(r.document.createTime):te.min(),l=new on({mapValue:{fields:r.document.fields}}),u=kt.newFoundDocument(i,s,o,l),c=r.targetIds||[],f=r.removedTargetIds||[];n=new Ya(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=tc(t,r.document),s=r.readTime?kn(r.readTime):te.min(),o=kt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Ya([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=tc(t,r.document),s=r.removedTargetIds||[];n=new Ya([],s,i,null)}else{if(!("filter"in e))return ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new iI(i,s),l=r.targetId;n=new k0(l,o)}}return n}function gI(t,e){let n;if(e instanceof Uo)n={update:Wm(t,e.key,e.value)};else if(e instanceof R0)n={delete:wd(t,e.key)};else if(e instanceof li)n={update:Wm(t,e.key,e.data),updateMask:II(e.fieldMask)};else{if(!(e instanceof tI))return ee();n={verify:wd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Pl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ro)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Po)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof kl)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:fI(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ee()}(t,e.precondition)),n}function yI(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?kn(i.updateTime):kn(s);return o.isEqual(te.min())&&(o=kn(s)),new JS(o,i.transformResults||[])}(n,e))):[]}function vI(t,e){return{documents:[V0(t,e.path)]}}function _I(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=V0(t,i);const s=function(c){if(c.length!==0)return L0(bn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(f=>function(y){return{field:Ti(y.field),direction:xI(y.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=vd(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function wI(t){let e=pI(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ce(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){const y=M0(p);return y instanceof bn&&h0(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(y=>function(R){return new Rl(Si(R.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(p){let y;return y=typeof p=="object"?p.value:p,Zl(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(p){const y=!!p.before,_=p.values||[];return new Al(_,y)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const y=!p.before,_=p.values||[];return new Al(_,y)}(n.endAt)),jS(e,i,o,s,l,"F",u,c)}function EI(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function M0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Si(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Si(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Si(n.unaryFilter.field);return rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Si(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return rt.create(Si(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return bn.create(n.compositeFilter.filters.map(r=>M0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function xI(t){return uI[t]}function TI(t){return cI[t]}function SI(t){return dI[t]}function Ti(t){return{fieldPath:t.canonicalString()}}function Si(t){return mt.fromServerFormat(t.fieldPath)}function L0(t){return t instanceof rt?function(n){if(n.op==="=="){if(km(n.value))return{unaryFilter:{field:Ti(n.field),op:"IS_NAN"}};if(Pm(n.value))return{unaryFilter:{field:Ti(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(km(n.value))return{unaryFilter:{field:Ti(n.field),op:"IS_NOT_NAN"}};if(Pm(n.value))return{unaryFilter:{field:Ti(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ti(n.field),op:TI(n.op),value:n.value}}}(t):t instanceof bn?function(n){const r=n.getFilters().map(i=>L0(i));return r.length===1?r[0]:{compositeFilter:{op:SI(n.op),filters:r}}}(t):ee()}function II(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function j0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n,r,i,s=te.min(),o=te.min(),l=wt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.ct=e}}function AI(t){const e=wI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.un=new PI}addToCollectionParentIndex(e,n){return this.un.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Ir.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class PI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vt(Le.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vt(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ns(0)}static kn(){return new ns(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.changes=new fs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&eo(r.mutation,i,vn.empty(),st.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const i=Kr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=$s();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Kr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Qn();const o=Zs(),l=function(){return Zs()}();return n.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof li)?s=s.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),eo(f.mutation,c,f.mutation.getFieldMask(),st.now())):o.set(c.key,vn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var p;return l.set(c,new NI(f,(p=o.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Zs();let i=new Be((o,l)=>o-l),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||vn.empty();f=l.applyToLocalView(c,f),r.set(u,f);const p=(i.get(l.batchId)||ce()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,p=w0();f.forEach(y=>{if(!s.has(y)){const _=C0(n.get(y),r.get(y));_!==null&&p.set(y,_),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):L.resolve(Kr());let l=-1,u=s;return o.next(c=>L.forEach(c,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?L.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ce())).next(f=>({batchId:l,changes:_0(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=$s();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=$s();return this.indexManager.getCollectionParents(e,s).next(l=>L.forEach(l,u=>{const c=function(p,y){return new eu(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((p,y)=>{o=o.insert(p,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,kt.newInvalidDocument(f)))});let l=$s();return o.forEach((u,c)=>{const f=s.get(u);f!==void 0&&eo(f.mutation,c,vn.empty(),st.now()),nu(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return L.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:kn(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:AI(i.bundledQuery),readTime:kn(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this.overlays=new Be(Y.comparator),this.Ir=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Kr();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=Kr(),s=n.length+1,o=new Y(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Be((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=s.get(c.largestBatchId);f===null&&(f=Kr(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=Kr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=i)););return L.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new rI(n,r));let s=this.Ir.get(n);s===void 0&&(s=ce(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this.Tr=new vt(at.Er),this.dr=new vt(at.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new at(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new at(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Y(new Le([])),r=new at(n,e),i=new at(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Y(new Le([])),r=new at(n,e),i=new at(n,e+1);let s=ce();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new at(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class at{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Y.comparator(e.key,n.key)||xe(e.wr,n.wr)}static Ar(e,n){return xe(e.wr,n.wr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new vt(at.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new nI(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new at(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new at(n,0),i=new at(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(xe);return n.forEach(i=>{const s=new at(i,0),o=new at(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Y.isDocumentKey(s)||(s=s.child(""));const o=new at(new Y(s),0);let l=new vt(xe);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.wr)),!0)},o),L.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(n.mutations,i=>{const s=new at(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new at(n,0),i=this.br.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.Mr=e,this.docs=function(){return new Be(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():kt.newInvalidDocument(n))}getEntries(e,n){let r=Qn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():kt.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Qn();const o=n.path,l=new Y(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||_S(vS(f),r)<=0||(i.has(f.key)||nu(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ee()}Or(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jI(this)}getSize(e){return L.resolve(this.size)}}class jI extends kI{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.persistence=e,this.Nr=new fs(n=>Oh(n),Vh),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $h,this.targetCount=0,this.kr=ns.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),L.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ns(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Kn(n),L.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Ph(0),this.Kr=!1,this.Kr=!0,this.$r=new DI,this.referenceDelegate=e(this),this.Ur=new FI(this),this.indexManager=new RI,this.remoteDocumentCache=function(i){return new LI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new CI(n),this.Gr=new OI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new MI(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new UI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class UI extends ES{constructor(e){super(),this.currentSequenceNumber=e}}class Uh{constructor(e){this.persistence=e,this.Jr=new $h,this.Yr=null}static Zr(e){return new Uh(e)}get Xr(){if(this.Yr)return this.Yr;throw ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{const i=Y.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return L.or([()=>L.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ce(),i=ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new zh(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return W1()?8:xS(z1())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new zI;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Vs()<=ve.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",xi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(Vs()<=ve.DEBUG&&K("QueryEngine","Query:",xi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Vs()<=ve.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",xi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pn(n))):L.resolve())}Yi(e,n){if(Vm(n))return L.resolve(null);let r=Pn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=yd(n,null,"F"),r=Pn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ce(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,l);return this.ns(n,c,o,u.readTime)?this.Yi(e,yd(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return Vm(n)||i.isEqual(te.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?L.resolve(null):(Vs()<=ve.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xi(n)),this.rs(e,o,n,yS(i,-1)).next(l=>l))})}ts(e,n){let r=new vt(y0(e));return n.forEach((i,s)=>{nu(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Vs()<=ve.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",xi(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ir.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Be(xe),this._s=new fs(s=>Oh(s),Vh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function qI(t,e,n,r){return new WI(t,e,n,r)}async function F0(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=ce();for(const c of i){o.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:l}))})})}function HI(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const p=c.batch,y=p.keys();let _=L.resolve();return y.forEach(R=>{_=_.next(()=>f.getEntry(u,R)).next(P=>{const N=c.docVersions.get(R);Ce(N!==null),P.version.compareTo(N)<0&&(p.applyToRemoteDocument(P,c),P.isValidDocument()&&(P.setReadTime(c.commitVersion),f.addEntry(P)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=ce();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function $0(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function KI(t,e){const n=ne(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((f,p)=>{const y=i.get(p);if(!y)return;l.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,p)));let _=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(wt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):f.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(f.resumeToken,r)),i=i.insert(p,_),function(P,N,m){return P.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(y,_,f)&&l.push(n.Ur.updateTargetData(s,_))});let u=Qn(),c=ce();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(GI(s,o,e.documentUpdates).next(f=>{u=f.Ps,c=f.Is})),!r.isEqual(te.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return L.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.os=i,s))}function GI(t,e,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Qn();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):K("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function QI(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XI(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new ur(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function xd(t,e,n){const r=ne(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!$o(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function qm(t,e,n){const r=ne(t);let i=te.min(),s=ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,f){const p=ne(u),y=p._s.get(f);return y!==void 0?L.resolve(p.os.get(y)):p.Ur.getTargetData(c,f)}(r,o,Pn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:ce())).next(l=>(YI(r,US(e),l),{documents:l,Ts:s})))}function YI(t,e,n){let r=t.us.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Hm{constructor(){this.activeTargetIds=KS()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JI{constructor(){this.so=new Hm,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Hm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Na=null;function nc(){return Na===null?Na=function(){return 268435456+Math.round(2147483648*Math.random())}():Na++,"0x"+Na.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At="WebChannelConnection";class nC extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=nc(),u=this.xo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,u,c,i).then(f=>(K("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw Ji("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ds}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=eC[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=nc();return new Promise((o,l)=>{const u=new e0;u.setWithCredentials(!0),u.listenOnce(t0.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ga.NO_ERROR:const f=u.getResponseJson();K(At,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Ga.TIMEOUT:K(At,`RPC '${e}' ${s} timed out`),l(new X(j.DEADLINE_EXCEEDED,"Request time out"));break;case Ga.HTTP_ERROR:const p=u.getStatus();if(K(At,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y==null?void 0:y.error;if(_&&_.status&&_.message){const R=function(N){const m=N.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(m)>=0?m:j.UNKNOWN}(_.status);l(new X(R,_.message))}else l(new X(j.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new X(j.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{K(At,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);K(At,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=nc(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=i0(),l=r0(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");K(At,`Creating RPC '${e}' stream ${i}: ${f}`,u);const p=o.createWebChannel(f,u);let y=!1,_=!1;const R=new tC({Io:N=>{_?K(At,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(y||(K(At,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),K(At,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},To:()=>p.close()}),P=(N,m,E)=>{N.listen(m,I=>{try{E(I)}catch(V){setTimeout(()=>{throw V},0)}})};return P(p,Fs.EventType.OPEN,()=>{_||(K(At,`RPC '${e}' stream ${i} transport opened.`),R.yo())}),P(p,Fs.EventType.CLOSE,()=>{_||(_=!0,K(At,`RPC '${e}' stream ${i} transport closed`),R.So())}),P(p,Fs.EventType.ERROR,N=>{_||(_=!0,Ji(At,`RPC '${e}' stream ${i} transport errored:`,N),R.So(new X(j.UNAVAILABLE,"The operation could not be completed")))}),P(p,Fs.EventType.MESSAGE,N=>{var m;if(!_){const E=N.data[0];Ce(!!E);const I=E,V=I.error||((m=I[0])===null||m===void 0?void 0:m.error);if(V){K(At,`RPC '${e}' stream ${i} received error:`,V);const M=V.status;let $=function(x){const T=Ye[x];if(T!==void 0)return P0(T)}(M),S=V.message;$===void 0&&($=j.INTERNAL,S="Unknown error status: "+M+" with message "+V.message),_=!0,R.So(new X($,S)),p.close()}else K(At,`RPC '${e}' stream ${i} received:`,E),R.bo(E)}}),P(l,n0.STAT_EVENT,N=>{N.stat===hd.PROXY?K(At,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===hd.NOPROXY&&K(At,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.wo()},0),R}}function rc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t){return new hI(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n,r,i,s,o,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new U0(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Gn(n.toString()),Gn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new X(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rC extends z0{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=mI(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?kn(o.readTime):te.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Ed(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=gd(u)?{documents:vI(s,u)}:{query:_I(s,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=b0(s,o.resumeToken);const c=vd(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(te.min())>0){l.readTime=Nl(s,o.snapshotVersion.toTimestamp());const c=vd(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=EI(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Ed(this.serializer),n.removeTarget=e,this.a_(n)}}class iC extends z0{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=yI(e.writeResults,e.commitTime),r=kn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Ed(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>gI(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new X(j.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,_d(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(j.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,_d(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(j.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class oC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Gn(n),this.D_=!1):K("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{ui(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=ne(u);c.L_.add(4),await Bo(c),c.q_.set("Unknown"),c.L_.delete(4),await au(c)}(this))})}),this.q_=new oC(r,i)}}async function au(t){if(ui(t))for(const e of t.B_)await e(!0)}async function Bo(t){for(const e of t.B_)await e(!1)}function B0(t,e){const n=ne(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Hh(n)?qh(n):ps(n).r_()&&Wh(n,e))}function Bh(t,e){const n=ne(t),r=ps(n);n.N_.delete(e),r.r_()&&W0(n,e),n.N_.size===0&&(r.r_()?r.o_():ui(n)&&n.q_.set("Unknown"))}function Wh(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ps(t).A_(e)}function W0(t,e){t.Q_.xe(e),ps(t).R_(e)}function qh(t){t.Q_=new lI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ps(t).start(),t.q_.v_()}function Hh(t){return ui(t)&&!ps(t).n_()&&t.N_.size>0}function ui(t){return ne(t).L_.size===0}function q0(t){t.Q_=void 0}async function lC(t){t.q_.set("Online")}async function uC(t){t.N_.forEach((e,n)=>{Wh(t,e)})}async function cC(t,e){q0(t),Hh(t)?(t.q_.M_(e),qh(t)):t.q_.set("Unknown")}async function dC(t,e,n){if(t.q_.set("Online"),e instanceof N0&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bl(t,r)}else if(e instanceof Ya?t.Q_.Ke(e):e instanceof k0?t.Q_.He(e):t.Q_.We(e),!n.isEqual(te.min()))try{const r=await $0(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Q_.rt(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.N_.get(c);f&&s.N_.set(c,f.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(wt.EMPTY_BYTE_STRING,f.snapshotVersion)),W0(s,u);const p=new ur(f.target,u,c,f.sequenceNumber);Wh(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await bl(t,r)}}async function bl(t,e,n){if(!$o(e))throw e;t.L_.add(1),await Bo(t),t.q_.set("Offline"),n||(n=()=>$0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await au(t)})}function H0(t,e){return e().catch(n=>bl(t,n,e))}async function lu(t){const e=ne(t),n=Ar(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;hC(e);)try{const i=await QI(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,fC(e,i)}catch(i){await bl(e,i)}K0(e)&&G0(e)}function hC(t){return ui(t)&&t.O_.length<10}function fC(t,e){t.O_.push(e);const n=Ar(t);n.r_()&&n.V_&&n.m_(e.mutations)}function K0(t){return ui(t)&&!Ar(t).n_()&&t.O_.length>0}function G0(t){Ar(t).start()}async function pC(t){Ar(t).p_()}async function mC(t){const e=Ar(t);for(const n of t.O_)e.m_(n.mutations)}async function gC(t,e,n){const r=t.O_.shift(),i=Lh.from(r,e,n);await H0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await lu(t)}async function yC(t,e){e&&Ar(t).V_&&await async function(r,i){if(function(o){return sI(o)&&o!==j.ABORTED}(i.code)){const s=r.O_.shift();Ar(r).s_(),await H0(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await lu(r)}}(t,e),K0(t)&&G0(t)}async function Gm(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=ui(n);n.L_.add(3),await Bo(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await au(n)}async function vC(t,e){const n=ne(t);e?(n.L_.delete(2),await au(n)):e||(n.L_.add(2),await Bo(n),n.q_.set("Unknown"))}function ps(t){return t.K_||(t.K_=function(n,r,i){const s=ne(n);return s.w_(),new rC(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:lC.bind(null,t),Ro:uC.bind(null,t),mo:cC.bind(null,t),d_:dC.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Hh(t)?qh(t):t.q_.set("Unknown")):(await t.K_.stop(),q0(t))})),t.K_}function Ar(t){return t.U_||(t.U_=function(n,r,i){const s=ne(n);return s.w_(),new iC(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:pC.bind(null,t),mo:yC.bind(null,t),f_:mC.bind(null,t),g_:gC.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await lu(t)):(await t.U_.stop(),t.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Kh(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gh(t,e){if(Gn("AsyncQueue",`${e}: ${t}`),$o(t))return new X(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=$s(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new Wi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.W_=new Be(Y.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ee():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class rs{constructor(e,n,r,i,s,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new rs(e,n,Wi.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class wC{constructor(){this.queries=Xm(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ne(n),s=i.queries;i.queries=Xm(),s.forEach((o,l)=>{for(const u of l.j_)u.onError(r)})})(this,new X(j.ABORTED,"Firestore shutting down"))}}function Xm(){return new fs(t=>g0(t),tu)}async function EC(t,e){const n=ne(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new _C,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Gh(o,`Initialization of query '${xi(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Qh(n)}async function xC(t,e){const n=ne(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function TC(t,e){const n=ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.j_)l.X_(i)&&(r=!0);o.z_=i}}r&&Qh(n)}function SC(t,e,n){const r=ne(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Qh(t){t.Y_.forEach(e=>{e.next()})}var Td,Ym;(Ym=Td||(Td={})).ea="default",Ym.Cache="cache";class IC{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new rs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=rs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Td.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this.key=e}}class X0{constructor(e){this.key=e}}class CC{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ce(),this.mutatedKeys=ce(),this.Aa=y0(e),this.Ra=new Wi(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Qm,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const y=i.get(f),_=nu(this.query,p)?p:null,R=!!y&&this.mutatedKeys.has(y.key),P=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let N=!1;y&&_?y.data.isEqual(_.data)?R!==P&&(r.track({type:3,doc:_}),N=!0):this.ga(y,_)||(r.track({type:2,doc:_}),N=!0,(u&&this.Aa(_,u)>0||c&&this.Aa(_,c)<0)&&(l=!0)):!y&&_?(r.track({type:0,doc:_}),N=!0):y&&!_&&(r.track({type:1,doc:y}),N=!0,(u||c)&&(l=!0)),N&&(_?(o=o.add(_),s=P?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,p)=>function(_,R){const P=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return P(_)-P(R)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new rs(this.query,e.Ra,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Qm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ce(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new X0(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Q0(r))}),n}ba(e){this.Ta=e.Ts,this.da=ce();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return rs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class AC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RC{constructor(e){this.key=e,this.va=!1}}class PC{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new fs(l=>g0(l),tu),this.Ma=new Map,this.xa=new Set,this.Oa=new Be(Y.comparator),this.Na=new Map,this.La=new $h,this.Ba={},this.ka=new Map,this.qa=ns.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function kC(t,e,n=!0){const r=n_(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Y0(r,e,n,!0),i}async function NC(t,e){const n=n_(t);await Y0(n,e,!0,!1)}async function Y0(t,e,n,r){const i=await XI(t.localStore,Pn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await bC(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&B0(t.remoteStore,i),l}async function bC(t,e,n,r,i){t.Ka=(p,y,_)=>async function(P,N,m,E){let I=N.view.ma(m);I.ns&&(I=await qm(P.localStore,N.query,!1).then(({documents:S})=>N.view.ma(S,I)));const V=E&&E.targetChanges.get(N.targetId),M=E&&E.targetMismatches.get(N.targetId)!=null,$=N.view.applyChanges(I,P.isPrimaryClient,V,M);return Zm(P,N.targetId,$.wa),$.snapshot}(t,p,y,_);const s=await qm(t.localStore,e,!0),o=new CC(e,s.Ts),l=o.ma(s.documents),u=zo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,u);Zm(t,n,c.wa);const f=new AC(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function OC(t,e,n){const r=ne(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!tu(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await xd(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Bh(r.remoteStore,i.targetId),Sd(r,i.targetId)}).catch(Fo)):(Sd(r,i.targetId),await xd(r.localStore,i.targetId,!0))}async function VC(t,e){const n=ne(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Bh(n.remoteStore,r.targetId))}async function DC(t,e,n){const r=zC(t);try{const i=await function(o,l){const u=ne(o),c=st.now(),f=l.reduce((_,R)=>_.add(R.key),ce());let p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let R=Qn(),P=ce();return u.cs.getEntries(_,f).next(N=>{R=N,R.forEach((m,E)=>{E.isValidDocument()||(P=P.add(m))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,R)).next(N=>{p=N;const m=[];for(const E of l){const I=eI(E,p.get(E.key).overlayedDocument);I!=null&&m.push(new li(E.key,I,u0(I.value.mapValue),Un.exists(!0)))}return u.mutationQueue.addMutationBatch(_,c,m,l)}).next(N=>{y=N;const m=N.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(_,N.batchId,m)})}).then(()=>({batchId:y.batchId,changes:_0(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new Be(xe)),c=c.insert(l,u),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Wo(r,i.changes),await lu(r.remoteStore)}catch(i){const s=Gh(i,"Failed to persist write");n.reject(s)}}async function J0(t,e){const n=ne(t);try{const r=await KI(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ce(o.va):i.removedDocuments.size>0&&(Ce(o.va),o.va=!1))}),await Wo(n,r,e)}catch(r){await Fo(r)}}function Jm(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=ne(o);u.onlineState=l;let c=!1;u.queries.forEach((f,p)=>{for(const y of p.j_)y.Z_(l)&&(c=!0)}),c&&Qh(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function MC(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Be(Y.comparator);o=o.insert(s,kt.newNoDocument(s,te.min()));const l=ce().add(s),u=new su(te.min(),new Map,new Be(xe),o,l);await J0(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),Xh(r)}else await xd(r.localStore,e,!1).then(()=>Sd(r,e,n)).catch(Fo)}async function LC(t,e){const n=ne(t),r=e.batch.batchId;try{const i=await HI(n.localStore,e);e_(n,r,null),Z0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wo(n,i)}catch(i){await Fo(i)}}async function jC(t,e,n){const r=ne(t);try{const i=await function(o,l){const u=ne(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(Ce(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);e_(r,e,n),Z0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wo(r,i)}catch(i){await Fo(i)}}function Z0(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function e_(t,e,n){const r=ne(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Sd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||t_(t,r)})}function t_(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Bh(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Xh(t))}function Zm(t,e,n){for(const r of n)r instanceof Q0?(t.La.addReference(r.key,e),FC(t,r)):r instanceof X0?(K("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||t_(t,r.key)):ee()}function FC(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(K("SyncEngine","New document in limbo: "+n),t.xa.add(r),Xh(t))}function Xh(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Y(Le.fromString(e)),r=t.qa.next();t.Na.set(r,new RC(n)),t.Oa=t.Oa.insert(n,r),B0(t.remoteStore,new ur(Pn(Dh(n.path)),r,"TargetPurposeLimboResolution",Ph.oe))}}async function Wo(t,e,n){const r=ne(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{o.push(r.Ka(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=zh.Wi(u.targetId,c);s.push(p)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,c){const f=ne(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(c,y=>L.forEach(y.$i,_=>f.persistence.referenceDelegate.addReference(p,y.targetId,_)).next(()=>L.forEach(y.Ui,_=>f.persistence.referenceDelegate.removeReference(p,y.targetId,_)))))}catch(p){if(!$o(p))throw p;K("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const y=p.targetId;if(!p.fromCache){const _=f.os.get(y),R=_.snapshotVersion,P=_.withLastLimboFreeSnapshotVersion(R);f.os=f.os.insert(y,P)}}}(r.localStore,s))}async function $C(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await F0(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(u=>{u.reject(new X(j.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wo(n,r.hs)}}function UC(t,e){const n=ne(t),r=n.Na.get(e);if(r&&r.va)return ce().add(r.key);{let i=ce();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const l=n.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}function n_(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=J0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MC.bind(null,e),e.Ca.d_=TC.bind(null,e.eventManager),e.Ca.$a=SC.bind(null,e.eventManager),e}function zC(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jC.bind(null,e),e}class Ol{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ou(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return qI(this.persistence,new BI,e.initialUser,this.serializer)}Ga(e){return new $I(Uh.Zr,this.serializer)}Wa(e){return new JI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ol.provider={build:()=>new Ol};class Id{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Jm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$C.bind(null,this.syncEngine),await vC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wC}()}createDatastore(e){const n=ou(e.databaseInfo.databaseId),r=function(s){return new nC(s)}(e.databaseInfo);return function(s,o,l,u){return new sC(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new aC(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Jm(this.syncEngine,n,0),function(){return Km.D()?new Km:new ZI}())}createSyncEngine(e,n){return function(i,s,o,l,u,c,f){const p=new PC(i,s,o,l,u,c);return f&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ne(i);K("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Bo(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Id.provider={build:()=>new Id};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Gn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=o0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{K("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gh(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ic(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await F0(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function eg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qC(t);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Gm(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Gm(e.remoteStore,i)),t._onlineComponents=e}async function qC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await ic(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===j.FAILED_PRECONDITION||i.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ji("Error using user provided cache. Falling back to memory cache: "+n),await ic(t,new Ol)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await ic(t,new Ol);return t._offlineComponents}async function r_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await eg(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await eg(t,new Id))),t._onlineComponents}function HC(t){return r_(t).then(e=>e.syncEngine)}async function KC(t){const e=await r_(t),n=e.eventManager;return n.onListen=kC.bind(null,e.syncEngine),n.onUnlisten=OC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VC.bind(null,e.syncEngine),n}function GC(t,e,n={}){const r=new Er;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const f=new BC({next:y=>{f.Za(),o.enqueueAndForget(()=>xC(s,p));const _=y.docs.has(l);!_&&y.fromCache?c.reject(new X(j.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&u&&u.source==="server"?c.reject(new X(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(y)},error:y=>c.reject(y)}),p=new IC(Dh(l.path),f,{includeMetadataChanges:!0,_a:!0});return EC(s,p)}(await KC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t,e,n){if(!n)throw new X(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QC(t,e,n,r){if(e===!0&&r===!0)throw new X(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ng(t){if(!Y.isDocumentKey(t))throw new X(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rg(t){if(Y.isDocumentKey(t))throw new X(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function ko(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yh(t);throw new X(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ig({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ig(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lS;switch(r.type){case"firstParty":return new hS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=tg.get(n);r&&(K("ComponentProvider","Removing Datastore"),tg.delete(n),r.terminate())}(this),Promise.resolve()}}function XC(t,e,n,r={}){var i;const s=(t=ko(t,uu))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ji("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Rt.MOCK_USER;else{l=U1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new X(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Rt(c)}t._authCredentials=new uS(new s0(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jh(this.firestore,e,this._query)}}class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}}class xr extends Jh{constructor(e,n,r){super(e,n,Dh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new Y(e))}withConverter(e){return new xr(this.firestore,e,this._path)}}function o_(t,e,...n){if(t=Eo(t),s_("collection","path",e),t instanceof uu){const r=Le.fromString(e,...n);return rg(r),new xr(t,null,r)}{if(!(t instanceof Yt||t instanceof xr))throw new X(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return rg(r),new xr(t.firestore,null,r)}}function a_(t,e,...n){if(t=Eo(t),arguments.length===1&&(e=o0.newId()),s_("doc","path",e),t instanceof uu){const r=Le.fromString(e,...n);return ng(r),new Yt(t,null,new Y(r))}{if(!(t instanceof Yt||t instanceof xr))throw new X(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return ng(r),new Yt(t.firestore,t instanceof xr?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new U0(this,"async_queue_retry"),this.Vu=()=>{const r=rc();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=rc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=rc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Er;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!$o(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Gn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Kh.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ee()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Zh extends uu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new sg,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sg(e),this._firestoreClient=void 0,await e}}}function YC(t,e){const n=typeof t=="object"?t:XT(),r=typeof t=="string"?t:"(default)",i=HT(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=F1("firestore");s&&XC(i,...s)}return i}function l_(t){if(t._terminated)throw new X(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||JC(t),t._firestoreClient}function JC(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,c,f){return new IS(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,i_(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new WC(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this._byteString=e}static fromBase64String(e){try{return new is(wt.fromBase64String(e))}catch(n){throw new X(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new is(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=/^__.*__$/;class eA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new li(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uo(e,this.data,n,this.fieldTransforms)}}function c_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class rf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new rf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Vl(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(c_(this.Cu)&&ZC.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class tA{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ou(e)}Qu(e,n,r,i=!1){return new rf({Cu:e,methodName:n,qu:r,path:mt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nA(t){const e=t._freezeSettings(),n=ou(t._databaseId);return new tA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rA(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);p_("Data must be an object, but it was:",o,r);const l=h_(r,o);let u,c;if(s.merge)u=new vn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const y=iA(e,p,n);if(!o.contains(y))throw new X(j.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);oA(f,y)||f.push(y)}u=new vn(f),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new eA(new on(l),u,c)}function d_(t,e){if(f_(t=Eo(t)))return p_("Unsupported field value:",e,t),h_(t,e);if(t instanceof u_)return function(r,i){if(!c_(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=d_(l,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Eo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GS(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=st.fromDate(r);return{timestampValue:Nl(i.serializer,s)}}if(r instanceof st){const s=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nl(i.serializer,s)}}if(r instanceof tf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof is)return{bytesValue:b0(i.serializer,r._byteString)};if(r instanceof Yt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Fh(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof nf)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return Mh(l.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Yh(r)}`)}(t,e)}function h_(t,e){const n={};return a0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hs(t,(r,i)=>{const s=d_(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function f_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof tf||t instanceof is||t instanceof Yt||t instanceof u_||t instanceof nf)}function p_(t,e,n){if(!f_(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Yh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function iA(t,e,n){if((e=Eo(e))instanceof ef)return e._internalPath;if(typeof e=="string")return m_(t,e);throw Vl("Field path arguments must be of type string or ",t,!1,void 0,n)}const sA=new RegExp("[~\\*/\\[\\]]");function m_(t,e,n){if(e.search(sA)>=0)throw Vl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ef(...e.split("."))._internalPath}catch{throw Vl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vl(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new X(j.INVALID_ARGUMENT,l+t+u)}function oA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(y_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aA extends g_{data(){return super.data()}}function y_(t,e){return typeof e=="string"?m_(t,e):e instanceof ef?e._internalPath:e._delegate._internalPath}class lA{convertValue(e,n="none"){switch(si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return hs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ke(o.doubleValue));return new nf(s)}convertGeoPoint(e){return new tf(Ke(e.latitude),Ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Nh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Io(e));default:return null}}convertTimestamp(e){const n=Cr(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);Ce(j0(r));const i=new Co(r.get(1),r.get(3)),s=new Y(r.popFirst(5));return i.isEqual(n)||Gn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class v_ extends g_{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(y_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class dA extends v_{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t){t=ko(t,Yt);const e=ko(t.firestore,Zh);return GC(l_(e),t._key).then(n=>gA(e,t,n))}class fA extends lA{constructor(e){super(),this.firestore=e}convertBytes(e){return new is(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function pA(t,e,n){t=ko(t,Yt);const r=ko(t.firestore,Zh),i=uA(t.converter,e,n);return mA(r,[rA(nA(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Un.none())])}function mA(t,e){return function(r,i){const s=new Er;return r.asyncQueue.enqueueAndForget(async()=>DC(await HC(r),i,s)),s.promise}(l_(t),e)}function gA(t,e,n){const r=n.docs.get(e._key),i=new fA(t);return new v_(t,i,e._key,r,new cA(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ds=i})(QT),Il(new xo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Zh(new cS(r.getProvider("auth-internal")),new pS(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new X(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Co(c.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Bi(Sm,"4.7.3",e),Bi(Sm,"4.7.3","esm2017")})();const yA={apiKey:"AIzaSyAXw9kIiYSqriU-xaK8wVyxvj8cd_neUZM",authDomain:"equipa-diferente.firebaseapp.com",projectId:"equipa-diferente",storageBucket:"equipa-diferente.firebasestorage.app",messagingSenderId:"478976697670",appId:"1:478976697670:web:f147f16371483d173ab147",measurementId:"G-H6ENY6889N"},vA=Xv(yA),__=YC(vA);o_(__,"suggestions");const w_=o_(__,"userSettings");async function E_(t){const e=a_(w_,t),n=await hA(e);return n.exists()?n.data():null}async function x_(t,e){const n=a_(w_,t);await pA(n,e,{merge:!0})}const T_=b.createContext(void 0),_A=({children:t})=>{const[e,n]=b.useState(()=>window.matchMedia("(prefers-color-scheme: dark)").matches),[r,i]=b.useState(!1),s=async l=>{i(!0);try{const u=await E_(l);u!==null&&n(u.darkMode)}catch(u){console.error("Error loading user settings:",u)}finally{i(!1)}},o=()=>{n(l=>!l)};return r?w.jsx("div",{className:`min-h-screen ${e?"bg-gray-900":"bg-gray-100"} flex items-center justify-center`,children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-yellow-500"})}):w.jsx(T_.Provider,{value:{isDarkMode:e,toggleDarkMode:o,isLoading:r,initializeWithUserSettings:s},children:t})},ms=()=>{const t=b.useContext(T_);if(t===void 0)throw new Error("useDarkMode must be used within a DarkModeProvider");return t};function cu(){const t=jo(),[e,n]=gt.useState(null),{isDarkMode:r,toggleDarkMode:i}=ms();gt.useEffect(()=>{const o=localStorage.getItem("user");o&&n(JSON.parse(o))},[]);const s=async()=>{const o=localStorage.getItem("user");if(o){const u=JSON.parse(o);await x_(u.userId,{darkMode:r})}localStorage.removeItem("isAuthenticated"),localStorage.removeItem("user");const l=window.matchMedia("(prefers-color-scheme: dark)").matches;r!==l&&i(),t("/login")};return w.jsx("header",{className:`${r?"bg-gray-800 shadow-lg":"bg-white shadow-md"}`,children:w.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-8",children:[w.jsxs("h1",{onClick:()=>t("/"),className:`text-3xl font-bold flex items-center ${r?"text-yellow-400":"text-yellow-600"} cursor-pointer hover:opacity-80 transition-opacity`,children:[w.jsx("img",{src:"/equipa-unifo/octo.svg",alt:"Octopus Logo",className:"w-8 h-8 mr-2"}),"Equipa UNIFO"]}),w.jsxs("span",{className:`text-sm ${r?"text-gray-300":"text-gray-600"}`,children:["Welcome, ",(e==null?void 0:e.name)||"User"]})]}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("button",{onClick:i,className:`p-2 rounded-lg ${r?"bg-gray-700 text-yellow-400":"bg-gray-100 text-gray-700"} hover:bg-opacity-80 transition-colors`,children:r?w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),w.jsxs("button",{onClick:s,className:"inline-flex items-center gap-2 bg-red-600 text-white rounded-lg px-4 py-2 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors",children:[w.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sair"]})]})]})})})}const wA=[{name:"Gerador de NIF",description:"Gere nmeros de identificao fiscal vlidos para diferentes pases: Portugal, Espanha, Frana e Alemanha.",path:"/nif-generator",icon:w.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})},{name:"Nmero da Funo",description:"Encontre rapidamente o nmero da funo com base no nome. Pesquisa inteligente com sugestes em tempo real.",path:"/function-number",icon:w.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})},{name:"Upload de Evidncias",description:"Importe evidncias para o Xray Cloud. Faa upload de documentos e organize suas evidncias de forma eficiente.",path:"/import-evidence",icon:w.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}];function EA(){const t=jo(),[e,n]=b.useState(null),{isDarkMode:r}=ms();return w.jsxs("div",{className:`min-h-screen transition-colors duration-200 ${r?"bg-gray-900 text-white":"bg-gradient-to-br from-gray-50 to-gray-100 text-gray-900"}`,children:[w.jsx(cu,{}),w.jsx("main",{className:"max-w-7xl mx-auto px-4 py-12",children:w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto",children:wA.map((i,s)=>w.jsx("div",{className:`group relative ${r?"bg-gray-800":"bg-white"} rounded-xl shadow-lg overflow-hidden transform transition-all duration-300 hover:scale-105 hover:shadow-xl animate-fade-in-up border ${r?"border-gray-700":"border-gray-200"}`,style:{animationDelay:`${s*150}ms`},onMouseEnter:()=>n(i.path),onMouseLeave:()=>n(null),onClick:()=>t(i.path),children:w.jsxs("div",{className:"p-10 h-full min-h-[400px] cursor-pointer flex flex-col",children:[w.jsxs("div",{className:"flex flex-col items-center text-center flex-1 justify-center",children:[w.jsx("div",{className:`${r?"text-yellow-400":"text-yellow-600"} transform transition-transform duration-300 group-hover:scale-110 group-hover:rotate-6 mb-6`,children:w.jsx("div",{className:"w-16 h-16",children:i.icon})}),w.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[w.jsx("h3",{className:`text-3xl font-semibold mb-6 ${r?"text-white":"text-gray-900"} group-hover:text-yellow-500 transition-colors duration-300`,children:i.name}),w.jsx("p",{className:`text-lg flex-1 ${r?"text-gray-300":"text-gray-600"} transition-colors duration-300 leading-relaxed max-w-md mx-auto`,children:i.description})]})]}),w.jsx("div",{className:`absolute bottom-0 left-0 w-full h-1 transform scale-x-0 transition-transform duration-300 ${r?"bg-yellow-400":"bg-yellow-600"} ${e===i.path?"scale-x-100":""}`})]})},i.path))})})]})}const og=[{value:"pt",label:"Portugal",flag:""},{value:"es",label:"Espanha",flag:""},{value:"fr",label:"Frana",flag:""},{value:"de",label:"Alemanha",flag:""}],xA=()=>{const[t,e]=b.useState("pt"),[n,r]=b.useState(""),[i,s]=b.useState(!1),[o,l]=b.useState(!1),{isDarkMode:u}=ms(),c=og.find(N=>N.value===t),f=()=>{const N=[1,2,3,5,6,8],m=N[Math.floor(Math.random()*N.length)].toString(),E=Array.from({length:7},()=>Math.floor(Math.random()*10)).join(""),I=m+E;let M=I.split("").map((S,v)=>parseInt(S)*(9-v)).reduce((S,v)=>S+v,0)%11,$=M<2?0:11-M;r(I+$)},p=()=>{const N="TRWAGMYFPDXBNJZSQVHLCKE",m=Math.floor(Math.random()*1e8),E=N[m%23];r(m.toString().padStart(8,"0")+E)},y=()=>{const N=Math.floor(Math.random()*2)+1,m=Array.from({length:12},()=>Math.floor(Math.random()*10)).join("");r(N+m)},_=()=>{const N=Array.from({length:10},()=>Math.floor(Math.random()*10)).join("");r(N)},R=()=>{switch(t){case"pt":f();break;case"es":p();break;case"fr":y();break;case"de":_();break;default:r("(Pas no suportado)")}l(!1),s(!1)},P=async()=>{try{await navigator.clipboard.writeText(n),l(!0),setTimeout(()=>l(!1),2e3)}catch(N){console.error("Failed to copy:",N)}};return w.jsxs("div",{className:`min-h-screen transition-colors duration-200 ${u?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:[w.jsx(cu,{}),w.jsx("main",{className:"py-8 px-4 sm:px-6 lg:px-8",children:w.jsx("div",{className:"max-w-lg mx-auto",children:w.jsx("div",{className:`${u?"bg-gray-800":"bg-white"} shadow-lg rounded-lg overflow-visible`,children:w.jsxs("div",{className:"p-8 space-y-6",children:[w.jsx(zv,{to:"/",className:`inline-flex items-center ${u?"text-yellow-400 hover:text-yellow-300":"text-yellow-600 hover:text-yellow-800"}`,children:" Voltar  Home"}),w.jsxs("div",{className:"text-center",children:[w.jsxs("h1",{className:`text-3xl font-bold flex items-center justify-center ${u?"text-white":"text-gray-900"}`,children:[c.flag," Gerador de NIF"]}),w.jsx("p",{className:`mt-2 ${u?"text-gray-300":"text-gray-600"}`,children:"Gere nmeros de identificao fiscal vlidos para diferentes pases"})]}),w.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[w.jsxs("div",{className:"relative",children:[w.jsxs("button",{type:"button",className:`relative w-full border rounded-lg pl-3 pr-10 py-3 text-left cursor-pointer focus:outline-none focus:ring-1 focus:ring-yellow-500 focus:border-yellow-500 sm:text-sm ${u?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,onClick:()=>s(!i),children:[w.jsxs("span",{className:"flex items-center",children:[w.jsx("span",{className:"text-2xl mr-3",children:c.flag}),w.jsx("span",{className:"block truncate",children:c.label})]}),w.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:w.jsx("svg",{className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),i&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>s(!1)}),w.jsx("ul",{className:`absolute z-20 mt-1 w-full shadow-lg max-h-60 rounded-md py-1 ring-1 ring-black ring-opacity-5 overflow-auto sm:text-sm ${u?"bg-gray-700":"bg-white"}`,role:"listbox",children:og.map(N=>w.jsxs("li",{className:`cursor-pointer select-none relative py-2 pl-3 pr-9 ${N.value===t?u?"bg-gray-600 text-white":"bg-gray-50 text-yellow-600":u?"text-gray-200 hover:bg-gray-600":"text-gray-900 hover:bg-gray-100"}`,role:"option",onClick:()=>{e(N.value),s(!1)},children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx("span",{className:"text-2xl mr-3",children:N.flag}),w.jsx("span",{className:N.value===t?"font-semibold":"font-normal",children:N.label})]}),N.value===t&&w.jsx("span",{className:`absolute inset-y-0 right-0 flex items-center pr-4 ${u?"text-white":"text-yellow-600"}`,children:w.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},N.value))})]})]}),w.jsx("button",{onClick:R,className:"w-full bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors text-lg font-medium",children:"Gerar NIF"}),n&&w.jsx("div",{className:`mt-6 rounded-lg p-4 ${u?"bg-gray-700":"bg-gray-50"}`,children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsxs("p",{className:`text-sm font-medium ${u?"text-gray-300":"text-gray-500"}`,children:["NIF Gerado para ",c.flag," ",c.label]}),w.jsx("p",{className:`mt-1 text-2xl font-bold font-mono ${u?"text-white":"text-gray-900"}`,children:n})]}),w.jsx("button",{onClick:P,className:`ml-4 p-2 focus:outline-none ${u?"text-gray-300 hover:text-white":"text-gray-500 hover:text-gray-700"}`,title:"Copiar para a rea de transferncia",children:o?w.jsx("svg",{className:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})})})]})})]})]})})})})]})},TA=[{userId:"3694",password:"369400",name:"Administrator",darkMode:!0,xrayAccountId:"712020:7351335a-fbae-470f-aca6-6bb415b1ec63"},{userId:"3119",password:"11223344",name:"Filipe Silva",darkMode:!1},{userId:"820159",password:"477455",name:"Mario Fonseca",darkMode:!1},{userId:"220529",password:"112233",name:"Edite Pontes",darkMode:!1}],SA=(t,e)=>{const n=TA.find(r=>r.userId===t&&r.password===e);return n?{...n}:null};function IA(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(""),o=jo(),{isDarkMode:l,initializeWithUserSettings:u}=ms(),c=p=>{const{name:y,value:_}=p.target;/^\d*$/.test(_)&&(y==="userId"&&_.length<=6||y==="password"&&_.length<=8)&&(y==="userId"?e(_):r(_))},f=async p=>{if(p.preventDefault(),t.length!==4&&t.length!==6){s("O ID do usurio deve ter 4 ou 6 dgitos");return}if(n.length!==6&&n.length!==8){s("A senha deve ter 6 ou 8 dgitos");return}const y=SA(t,n);y?(await E_(t)===null&&await x_(t,{darkMode:!!y.darkMode}),localStorage.setItem("user",JSON.stringify({...y,userId:t})),localStorage.setItem("isAuthenticated","true"),await u(t),o("/")):s("ID do usurio ou senha invlidos")};return w.jsxs("div",{className:`min-h-screen transition-colors duration-200 ${l?"bg-gray-900":"bg-gradient-to-br from-blue-50 to-gray-100"} flex flex-col justify-center py-12 sm:px-6 lg:px-8`,children:[w.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[w.jsx("div",{className:"flex justify-center",children:w.jsx("img",{src:"/equipa-unifo/octo.svg",alt:"Octopus Logo",className:"w-20 h-20 animate-bounce"})}),w.jsx("h2",{className:`mt-6 text-center text-4xl font-extrabold ${l?"text-white":"text-gray-900"}`,children:"Equipa UNIFO"}),w.jsx("p",{className:`mt-2 text-center text-lg ${l?"text-gray-300":"text-gray-600"}`,children:"Entre com suas credenciais"})]}),w.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:w.jsx("div",{className:`${l?"bg-gray-800 border-gray-700":"bg-white border-gray-100"} py-8 px-4 shadow-2xl sm:rounded-xl sm:px-10 border transition-colors duration-200`,children:w.jsxs("form",{className:"space-y-6",onSubmit:f,children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"userId",className:`block text-sm font-medium ${l?"text-gray-300":"text-gray-700"}`,children:"Cdigo de operador"}),w.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[w.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:w.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),w.jsx("input",{id:"userId",name:"userId",type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:6,required:!0,className:`appearance-none block w-full pl-10 pr-3 py-3 border ${l?"border-gray-600 bg-gray-700 text-white placeholder-gray-400":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 text-lg transition-all duration-200`,placeholder:"4 ou 6 dgitos",value:t,onChange:c})]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"password",className:`block text-sm font-medium ${l?"text-gray-300":"text-gray-700"}`,children:"Senha"}),w.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[w.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:w.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),w.jsx("input",{id:"password",name:"password",type:"password",inputMode:"numeric",pattern:"\\d*",maxLength:8,required:!0,autoComplete:"current-password",className:`appearance-none block w-full pl-10 pr-3 py-3 border ${l?"border-gray-600 bg-gray-700 text-white placeholder-gray-400":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 text-lg transition-all duration-200`,placeholder:"6 ou 8 dgitos",value:n,onChange:c})]})]}),i&&w.jsx("div",{className:`${l?"bg-red-900 border-red-700":"bg-red-50 border-red-400"} border-l-4 p-4 rounded-md`,children:w.jsxs("div",{className:"flex",children:[w.jsx("div",{className:"flex-shrink-0",children:w.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),w.jsx("div",{className:"ml-3",children:w.jsx("p",{className:`text-sm ${l?"text-red-300":"text-red-700"}`,children:i})})]})}),w.jsx("div",{children:w.jsx("button",{type:"submit",className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-lg font-medium text-white bg-yellow-500 hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 transform transition-all duration-200 hover:scale-105",children:"Entrar"})})]})})})]})}const ba=({children:t})=>localStorage.getItem("isAuthenticated")==="true"?w.jsx(w.Fragment,{children:t}):w.jsx(Uv,{to:"/login",replace:!0});function Ei(t,e,n){let r=n.initialDeps??[],i;function s(){var o,l,u,c;let f;n.key&&((o=n.debug)!=null&&o.call(n))&&(f=Date.now());const p=t();if(!(p.length!==r.length||p.some((R,P)=>r[P]!==R)))return i;r=p;let _;if(n.key&&((l=n.debug)!=null&&l.call(n))&&(_=Date.now()),i=e(...p),n.key&&((u=n.debug)!=null&&u.call(n))){const R=Math.round((Date.now()-f)*100)/100,P=Math.round((Date.now()-_)*100)/100,N=P/16,m=(E,I)=>{for(E=String(E);E.length<I;)E=" "+E;return E};console.info(`%c ${m(P,5)} /${m(R,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*N,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(c=n==null?void 0:n.onChange)==null||c.call(n,i),i}return s.updateDeps=o=>{r=o},s}function sc(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const CA=(t,e)=>Math.abs(t-e)<1,AA=(t,e,n)=>{let r;return function(...i){t.clearTimeout(r),r=t.setTimeout(()=>e.apply(this,i),n)}},RA=t=>t,PA=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),r=[];for(let i=e;i<=n;i++)r.push(i);return r},kA=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;const i=o=>{const{width:l,height:u}=o;e({width:Math.round(l),height:Math.round(u)})};if(i(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(o=>{const l=()=>{const u=o[0];if(u!=null&&u.borderBoxSize){const c=u.borderBoxSize[0];if(c){i({width:c.inlineSize,height:c.blockSize});return}}i(n.getBoundingClientRect())};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},ag={passive:!0},lg=typeof window>"u"?!0:"onscrollend"in window,NA=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;let i=0;const s=t.options.useScrollendEvent&&lg?()=>{}:AA(r,()=>{e(i,!1)},t.options.isScrollingResetDelay),o=f=>()=>{const{horizontal:p,isRtl:y}=t.options;i=p?n.scrollLeft*(y&&-1||1):n.scrollTop,s(),e(i,f)},l=o(!0),u=o(!1);u(),n.addEventListener("scroll",l,ag);const c=t.options.useScrollendEvent&&lg;return c&&n.addEventListener("scrollend",u,ag),()=>{n.removeEventListener("scroll",l),c&&n.removeEventListener("scrollend",u)}},bA=(t,e,n)=>{if(e!=null&&e.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(t.getBoundingClientRect()[n.options.horizontal?"width":"height"])},OA=(t,{adjustments:e=0,behavior:n},r)=>{var i,s;const o=t+e;(s=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class VA{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{const o=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var s;return(s=r())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=r())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:RA,rangeExtractor:PA,onChange:()=>{},measureElement:bA,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=Ei(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,s=new Map;for(let o=r-1;o>=0;o--){const l=n[o];if(i.has(l.lane))continue;const u=s.get(l.lane);if(u==null||l.end>u.end?s.set(l.lane,l):l.end<u.end&&i.set(l.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((o,l)=>o.end===l.end?o.index-l.index:o.end-l.end)[0]:void 0},this.getMeasurementOptions=Ei(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,s,o)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:o}),{key:!1}),this.getMeasurements=Ei(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:o},l)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const u=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,u);for(let f=u;f<n;f++){const p=s(f),y=this.options.lanes===1?c[f-1]:this.getFurthestMeasurement(c,f),_=y?y.end+this.options.gap:r+i,R=l.get(p),P=typeof R=="number"?R:this.options.estimateSize(f),N=_+P,m=y?y.lane:f%this.options.lanes;c[f]={index:f,start:_,size:P,end:N,key:p,lane:m}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Ei(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,i,s)=>this.range=n.length>0&&r>0?DA({measurements:n,outerSize:r,scrollOffset:i,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Ei(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,s,o)=>s===null||o===null?[]:n({startIndex:s,endIndex:o,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),s=this.measurementsCache[i];if(!s)return;const o=s.key,l=this.elementsCache.get(o);l!==n&&(l&&this.observer.unobserve(l),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,o=r-s;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,o,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=Ei(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let s=0,o=n.length;s<o;s++){const l=n[s],u=r[l];i.push(u)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return sc(r[S_(0,r.length-1,i=>sc(r[i]).start,n)])},this.getOffsetForAlignment=(n,r,i=0)=>{const s=this.getSize(),o=this.getScrollOffset();r==="auto"&&(r=n>=o+s?"end":"start"),r==="center"?n+=(i-s)/2:r==="end"&&(n-=s);const l=this.options.horizontal?"scrollWidth":"scrollHeight",c=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[l]:this.scrollElement[l]:0)-s;return Math.max(Math.min(c,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const s=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(i.end>=o+s-this.options.scrollPaddingEnd)r="end";else if(i.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];const l=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const s=this.getOffsetForIndex(n,r);if(!s)return;const[o,l]=s;this._scrollToOffset(o,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[c]=sc(this.getOffsetForIndex(n,l));CA(c,this.getScrollOffset())||this.scrollToIndex(n,{align:l,behavior:i})}else this.scrollToIndex(n,{align:l,behavior:i})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=r[r.length-1])==null?void 0:n.end)??0;else{const s=Array(this.options.lanes).fill(null);let o=r.length-1;for(;o>=0&&s.some(l=>l===null);){const l=r[o];s[l.lane]===null&&(s[l.lane]=l.end),o--}i=Math.max(...s.filter(l=>l!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const S_=(t,e,n,r)=>{for(;t<=e;){const i=(t+e)/2|0,s=n(i);if(s<r)t=i+1;else if(s>r)e=i-1;else return i}return t>0?t-1:0};function DA({measurements:t,outerSize:e,scrollOffset:n,lanes:r}){const i=t.length-1,s=u=>t[u].start;if(t.length<=r)return{startIndex:0,endIndex:i};let o=S_(0,i,s,n),l=o;if(r===1)for(;l<i&&t[l].end<n+e;)l++;else if(r>1){const u=Array(r).fill(0);for(;l<i&&u.some(f=>f<n+e);){const f=t[l];u[f.lane]=f.end,l++}const c=Array(r).fill(n+e);for(;o>=0&&c.some(f=>f>=n);){const f=t[o];c[f.lane]=f.start,o--}o=Math.max(0,o-o%r),l=Math.min(i,l+(r-1-l%r))}return{startIndex:o,endIndex:l}}const ug=typeof document<"u"?b.useLayoutEffect:b.useEffect;function MA(t){const e=b.useReducer(()=>({}),{})[1],n={...t,onChange:(i,s)=>{var o;s?kv.flushSync(e):e(),(o=t.onChange)==null||o.call(t,i,s)}},[r]=b.useState(()=>new VA(n));return r.setOptions(n),ug(()=>r._didMount(),[]),ug(()=>r._willUpdate()),r}function LA(t){return MA({observeElementRect:kA,observeElementOffset:NA,scrollToFn:OA,...t})}var jA=Object.defineProperty,FA=(t,e,n)=>e in t?jA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oc=(t,e,n)=>(FA(t,typeof e!="symbol"?e+"":e,n),n);let $A=class{constructor(){oc(this,"current",this.detect()),oc(this,"handoffState","pending"),oc(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Yr=new $A,Dt=(t,e)=>{Yr.isServer?b.useEffect(t,e):b.useLayoutEffect(t,e)};function qo(t){let e=b.useRef(t);return Dt(()=>{e.current=t},[t]),e}function sf(t,e){let[n,r]=b.useState(t),i=qo(t);return Dt(()=>r(i.current),[i,r,...e]),n}let Se=function(t){let e=qo(t);return gt.useCallback((...n)=>e.current(...n),[e])};function UA(t,e,n){let[r,i]=b.useState(n),s=t!==void 0,o=b.useRef(s),l=b.useRef(!1),u=b.useRef(!1);return s&&!o.current&&!l.current?(l.current=!0,o.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&o.current&&!u.current&&(u.current=!0,o.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?t:r,Se(c=>(s||i(c),e==null?void 0:e(c)))]}function zA(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Dl(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return zA(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=Dl();return n(r),this.add(()=>r.dispose())},add(n){return t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function of(){let[t]=b.useState(Dl);return b.useEffect(()=>()=>t.dispose(),[t]),t}function BA(){let t=typeof document>"u";return"useSyncExternalStore"in uc?(e=>e.useSyncExternalStore)(uc)(()=>()=>{},()=>!1,()=>!t):!1}function WA(){let t=BA(),[e,n]=b.useState(Yr.isHandoffComplete);return e&&Yr.isHandoffComplete===!1&&n(!1),b.useEffect(()=>{e!==!0&&n(!0)},[e]),b.useEffect(()=>Yr.handoff(),[]),t?!1:e}var cg;let Ho=(cg=gt.useId)!=null?cg:function(){let t=WA(),[e,n]=gt.useState(t?()=>Yr.nextId():null);return Dt(()=>{e===null&&n(Yr.nextId())},[e]),e!=null?""+e:void 0};function zn(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,zn),r}function af(t){return Yr.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let dg=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var qA=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(qA||{}),HA=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(HA||{}),KA=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(KA||{}),I_=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(I_||{});function GA(t,e=0){var n;return t===((n=af(t))==null?void 0:n.body)?!1:zn(e,{0(){return t.matches(dg)},1(){let r=t;for(;r!==null;){if(r.matches(dg))return!0;r=r.parentElement}return!1}})}var QA=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(QA||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function XA(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function YA(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function JA(){return/Android/gi.test(window.navigator.userAgent)}function C_(){return YA()||JA()}function Oa(t,e,n){let r=qo(e);b.useEffect(()=>{function i(s){r.current(s)}return document.addEventListener(t,i,n),()=>document.removeEventListener(t,i,n)},[t,n])}function ZA(t,e,n){let r=qo(e);b.useEffect(()=>{function i(s){r.current(s)}return window.addEventListener(t,i,n),()=>window.removeEventListener(t,i,n)},[t,n])}function eR(t,e,n=!0){let r=b.useRef(!1);b.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(o,l){if(!r.current||o.defaultPrevented)return;let u=l(o);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let c=function f(p){return typeof p=="function"?f(p()):Array.isArray(p)||p instanceof Set?p:[p]}(t);for(let f of c){if(f===null)continue;let p=f instanceof HTMLElement?f:f.current;if(p!=null&&p.contains(u)||o.composed&&o.composedPath().includes(p))return}return!GA(u,I_.Loose)&&u.tabIndex!==-1&&o.preventDefault(),e(o,u)}let s=b.useRef(null);Oa("pointerdown",o=>{var l,u;r.current&&(s.current=((u=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:u[0])||o.target)},!0),Oa("mousedown",o=>{var l,u;r.current&&(s.current=((u=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:u[0])||o.target)},!0),Oa("click",o=>{C_()||s.current&&(i(o,()=>s.current),s.current=null)},!0),Oa("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),ZA("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function tR(...t){return b.useMemo(()=>af(...t),[...t])}function hg(t){var e;if(t.type)return t.type;let n=(e=t.as)!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function nR(t,e){let[n,r]=b.useState(()=>hg(t));return Dt(()=>{r(hg(t))},[t.type,t.as]),Dt(()=>{n||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&r("button")},[n,e]),n}let rR=Symbol();function Ko(...t){let e=b.useRef(t);b.useEffect(()=>{e.current=t},[t]);let n=Se(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[rR]))?void 0:n}function fg(t){return[t.screenX,t.screenY]}function iR(){let t=b.useRef([-1,-1]);return{wasMoved(e){let n=fg(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=fg(e)}}}function sR({container:t,accept:e,walk:n,enabled:r=!0}){let i=b.useRef(e),s=b.useRef(n);b.useEffect(()=>{i.current=e,s.current=n},[e,n]),Dt(()=>{if(!t||!r)return;let o=af(t);if(!o)return;let l=i.current,u=s.current,c=Object.assign(p=>l(p),{acceptNode:l}),f=o.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,c,!1);for(;f.nextNode();)u(f.currentNode)},[t,r,i,s])}function pg(t,e){let n=b.useRef([]),r=Se(t);b.useEffect(()=>{let i=[...n.current];for(let[s,o]of e.entries())if(n.current[s]!==o){let l=r(e,i);return n.current=e,l}},[r,...e])}function mg(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var Cd=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Cd||{}),oR=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(oR||{});function ci({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:l}){l=l??aR;let u=A_(e,t);if(s)return Va(u,n,r,o,l);let c=i??0;if(c&2){let{static:f=!1,...p}=u;if(f)return Va(p,n,r,o,l)}if(c&1){let{unmount:f=!0,...p}=u;return zn(f?0:1,{0(){return null},1(){return Va({...p,hidden:!0,style:{display:"none"}},n,r,o,l)}})}return Va(u,n,r,o,l)}function Va(t,e={},n,r,i){let{as:s=n,children:o,refName:l="ref",...u}=ac(t,["unmount","static"]),c=t.ref!==void 0?{[l]:t.ref}:{},f=typeof o=="function"?o(e):o;"className"in u&&u.className&&typeof u.className=="function"&&(u.className=u.className(e));let p={};if(e){let y=!1,_=[];for(let[R,P]of Object.entries(e))typeof P=="boolean"&&(y=!0),P===!0&&_.push(R);y&&(p["data-headlessui-state"]=_.join(" "))}if(s===b.Fragment&&Object.keys(Ad(u)).length>0){if(!b.isValidElement(f)||Array.isArray(f)&&f.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(u).map(P=>`  - ${P}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(P=>`  - ${P}`).join(`
`)].join(`
`));let y=f.props,_=typeof(y==null?void 0:y.className)=="function"?(...P)=>mg(y==null?void 0:y.className(...P),u.className):mg(y==null?void 0:y.className,u.className),R=_?{className:_}:{};return b.cloneElement(f,Object.assign({},A_(f.props,Ad(ac(u,["ref"]))),p,c,{ref:i(f.ref,c.ref)},R))}return b.createElement(s,Object.assign({},ac(u,["ref"]),s!==b.Fragment&&c,s!==b.Fragment&&p),f)}function aR(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function A_(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let l of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;l(i,...s)}}});return e}function di(t){var e;return Object.assign(b.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Ad(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function ac(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let lR="div";var R_=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(R_||{});function uR(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return ci({ourProps:s,theirProps:i,slot:{},defaultTag:lR,name:"Hidden"})}let cR=di(uR),lf=b.createContext(null);lf.displayName="OpenClosedContext";var No=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(No||{});function dR(){return b.useContext(lf)}function hR({value:t,children:e}){return gt.createElement(lf.Provider,{value:t},e)}function fR(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Br=[];fR(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Br[0]!==e.target&&(Br.unshift(e.target),Br=Br.filter(n=>n!=null&&n.isConnected),Br.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function pR(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&mR(n)?!1:r}function mR(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function gR(t){throw new Error("Unexpected object: "+t)}var nt=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(nt||{});function gg(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let s=0;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 1:{for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=i+1;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(e.resolveId(n[s],s,n)===t.id)return s;return r}case 5:return null;default:gR(t)}}function P_(t={},e=null,n=[]){for(let[r,i]of Object.entries(t))N_(n,k_(e,r),i);return n}function k_(t,e){return t?t+"["+e+"]":e}function N_(t,e,n){if(Array.isArray(n))for(let[r,i]of n.entries())N_(t,k_(e,r.toString()),i);else n instanceof Date?t.push([e,n.toISOString()]):typeof n=="boolean"?t.push([e,n?"1":"0"]):typeof n=="string"?t.push([e,n]):typeof n=="number"?t.push([e,`${n}`]):n==null?t.push([e,""]):P_(n,e,t)}var Kt=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Kt||{}),yR={},vR=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(vR||{}),_R=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(_R||{}),wR=(t=>(t[t.Pointer=0]="Pointer",t[t.Focus=1]="Focus",t[t.Other=2]="Other",t))(wR||{}),ER=(t=>(t[t.OpenCombobox=0]="OpenCombobox",t[t.CloseCombobox=1]="CloseCombobox",t[t.GoToOption=2]="GoToOption",t[t.RegisterOption=3]="RegisterOption",t[t.UnregisterOption=4]="UnregisterOption",t[t.RegisterLabel=5]="RegisterLabel",t[t.SetActivationTrigger=6]="SetActivationTrigger",t[t.UpdateVirtualOptions=7]="UpdateVirtualOptions",t))(ER||{});function lc(t,e=n=>n){let n=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,r=e(t.options.slice()),i=r.length>0&&r[0].dataRef.current.order!==null?r.sort((o,l)=>o.dataRef.current.order-l.dataRef.current.order):XA(r,o=>o.dataRef.current.domRef.current),s=n?i.indexOf(n):null;return s===-1&&(s=null),{options:i,activeOptionIndex:s}}let xR={1(t){var e;return(e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1}},0(t){var e,n;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===0)return t;if((n=t.dataRef.current)!=null&&n.value){let r=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(r!==-1)return{...t,activeOptionIndex:r,comboboxState:0}}return{...t,comboboxState:0}},2(t,e){var n,r,i,s,o;if((n=t.dataRef.current)!=null&&n.disabled||(r=t.dataRef.current)!=null&&r.optionsRef.current&&!((i=t.dataRef.current)!=null&&i.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let f=e.focus===nt.Specific?e.idx:gg(e,{resolveItems:()=>t.virtual.options,resolveActiveIndex:()=>{var y,_;return(_=(y=t.activeOptionIndex)!=null?y:t.virtual.options.findIndex(R=>!t.virtual.disabled(R)))!=null?_:null},resolveDisabled:t.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),p=(s=e.trigger)!=null?s:2;return t.activeOptionIndex===f&&t.activationTrigger===p?t:{...t,activeOptionIndex:f,activationTrigger:p}}let l=lc(t);if(l.activeOptionIndex===null){let f=l.options.findIndex(p=>!p.dataRef.current.disabled);f!==-1&&(l.activeOptionIndex=f)}let u=e.focus===nt.Specific?e.idx:gg(e,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled}),c=(o=e.trigger)!=null?o:2;return t.activeOptionIndex===u&&t.activationTrigger===c?t:{...t,...l,activeOptionIndex:u,activationTrigger:c}},3:(t,e)=>{var n,r,i;if((n=t.dataRef.current)!=null&&n.virtual)return{...t,options:[...t.options,e.payload]};let s=e.payload,o=lc(t,u=>(u.push(s),u));t.activeOptionIndex===null&&(r=t.dataRef.current)!=null&&r.isSelected(e.payload.dataRef.current.value)&&(o.activeOptionIndex=o.options.indexOf(s));let l={...t,...o,activationTrigger:2};return(i=t.dataRef.current)!=null&&i.__demoMode&&t.dataRef.current.value===void 0&&(l.activeOptionIndex=0),l},4:(t,e)=>{var n;if((n=t.dataRef.current)!=null&&n.virtual)return{...t,options:t.options.filter(i=>i.id!==e.id)};let r=lc(t,i=>{let s=i.findIndex(o=>o.id===e.id);return s!==-1&&i.splice(s,1),i});return{...t,...r,activationTrigger:2}},5:(t,e)=>t.labelId===e.id?t:{...t,labelId:e.id},6:(t,e)=>t.activationTrigger===e.trigger?t:{...t,activationTrigger:e.trigger},7:(t,e)=>{var n;if(((n=t.virtual)==null?void 0:n.options)===e.options)return t;let r=t.activeOptionIndex;if(t.activeOptionIndex!==null){let i=e.options.indexOf(t.virtual.options[t.activeOptionIndex]);i!==-1?r=i:r=null}return{...t,activeOptionIndex:r,virtual:Object.assign({},t.virtual,{options:e.options})}}},uf=b.createContext(null);uf.displayName="ComboboxActionsContext";function Go(t){let e=b.useContext(uf);if(e===null){let n=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Go),n}return e}let b_=b.createContext(null);function TR(t){var e;let n=hi("VirtualProvider"),[r,i]=b.useMemo(()=>{let u=n.optionsRef.current;if(!u)return[0,0];let c=window.getComputedStyle(u);return[parseFloat(c.paddingBlockStart||c.paddingTop),parseFloat(c.paddingBlockEnd||c.paddingBottom)]},[n.optionsRef.current]),s=LA({scrollPaddingStart:r,scrollPaddingEnd:i,count:n.virtual.options.length,estimateSize(){return 40},getScrollElement(){var u;return(u=n.optionsRef.current)!=null?u:null},overscan:12}),[o,l]=b.useState(0);return Dt(()=>{l(u=>u+1)},[(e=n.virtual)==null?void 0:e.options]),gt.createElement(b_.Provider,{value:s},gt.createElement("div",{style:{position:"relative",width:"100%",height:`${s.getTotalSize()}px`},ref:u=>{if(u){if(typeof process<"u"&&yR.JEST_WORKER_ID!==void 0||n.activationTrigger===0)return;n.activeOptionIndex!==null&&n.virtual.options.length>n.activeOptionIndex&&s.scrollToIndex(n.activeOptionIndex)}}},s.getVirtualItems().map(u=>{var c;return gt.createElement(b.Fragment,{key:u.key},gt.cloneElement((c=t.children)==null?void 0:c.call(t,{option:n.virtual.options[u.index],open:n.comboboxState===0}),{key:`${o}-${u.key}`,"data-index":u.index,"aria-setsize":n.virtual.options.length,"aria-posinset":u.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${u.start}px)`,overflowAnchor:"none"}}))})))}let cf=b.createContext(null);cf.displayName="ComboboxDataContext";function hi(t){let e=b.useContext(cf);if(e===null){let n=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,hi),n}return e}function SR(t,e){return zn(e.type,xR,t,e)}let IR=b.Fragment;function CR(t,e){let{value:n,defaultValue:r,onChange:i,form:s,name:o,by:l=null,disabled:u=!1,__demoMode:c=!1,nullable:f=!1,multiple:p=!1,immediate:y=!1,virtual:_=null,...R}=t,P=!1,N=null,[m=p?[]:void 0,E]=UA(n,i,r),[I,V]=b.useReducer(SR,{dataRef:b.createRef(),comboboxState:c?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),M=b.useRef(!1),$=b.useRef({static:!1,hold:!1}),S=b.useRef(null),v=b.useRef(null),x=b.useRef(null),T=b.useRef(null),A=Se(typeof l=="string"?(oe,we)=>{let He=l;return(oe==null?void 0:oe[He])===(we==null?void 0:we[He])}:l??((oe,we)=>oe===we)),k=Se(oe=>I.options.findIndex(we=>A(we.dataRef.current.value,oe))),C=b.useCallback(oe=>zn(B.mode,{1:()=>m.some(we=>A(we,oe)),0:()=>A(m,oe)}),[m]),Ze=Se(oe=>I.activeOptionIndex===k(oe)),B=b.useMemo(()=>({...I,immediate:P,optionsPropsRef:$,labelRef:S,inputRef:v,buttonRef:x,optionsRef:T,value:m,defaultValue:r,disabled:u,mode:p?1:0,virtual:I.virtual,get activeOptionIndex(){if(M.current&&I.activeOptionIndex===null&&I.options.length>0){let oe=I.options.findIndex(we=>!we.dataRef.current.disabled);if(oe!==-1)return oe}return I.activeOptionIndex},calculateIndex:k,compare:A,isSelected:C,isActive:Ze,nullable:f,__demoMode:c}),[m,r,u,p,f,c,I,N]);Dt(()=>{},[N,void 0]),Dt(()=>{I.dataRef.current=B},[B]),eR([B.buttonRef,B.inputRef,B.optionsRef],()=>bt.closeCombobox(),B.comboboxState===0);let ke=b.useMemo(()=>{var oe,we,He;return{open:B.comboboxState===0,disabled:u,activeIndex:B.activeOptionIndex,activeOption:B.activeOptionIndex===null?null:B.virtual?B.virtual.options[(oe=B.activeOptionIndex)!=null?oe:0]:(He=(we=B.options[B.activeOptionIndex])==null?void 0:we.dataRef.current.value)!=null?He:null,value:m}},[B,u,m]),de=Se(()=>{if(B.activeOptionIndex!==null){if(B.virtual)Ae(B.virtual.options[B.activeOptionIndex]);else{let{dataRef:oe}=B.options[B.activeOptionIndex];Ae(oe.current.value)}bt.goToOption(nt.Specific,B.activeOptionIndex)}}),U=Se(()=>{V({type:0}),M.current=!0}),q=Se(()=>{V({type:1}),M.current=!1}),G=Se((oe,we,He)=>(M.current=!1,oe===nt.Specific?V({type:2,focus:nt.Specific,idx:we,trigger:He}):V({type:2,focus:oe,trigger:He}))),ye=Se((oe,we)=>(V({type:3,payload:{id:oe,dataRef:we}}),()=>{B.isActive(we.current.value)&&(M.current=!0),V({type:4,id:oe})})),Te=Se(oe=>(V({type:5,id:oe}),()=>V({type:5,id:null}))),Ae=Se(oe=>zn(B.mode,{0(){return E==null?void 0:E(oe)},1(){let we=B.value.slice(),He=we.findIndex(xn=>A(xn,oe));return He===-1?we.push(oe):we.splice(He,1),E==null?void 0:E(we)}})),Wt=Se(oe=>{V({type:6,trigger:oe})}),bt=b.useMemo(()=>({onChange:Ae,registerOption:ye,registerLabel:Te,goToOption:G,closeCombobox:q,openCombobox:U,setActivationTrigger:Wt,selectActiveOption:de}),[]),qt=e===null?{}:{ref:e},ct=b.useRef(null),gs=of();return b.useEffect(()=>{ct.current&&r!==void 0&&gs.addEventListener(ct.current,"reset",()=>{E==null||E(r)})},[ct,E]),gt.createElement(uf.Provider,{value:bt},gt.createElement(cf.Provider,{value:B},gt.createElement(hR,{value:zn(B.comboboxState,{0:No.Open,1:No.Closed})},o!=null&&m!=null&&P_({[o]:m}).map(([oe,we],He)=>gt.createElement(cR,{features:R_.Hidden,ref:He===0?xn=>{var On;ct.current=(On=xn==null?void 0:xn.closest("form"))!=null?On:null}:void 0,...Ad({key:oe,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:s,disabled:u,name:oe,value:we})})),ci({ourProps:qt,theirProps:R,slot:ke,defaultTag:IR,name:"Combobox"}))))}let AR="input";function RR(t,e){var n,r,i,s,o;let l=Ho(),{id:u=`headlessui-combobox-input-${l}`,onChange:c,displayValue:f,type:p="text",...y}=t,_=hi("Combobox.Input"),R=Go("Combobox.Input"),P=Ko(_.inputRef,e),N=tR(_.inputRef),m=b.useRef(!1),E=of(),I=Se(()=>{R.onChange(null),_.optionsRef.current&&(_.optionsRef.current.scrollTop=0),R.goToOption(nt.Nothing)}),V=function(){var B;return typeof f=="function"&&_.value!==void 0?(B=f(_.value))!=null?B:"":typeof _.value=="string"?_.value:""}();pg(([B,ke],[de,U])=>{if(m.current)return;let q=_.inputRef.current;q&&((U===0&&ke===1||B!==de)&&(q.value=B),requestAnimationFrame(()=>{if(m.current||!q||(N==null?void 0:N.activeElement)!==q)return;let{selectionStart:G,selectionEnd:ye}=q;Math.abs((ye??0)-(G??0))===0&&G===0&&q.setSelectionRange(q.value.length,q.value.length)}))},[V,_.comboboxState,N]),pg(([B],[ke])=>{if(B===0&&ke===1){if(m.current)return;let de=_.inputRef.current;if(!de)return;let U=de.value,{selectionStart:q,selectionEnd:G,selectionDirection:ye}=de;de.value="",de.value=U,ye!==null?de.setSelectionRange(q,G,ye):de.setSelectionRange(q,G)}},[_.comboboxState]);let M=b.useRef(!1),$=Se(()=>{M.current=!0}),S=Se(()=>{E.nextFrame(()=>{M.current=!1})}),v=Se(B=>{switch(m.current=!0,B.key){case Kt.Enter:if(m.current=!1,_.comboboxState!==0||M.current)return;if(B.preventDefault(),B.stopPropagation(),_.activeOptionIndex===null){R.closeCombobox();return}R.selectActiveOption(),_.mode===0&&R.closeCombobox();break;case Kt.ArrowDown:return m.current=!1,B.preventDefault(),B.stopPropagation(),zn(_.comboboxState,{0:()=>R.goToOption(nt.Next),1:()=>R.openCombobox()});case Kt.ArrowUp:return m.current=!1,B.preventDefault(),B.stopPropagation(),zn(_.comboboxState,{0:()=>R.goToOption(nt.Previous),1:()=>{R.openCombobox(),E.nextFrame(()=>{_.value||R.goToOption(nt.Last)})}});case Kt.Home:if(B.shiftKey)break;return m.current=!1,B.preventDefault(),B.stopPropagation(),R.goToOption(nt.First);case Kt.PageUp:return m.current=!1,B.preventDefault(),B.stopPropagation(),R.goToOption(nt.First);case Kt.End:if(B.shiftKey)break;return m.current=!1,B.preventDefault(),B.stopPropagation(),R.goToOption(nt.Last);case Kt.PageDown:return m.current=!1,B.preventDefault(),B.stopPropagation(),R.goToOption(nt.Last);case Kt.Escape:return m.current=!1,_.comboboxState!==0?void 0:(B.preventDefault(),_.optionsRef.current&&!_.optionsPropsRef.current.static&&B.stopPropagation(),_.nullable&&_.mode===0&&_.value===null&&I(),R.closeCombobox());case Kt.Tab:if(m.current=!1,_.comboboxState!==0)return;_.mode===0&&_.activationTrigger!==1&&R.selectActiveOption(),R.closeCombobox();break}}),x=Se(B=>{c==null||c(B),_.nullable&&_.mode===0&&B.target.value===""&&I(),R.openCombobox()}),T=Se(B=>{var ke,de,U;let q=(ke=B.relatedTarget)!=null?ke:Br.find(G=>G!==B.currentTarget);if(m.current=!1,!((de=_.optionsRef.current)!=null&&de.contains(q))&&!((U=_.buttonRef.current)!=null&&U.contains(q))&&_.comboboxState===0)return B.preventDefault(),_.mode===0&&(_.nullable&&_.value===null?I():_.activationTrigger!==1&&R.selectActiveOption()),R.closeCombobox()}),A=Se(B=>{var ke,de,U;let q=(ke=B.relatedTarget)!=null?ke:Br.find(G=>G!==B.currentTarget);(de=_.buttonRef.current)!=null&&de.contains(q)||(U=_.optionsRef.current)!=null&&U.contains(q)||_.disabled||_.immediate&&_.comboboxState!==0&&(R.openCombobox(),E.nextFrame(()=>{R.setActivationTrigger(1)}))}),k=sf(()=>{if(_.labelId)return[_.labelId].join(" ")},[_.labelId]),C=b.useMemo(()=>({open:_.comboboxState===0,disabled:_.disabled}),[_]),Ze={ref:P,id:u,role:"combobox",type:p,"aria-controls":(n=_.optionsRef.current)==null?void 0:n.id,"aria-expanded":_.comboboxState===0,"aria-activedescendant":_.activeOptionIndex===null?void 0:_.virtual?(r=_.options.find(B=>{var ke;return!((ke=_.virtual)!=null&&ke.disabled(B.dataRef.current.value))&&_.compare(B.dataRef.current.value,_.virtual.options[_.activeOptionIndex])}))==null?void 0:r.id:(i=_.options[_.activeOptionIndex])==null?void 0:i.id,"aria-labelledby":k,"aria-autocomplete":"list",defaultValue:(o=(s=t.defaultValue)!=null?s:_.defaultValue!==void 0?f==null?void 0:f(_.defaultValue):null)!=null?o:_.defaultValue,disabled:_.disabled,onCompositionStart:$,onCompositionEnd:S,onKeyDown:v,onChange:x,onFocus:A,onBlur:T};return ci({ourProps:Ze,theirProps:y,slot:C,defaultTag:AR,name:"Combobox.Input"})}let PR="button";function kR(t,e){var n;let r=hi("Combobox.Button"),i=Go("Combobox.Button"),s=Ko(r.buttonRef,e),o=Ho(),{id:l=`headlessui-combobox-button-${o}`,...u}=t,c=of(),f=Se(P=>{switch(P.key){case Kt.ArrowDown:return P.preventDefault(),P.stopPropagation(),r.comboboxState===1&&i.openCombobox(),c.nextFrame(()=>{var N;return(N=r.inputRef.current)==null?void 0:N.focus({preventScroll:!0})});case Kt.ArrowUp:return P.preventDefault(),P.stopPropagation(),r.comboboxState===1&&(i.openCombobox(),c.nextFrame(()=>{r.value||i.goToOption(nt.Last)})),c.nextFrame(()=>{var N;return(N=r.inputRef.current)==null?void 0:N.focus({preventScroll:!0})});case Kt.Escape:return r.comboboxState!==0?void 0:(P.preventDefault(),r.optionsRef.current&&!r.optionsPropsRef.current.static&&P.stopPropagation(),i.closeCombobox(),c.nextFrame(()=>{var N;return(N=r.inputRef.current)==null?void 0:N.focus({preventScroll:!0})}));default:return}}),p=Se(P=>{if(pR(P.currentTarget))return P.preventDefault();r.comboboxState===0?i.closeCombobox():(P.preventDefault(),i.openCombobox()),c.nextFrame(()=>{var N;return(N=r.inputRef.current)==null?void 0:N.focus({preventScroll:!0})})}),y=sf(()=>{if(r.labelId)return[r.labelId,l].join(" ")},[r.labelId,l]),_=b.useMemo(()=>({open:r.comboboxState===0,disabled:r.disabled,value:r.value}),[r]),R={ref:s,id:l,type:nR(t,r.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=r.optionsRef.current)==null?void 0:n.id,"aria-expanded":r.comboboxState===0,"aria-labelledby":y,disabled:r.disabled,onClick:p,onKeyDown:f};return ci({ourProps:R,theirProps:u,slot:_,defaultTag:PR,name:"Combobox.Button"})}let NR="label";function bR(t,e){let n=Ho(),{id:r=`headlessui-combobox-label-${n}`,...i}=t,s=hi("Combobox.Label"),o=Go("Combobox.Label"),l=Ko(s.labelRef,e);Dt(()=>o.registerLabel(r),[r]);let u=Se(()=>{var f;return(f=s.inputRef.current)==null?void 0:f.focus({preventScroll:!0})}),c=b.useMemo(()=>({open:s.comboboxState===0,disabled:s.disabled}),[s]);return ci({ourProps:{ref:l,id:r,onClick:u},theirProps:i,slot:c,defaultTag:NR,name:"Combobox.Label"})}let OR="ul",VR=Cd.RenderStrategy|Cd.Static;function DR(t,e){let n=Ho(),{id:r=`headlessui-combobox-options-${n}`,hold:i=!1,...s}=t,o=hi("Combobox.Options"),l=Ko(o.optionsRef,e),u=dR(),c=u!==null?(u&No.Open)===No.Open:o.comboboxState===0;Dt(()=>{var _;o.optionsPropsRef.current.static=(_=t.static)!=null?_:!1},[o.optionsPropsRef,t.static]),Dt(()=>{o.optionsPropsRef.current.hold=i},[o.optionsPropsRef,i]),sR({container:o.optionsRef.current,enabled:o.comboboxState===0,accept(_){return _.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:_.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(_){_.setAttribute("role","none")}});let f=sf(()=>{var _,R;return(R=o.labelId)!=null?R:(_=o.buttonRef.current)==null?void 0:_.id},[o.labelId,o.buttonRef.current]),p=b.useMemo(()=>({open:o.comboboxState===0,option:void 0}),[o]),y={"aria-labelledby":f,role:"listbox","aria-multiselectable":o.mode===1?!0:void 0,id:r,ref:l};return o.virtual&&o.comboboxState===0&&Object.assign(s,{children:gt.createElement(TR,null,s.children)}),ci({ourProps:y,theirProps:s,slot:p,defaultTag:OR,features:VR,visible:c,name:"Combobox.Options"})}let MR="li";function LR(t,e){var n;let r=Ho(),{id:i=`headlessui-combobox-option-${r}`,disabled:s=!1,value:o,order:l=null,...u}=t,c=hi("Combobox.Option"),f=Go("Combobox.Option"),p=c.virtual?c.activeOptionIndex===c.calculateIndex(o):c.activeOptionIndex===null?!1:((n=c.options[c.activeOptionIndex])==null?void 0:n.id)===i,y=c.isSelected(o),_=b.useRef(null),R=qo({disabled:s,value:o,domRef:_,order:l}),P=b.useContext(b_),N=Ko(e,_,P?P.measureElement:null),m=Se(()=>f.onChange(o));Dt(()=>f.registerOption(i,R),[R,i]);let E=b.useRef(!(c.virtual||c.__demoMode));Dt(()=>{if(!c.virtual||!c.__demoMode)return;let T=Dl();return T.requestAnimationFrame(()=>{E.current=!0}),T.dispose},[c.virtual,c.__demoMode]),Dt(()=>{if(!E.current||c.comboboxState!==0||!p||c.activationTrigger===0)return;let T=Dl();return T.requestAnimationFrame(()=>{var A,k;(k=(A=_.current)==null?void 0:A.scrollIntoView)==null||k.call(A,{block:"nearest"})}),T.dispose},[_,p,c.comboboxState,c.activationTrigger,c.activeOptionIndex]);let I=Se(T=>{var A;if(s||(A=c.virtual)!=null&&A.disabled(o))return T.preventDefault();m(),C_()||requestAnimationFrame(()=>{var k;return(k=c.inputRef.current)==null?void 0:k.focus({preventScroll:!0})}),c.mode===0&&requestAnimationFrame(()=>f.closeCombobox())}),V=Se(()=>{var T;if(s||(T=c.virtual)!=null&&T.disabled(o))return f.goToOption(nt.Nothing);let A=c.calculateIndex(o);f.goToOption(nt.Specific,A)}),M=iR(),$=Se(T=>M.update(T)),S=Se(T=>{var A;if(!M.wasMoved(T)||s||(A=c.virtual)!=null&&A.disabled(o)||p)return;let k=c.calculateIndex(o);f.goToOption(nt.Specific,k,0)}),v=Se(T=>{var A;M.wasMoved(T)&&(s||(A=c.virtual)!=null&&A.disabled(o)||p&&(c.optionsPropsRef.current.hold||f.goToOption(nt.Nothing)))}),x=b.useMemo(()=>({active:p,selected:y,disabled:s}),[p,y,s]);return ci({ourProps:{id:i,ref:N,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":y,disabled:void 0,onClick:I,onFocus:V,onPointerEnter:$,onMouseEnter:$,onPointerMove:S,onMouseMove:S,onPointerLeave:v,onMouseLeave:v},theirProps:u,slot:x,defaultTag:MR,name:"Combobox.Option"})}let jR=di(CR),FR=di(kR),$R=di(RR),UR=di(bR),zR=di(DR),BR=di(LR),Da=Object.assign(jR,{Input:$R,Button:FR,Label:UR,Options:zR,Option:BR});const WR=[{code:"01",name:"Entrada de operador"},{code:"02",name:"Pausa"},{code:"03",name:"Sangria"},{code:"04",name:"Sada de operador"},{code:"05",name:"Abrir gaveta"},{code:"09",name:"Anular transao"},{code:"12",name:"Leitura de valores"},{code:"14",name:"Troca forma de pagamento"},{code:"15",name:"Reimprimir talo desconto"},{code:"26",name:"Alterar senha"},{code:"27",name:"Imprime rolo eletrnico"},{code:"28",name:"Venda por peso"},{code:"29",name:"Lista de funes"},{code:"30",name:"Ocorrncia"},{code:"31",name:"Reforo de caixa"},{code:"32",name:"Venda por quantidade / granel"},{code:"34",name:"Nmero de srie"},{code:"35",name:"Ativar carto D"},{code:"36",name:"Consultar saldo carto D"},{code:"37",name:"Desativar carto D"},{code:"38",name:"Recarregar carto D"},{code:"39",name:"Talo prenda"},{code:"42",name:"Carregar imagens"},{code:"43",name:"Talo verificao"},{code:"45",name:"Devolver vasilhame"},{code:"47",name:"Talo de entrega ao domiclio"},{code:"48",name:"Funes TPA"},{code:"50",name:"Recuperar pr-venda"},{code:"53",name:"Reimprimir cupo promocional"},{code:"54",name:"Vender artigo reservado"},{code:"56",name:"Recuperar transao selfscanning"},{code:"57",name:"Transao de compra"},{code:"59",name:"Outras receitas"},{code:"60",name:"Retirada p/despesas"},{code:"61",name:"Movimentao de Caixa"},{code:"62",name:"Enviar dinheiro"},{code:"63",name:"Levantar dinheiro"},{code:"65",name:"Cancelar envio"},{code:"69",name:"Fidelizao"},{code:"74",name:"Ativar pin"},{code:"75",name:"Desistir pin"},{code:"76",name:"Alterar pin"},{code:"78",name:"Substituio fatura"},{code:"80",name:"Fatura completa"},{code:"81",name:"Indicar local descarga"},{code:"82",name:"Venda  Caixa"},{code:"89",name:"Calibrao de ecr"},{code:"90",name:"Desistir dados faturao"},{code:"96",name:"Dev. manual na prpria Loja?"},{code:"97",name:"Impresso faturas instantdelivery"},{code:"98",name:"Impresso faturas instantdelivery ( contingncia )"},{code:"99",name:"Registo manual QRcode"},{code:"1000",name:"Fora preo"},{code:"1001",name:"Venda seco"},{code:"1002",name:"Anular artigo/f. pago"},{code:"1003",name:"Consulta preo"},{code:"1004",name:"Sair"},{code:"1005",name:"Fatura"},{code:"1006",name:"TPA fecho/abert"},{code:"1007",name:"Total"},{code:"1008",name:"Transao espera"},{code:"1009",name:"Recuperar transao"},{code:"1010",name:"Devoluo"},{code:"1011",name:"Reimprimir cheque"},{code:"1017",name:"Transfira dados de referncia delta"},{code:"1018",name:"Venda fracionada"},{code:"1019",name:"Venda por descrio"},{code:"1020",name:"Nota adicional"},{code:"1021",name:"Obtenode dados"},{code:"1022",name:"Venda por imagem"},{code:"1023",name:"Adicionar parceiro"},{code:"1024",name:"Menu de configuraes"},{code:"1025",name:"Caderneta digital"},{code:"1026",name:"Fatura recibo"},{code:"1027",name:"Tax free"},{code:"9001",name:"On/off modo de segurana"}];function qR(){const[t,e]=b.useState(""),[n,r]=b.useState(null),{isDarkMode:i}=ms(),s=b.useMemo(()=>t?WR.filter(o=>o.name.toLowerCase().includes(t.toLowerCase())):[],[t]);return w.jsxs("div",{className:`min-h-screen transition-colors duration-200 ${i?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:[w.jsx(cu,{}),w.jsx("main",{className:"py-8 px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:`max-w-lg mx-auto ${i?"bg-gray-800":"bg-white"} shadow-lg rounded-lg p-6 space-y-6`,children:[w.jsx(zv,{to:"/",className:`inline-flex items-center ${i?"text-yellow-400 hover:text-yellow-300":"text-yellow-600 hover:text-yellow-800"}`,children:" Voltar  Home"}),w.jsx("h1",{className:`text-2xl font-bold ${i?"text-white":"text-gray-900"}`,children:"Digite o nome da funo para encontrar o n respectivo"}),w.jsx(Da,{value:n,onChange:r,children:w.jsxs("div",{className:"relative",children:[w.jsx(Da.Input,{className:`w-full px-4 py-2 border ${i?"border-gray-600 bg-gray-700 text-white placeholder-gray-400":"border-gray-300 bg-white text-gray-900 placeholder-gray-400"} rounded-md focus:outline-none focus:ring-yellow-500 focus:border-yellow-500`,displayValue:o=>(o==null?void 0:o.name)||t,onChange:o=>e(o.target.value),placeholder:"Digite o nome da funo..."}),s.length>0&&w.jsx(Da.Options,{className:`absolute z-10 mt-1 w-full ${i?"bg-gray-700":"bg-white"} shadow-lg max-h-60 overflow-auto rounded-md ring-1 ring-black ring-opacity-5`,children:s.map(o=>w.jsx(Da.Option,{value:o,className:({active:l})=>`cursor-pointer select-none px-4 py-2 ${l?i?"bg-gray-600 text-white":"bg-yellow-100 text-yellow-700":i?"text-gray-200":"text-gray-900"}`,children:o.name},o.code))})]})}),n&&w.jsxs("p",{className:`mt-4 ${i?"text-gray-300":"text-gray-700"}`,children:["Funo n:"," ",w.jsx("span",{className:`font-mono ${i?"bg-gray-700":"bg-gray-100"} px-2 py-1 rounded`,children:n.code})]})]})})]})}async function yg(t,e,n){const s=await fetch("https://equipa-unifo-backend.vercel.app/api/xray/authenticate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({xrayBaseUrl:t,clientId:e,clientSecret:n})});if(!s.ok){const l=await s.json();throw new Error(l.error||`Authentication failed: ${s.status} ${s.statusText}`)}return(await s.json()).token}async function HR(t,e,n){const i="https://equipa-unifo-backend.vercel.app/api/xray/import";try{const s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({xrayBaseUrl:t,token:e,importData:n})});if(!s.ok){let o=`Import failed: ${s.status} ${s.statusText}`;if(s.status===413)o="Payload muito grande. Tente fazer upload de menos ficheiros por vez ou use ficheiros menores.";else if(s.status===504)o="Timeout do servidor. O processamento demorou demasiado tempo. Tente fazer upload de menos ficheiros por vez.";else try{o=(await s.json()).error||o}catch{const u=await s.text();u&&(o=u.substring(0,200))}throw new Error(o)}return await s.json()}catch(s){throw s.name==="TypeError"&&s.message.includes("fetch")?s.message.includes("CORS")?new Error("Erro CORS: O servidor no permite requisies do frontend. Contacte o administrador."):s.message.includes("Failed to fetch")?new Error("Erro de rede: No foi possvel conectar ao servidor. Verifique a sua ligao  internet."):new Error(`Erro de rede: ${s.message}`):s}}async function KR(t,e,n){const i="https://equipa-unifo-backend.vercel.app/api/xray/update-test-runs-graphql";try{const s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({xrayBaseUrl:t,token:e,testRunUpdates:n})});if(!s.ok){let o=`Failed to update test runs: ${s.status} ${s.statusText}`;if(s.status===413)o="Payload muito grande. Tente fazer upload de menos ficheiros por vez.";else if(s.status===504)o="Timeout do servidor. O processamento demorou demasiado tempo.";else try{o=(await s.json()).error||o}catch{const u=await s.text();u&&(o=u.substring(0,200))}throw new Error(o)}return await s.json()}catch(s){throw s.name==="TypeError"&&s.message.includes("fetch")?s.message.includes("CORS")?new Error("Erro CORS: O servidor no permite requisies do frontend. Contacte o administrador."):s.message.includes("Failed to fetch")?new Error("Erro de rede: No foi possvel conectar ao servidor. Verifique a sua ligao  internet."):new Error(`Erro de rede: ${s.message}`):s}}async function GR(t,e,n){const s=await fetch("https://equipa-unifo-backend.vercel.app/api/xray/validate-test-execution",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({xrayBaseUrl:t,token:e,testExecutionKey:n})}),o=s.headers.get("content-type");if(!s.ok){let u=`Validation failed: ${s.status} ${s.statusText}`;try{if(o&&o.includes("application/json"))u=(await s.json()).error||u;else{const c=await s.text();u=`Server returned HTML instead of JSON. This usually means the endpoint doesn't exist or the backend isn't running. Status: ${s.status}`}}catch(c){u=`Failed to parse error response: ${c.message}`}throw new Error(u)}if(!o||!o.includes("application/json"))throw new Error("Server returned non-JSON response. Please check if the backend is running correctly and the endpoint exists.");let l;try{l=await s.json()}catch{throw new Error("Failed to parse server response as JSON. The backend may have returned an error page.")}return l}function QR(){var On,fi,pi,ys,Qo,Xo;const{isDarkMode:t}=ms(),[e,n]=b.useState(""),[r,i]=b.useState(""),[s,o]=b.useState([]),[l,u]=b.useState([]),[c,f]=b.useState([]),[p,y]=b.useState({}),[_,R]=b.useState(!1),[P,N]=b.useState(!1),[m,E]=b.useState(null),[I,V]=b.useState(new Set),[M,$]=b.useState(new Map),[S,v]=b.useState(null),[x,T]=b.useState(null),A=b.useRef(null),k=b.useRef(null);b.useEffect(()=>{if(x){const W=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=W}}},[x]);const[C,Ze]=b.useState("folder"),[B,ke]=b.useState(new Set),de="https://eu.xray.cloud.getxray.app",U="066F20A2FF92466D91426397FBA26C45",q="684e898586e64fea83fd1d0d1f21783eb1974519e7be228e74409954b0bf6256",G=W=>{const Z=W.match(/^(?:UAAS-)?(\d+)(?:-.*)?\./);return Z?Z[1]:null},ye=10*1024*1024,Te=3*1024*1024,Ae=(W,Z=1920,ie=1080,J=.85)=>new Promise((pe,me)=>{const he=new FileReader;he.onload=re=>{var fe;const Q=new Image;Q.onload=()=>{const dt=document.createElement("canvas");let je=Q.width,ae=Q.height;if(je>Z||ae>ie){const et=Math.min(Z/je,ie/ae);je=je*et,ae=ae*et}dt.width=je,dt.height=ae;const Xe=dt.getContext("2d");if(!Xe){me(new Error("Could not get canvas context"));return}Xe.drawImage(Q,0,0,je,ae),dt.toBlob(et=>{if(!et){me(new Error("Failed to compress image"));return}const ue=new FileReader;ue.onload=()=>{const Et=ue.result.split(",")[1];pe(Et)},ue.onerror=me,ue.readAsDataURL(et)},"image/jpeg",J)},Q.onerror=me,Q.src=(fe=re.target)==null?void 0:fe.result},he.onerror=me,he.readAsDataURL(W)}),Wt=async W=>{var J;const Z=(J=W.name.split(".").pop())==null?void 0:J.toLowerCase();if(["png","jpg","jpeg","gif","webp"].includes(Z||"")&&W.size>Te)try{return{base64:await Ae(W),wasCompressed:!0}}catch(pe){console.warn("Image compression failed, using original:",pe)}return new Promise((pe,me)=>{const he=new FileReader;he.onload=()=>{const re=he.result.split(",")[1];pe({base64:re,wasCompressed:!1})},he.onerror=me,he.readAsDataURL(W)})},bt=W=>{var J;const Z=(J=W.split(".").pop())==null?void 0:J.toLowerCase();return{png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",mp4:"video/mp4",txt:"text/plain",log:"text/plain",pdf:"application/pdf",json:"application/json"}[Z||""]||"application/octet-stream"},qt=W=>{var je;if(!W||W.length===0)return;const Z=Array.from(W),ie={},J=[],pe=[],me=[],he=[],re=[".DS_Store","Thumbs.db",".gitkeep",".gitignore","desktop.ini"],Q=I.size>0,fe=new Map,dt=new Map;(je=m==null?void 0:m.testRuns)!=null&&je.results&&m.testRuns.results.forEach(ae=>{var ue;const et=(((ue=ae.test)==null?void 0:ue.key)||"").match(/UAAS-(\d+)/);if(et){const Et=et[1];fe.set(Et,ae.id),dt.set(Et,{id:ae.id,startedOn:ae.startedOn})}}),Z.forEach(ae=>{const Xe=ae.name.split("/").pop()||ae.name.split("\\").pop()||ae.name;if(re.some(Tn=>Xe===Tn||Xe.toLowerCase()===Tn.toLowerCase()))return;if(ae.size>ye){const Tn=(ae.size/1048576).toFixed(2);he.push({file:ae,reason:"file_too_large",reasonText:`Ficheiro demasiado grande (${Tn}MB). O tamanho mximo permitido  10MB.`});return}const ue=G(Xe);if(!ue){he.push({file:ae,reason:"invalid_format",reasonText:"Formato de nome incorreto. Deve seguir: UAAS-<nmero>.extenso, UAAS-<nmero>-qualquer_coisa.extenso, <nmero>.extenso ou <nmero>-qualquer_coisa.extenso"}),pe.push(ae);return}const Et=fe.get(ue);if(!Et){he.push({file:ae,reason:"test_not_found",reasonText:`O Test Run UAAS-${ue} no existe nesta Test Execution`,testRunNumber:ue});return}if(Q)if(I.has(Et)){const Tn=`UAAS-${ue}`;ie[ue]||(ie[ue]=[]),ie[ue].push({file:ae,testRunNumber:ue,testKey:Tn}),J.push(ae)}else he.push({file:ae,reason:"test_not_executing",reasonText:`O Test Run UAAS-${ue} no est em estado EXECUTING`,testRunNumber:ue}),me.push(ae);else he.push({file:ae,reason:"test_not_executing",reasonText:`O Test Run UAAS-${ue} no est em estado EXECUTING`,testRunNumber:ue}),me.push(ae)}),o(J),u(pe),f(he),y(ie),$(dt),v(null),me.length>0&&v({success:!1,message:`No  possvel fazer upload de ${me.length} ficheiro(s). Estes ficheiros correspondem a Test Runs que no esto em estado EXECUTING. Apenas Test Runs em EXECUTING podem receber evidncias.`})},ct=W=>{var J,pe;if(!(m!=null&&m.valid)){v({success:!1,message:"Por favor, valide a Test Execution antes de fazer upload de evidncias."}),W.target&&(W.target.value="");return}if(!((((J=m==null?void 0:m.statusSummary)==null?void 0:J.EXECUTING)||((pe=m==null?void 0:m.statusSummary)==null?void 0:pe["IN PROGRESS"])||0)>0)){v({success:!1,message:"No  possvel fazer upload. Apenas testes em estado EXECUTING podem receber evidncias."}),W.target&&(W.target.value="");return}qt(W.target.files)},gs=()=>{var ie,J;if(!(m!=null&&m.valid)){v({success:!1,message:"Por favor, valide a Test Execution antes de fazer upload de evidncias."});return}if(!((((ie=m==null?void 0:m.statusSummary)==null?void 0:ie.EXECUTING)||((J=m==null?void 0:m.statusSummary)==null?void 0:J["IN PROGRESS"])||0)>0)){v({success:!1,message:"No  possvel fazer upload. Apenas testes em estado EXECUTING podem receber evidncias."});return}C==="folder"&&k.current?k.current.click():A.current&&A.current.click()},oe=async W=>{var Z,ie,J,pe,me,he,re;if(!W.trim()){E(null),n("");return}N(!0),E(null),v(null);try{console.log("Iniciando validao...",{number:W,xrayBaseUrl:de?"SET":"MISSING",clientId:U?"SET":"MISSING",backendUrl:"https://equipa-unifo-backend.vercel.app"});const Q=await yg(de,U,q);console.log("Autenticao bem-sucedida");const dt=`UAAS-${W.trim().replace(/^UAAS-?/i,"").replace(/[^0-9]/g,"")}`;console.log("Validando Test Execution:",dt);const je=await GR(de,Q,dt);if(je.valid){console.log("Validao bem-sucedida:",je),n(dt),E(je);const ae=new Set;(Z=je.testRuns)!=null&&Z.results&&je.testRuns.results.forEach(Xe=>{var ue;const et=((ue=Xe.status)==null?void 0:ue.toUpperCase())||"";(et==="EXECUTING"||et==="IN PROGRESS")&&ae.add(Xe.id)}),V(ae),o([]),u([]),f([]),y({}),ke(new Set),$(new Map),A.current&&(A.current.value=""),k.current&&(k.current.value="")}else console.log("Validao falhou:",je),n(""),E(je)}catch(Q){console.error("Erro ao validar Test Execution:",Q),n("");let fe=Q.message||"Erro ao validar Test Execution.";(ie=Q.message)!=null&&ie.includes("CORS")?fe="Erro CORS: O servidor no permite requisies do frontend. Verifique a configurao do backend.":(J=Q.message)!=null&&J.includes("Failed to fetch")||(pe=Q.message)!=null&&pe.includes("NetworkError")?fe="Erro de rede: No foi possvel conectar ao backend. Verifique se o backend est a correr em https://equipa-unifo-backend.vercel.app.":(me=Q.message)!=null&&me.includes("404")?fe="Endpoint no encontrado. Verifique se a URL do backend est correta.":((he=Q.message)!=null&&he.includes("401")||(re=Q.message)!=null&&re.includes("403"))&&(fe="Erro de autenticao. Verifique as credenciais do Xray Cloud."),E({valid:!1,error:fe}),v({success:!1,message:fe})}finally{N(!1)}},we=W=>{let Z=W.target.value.replace(/^UAAS-?/i,"");Z=Z.replace(/[^0-9]/g,""),i(Z),E(null),n(""),o([]),u([]),f([]),y({}),V(new Set)},He=()=>{if(!r.trim()){v({success:!1,message:"Por favor, introduza o nmero da Test Execution"});return}oe(r)},xn=async()=>{if(!e.trim()||!(m!=null&&m.valid)){v({success:!1,message:(m==null?void 0:m.valid)===!1?m.error||"Test Execution invlida":"Por favor, introduza e valide o ID da Test Execution"});return}if(Object.keys(p).length===0){v({success:!1,message:"Por favor, faa upload de ficheiros vlidos"});return}R(!0),v(null);let W=null,Z=null;try{const ie=await yg(de,U,q),J=localStorage.getItem("user");let pe;if(J)try{const se=JSON.parse(J);se.xrayAccountId&&(pe=se.xrayAccountId)}catch{}const me=new Map,he=new Date;for(const[se,tn]of Object.entries(p)){const mi=[];for(const be of tn){const{base64:xt,wasCompressed:Vr}=await Wt(be.file);mi.push({data:xt,filename:be.file.name,contentType:Vr?"image/jpeg":bt(be.file.name)})}const jt=M.get(se),Yn=jt==null?void 0:jt.startedOn,nn=jt==null?void 0:jt.id,dn="PASSED",Ne=he.toISOString(),Fe={testKey:`UAAS-${se}`,status:dn,start:Yn||he.toISOString(),finish:Ne,evidences:mi};me.set(se,{testRunNumber:se,testRunId:nn,testData:Fe,finishedOn:Ne,startedOn:Yn})}const re=me.size,Q=[],fe=[],dt=10,je=Array.from(me.entries()),ae=[];for(let se=0;se<je.length;se+=dt)ae.push(je.slice(se,se+dt));const Xe=["Testes a serem atualizados no Xray","Pode demorar alguns segundos","A processar evidncias...","A enviar ficheiros...","A atualizar status...","Quase terminado..."];let et=0;T({current:0,total:re,message:`${re} testes a serem atualizados`,stage:"rest",completed:[],inProgress:[],failed:[],animatedProgress:0,dynamicMessage:Xe[0]}),W=setInterval(()=>{T(se=>!se||se.stage==="complete"?(W&&clearInterval(W),se):(et=(et+1)%Xe.length,{...se,dynamicMessage:Xe[et]}))},4500);let ue=0;Z=setInterval(()=>{T(se=>{if(!se||se.stage==="complete")return Z&&clearInterval(Z),se;const tn=se.current/se.total*100;return ue<tn-5?ue=Math.max(ue,Math.min(ue+2,tn-5)):ue=Math.max(ue,Math.min(ue+.3,95)),{...se,animatedProgress:Math.max(se.animatedProgress||0,ue)}})},200);for(let se=0;se<ae.length;se++){const tn=ae[se],mi=tn.map(([Ne])=>`UAAS-${Ne}`),jt=Q.length/re*100;T(Ne=>Ne?{...Ne,current:Q.length,total:re,message:`${re} testes a serem atualizados`,stage:"rest",completed:[...Q],inProgress:[],failed:[...fe],animatedProgress:Math.max(Ne.animatedProgress||0,jt)}:null);const Yn=tn.map(([Ne,Fe])=>Fe.testData),nn=[];try{const Ne={testExecutionKey:e.trim(),tests:Yn},be=JSON.stringify({xrayBaseUrl:de,token:ie,importData:Ne}).length/(1024*1024);be>3&&console.warn(`Payload size: ${be.toFixed(2)}MB for batch ${se+1}`),await HR(de,ie,Ne),tn.forEach(xt=>{nn.push(xt)})}catch(Ne){const Fe=Ne.message||"Falha ao enviar via REST API";if(tn.forEach(([be])=>{fe.push({testRun:`UAAS-${be}`,error:Fe.includes("413")||Fe.includes("muito grande")||Fe.includes("Payload muito grande")?`Payload muito grande: ${Fe}`:Fe})}),Fe.includes("413")||Fe.includes("muito grande")||Fe.includes("Payload muito grande")){for(let be=se+1;be<ae.length;be++)ae[be].forEach(([xt])=>{fe.push({testRun:`UAAS-${xt}`,error:"No processado: Batch anterior falhou devido a payload muito grande"})});break}continue}if(nn.length>0){const Ne=[];if(nn.forEach(([Fe,be])=>{be.testRunId&&Ne.push({testRunId:be.testRunId,status:"PASSED"})}),Ne.length>0){const Fe=Q.length/re*100;T(be=>be?{...be,current:Q.length,total:re,message:`${re} testes a serem atualizados`,stage:"graphql",completed:[...Q],inProgress:[],failed:[...fe],animatedProgress:Math.max(be.animatedProgress||0,Fe)}:null);try{const xt=(await KR(de,ie,Ne)).errors||[];nn.forEach(([Vr,ot])=>{if(!xt.some(hn=>hn.testRunId===ot.testRunId))Q.push(`UAAS-${Vr}`);else{const hn=xt.find(Dr=>Dr.testRunId===ot.testRunId);fe.push({testRun:`UAAS-${Vr}`,error:`Status no atualizado via GraphQL: ${(hn==null?void 0:hn.error)||"Erro desconhecido"}`})}})}catch(be){nn.forEach(([xt])=>{fe.push({testRun:`UAAS-${xt}`,error:`GraphQL falhou: ${be.message||"Erro desconhecido"}`})})}}else nn.forEach(([Fe])=>{Q.push(`UAAS-${Fe}`)})}const dn=Q.length/re*100;T(Ne=>Ne?{...Ne,current:Q.length,total:re,message:`${re} testes a serem atualizados`,stage:se<ae.length-1?"rest":"graphql",completed:[...Q],inProgress:[],failed:[...fe],animatedProgress:Math.max(Ne.animatedProgress||0,dn)}:null)}W&&clearInterval(W),Z&&clearInterval(Z);const Et=fe.length===0&&Q.length>0,Tn=fe.some(se=>se.error.includes("413")||se.error.includes("muito grande")||se.error.includes("Payload muito grande"));let Or="";Et?Or=`Importao realizada com sucesso! ${Q.length} test run(s) atualizado(s).`:Tn&&Q.length===0?Or="Falha na importao: Payload muito grande. Os ficheiros so demasiado grandes para enviar. Tente fazer upload de menos ficheiros por vez ou use ficheiros menores.":fe.length===re?Or="Falha na importao: Nenhum teste foi atualizado. Verifique os erros abaixo.":Or=`Importao parcial: ${Q.length} sucesso, ${fe.length} falha(s).`,T({current:Q.length,total:re,message:Et?`${re} testes atualizados`:fe.length===re?"Falha na importao":`${Q.length} de ${re} testes atualizados`,stage:"complete",completed:[...Q],inProgress:[],failed:[...fe],animatedProgress:Et?100:Q.length/re*100,dynamicMessage:""}),v({success:Et,message:Or,details:{completed:Q.length,failed:fe.length,failures:fe.length>0?fe:void 0}}),o([]),u([]),f([]),y({}),A.current&&(A.current.value=""),k.current&&(k.current.value="")}catch(ie){W&&clearInterval(W),Z&&clearInterval(Z);let J=ie.message||"Erro ao importar evidncias";J.includes("CORS")?J="Erro CORS: O servidor no permite requisies do frontend. Contacte o administrador do sistema.":J.includes("413")||J.includes("muito grande")?J="Payload muito grande: Os ficheiros so demasiado grandes para enviar de uma vez. Tente fazer upload de menos ficheiros por vez ou use ficheiros menores.":J.includes("504")||J.includes("Timeout")?J="Timeout do servidor: O processamento demorou demasiado tempo. Tente fazer upload de menos ficheiros por vez.":(J.includes("Failed to fetch")||J.includes("rede"))&&(J="Erro de rede: No foi possvel conectar ao servidor. Verifique a sua ligao  internet e tente novamente."),T(null),v({success:!1,message:J,details:ie})}finally{R(!1)}};return w.jsxs("div",{className:`min-h-screen transition-colors duration-200 ${t?"bg-gray-900 text-white":"bg-gradient-to-br from-gray-50 to-gray-100 text-gray-900"}`,children:[w.jsx(cu,{}),w.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-12",children:[w.jsx("div",{className:"text-center space-y-4 animate-fade-in mb-8",children:w.jsx("p",{className:`text-xl ${t?"text-gray-300":"text-gray-600"} animate-fade-in-up max-w-2xl mx-auto`})}),w.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8 space-y-6",children:w.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[w.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-6`,children:[w.jsx("h3",{className:`text-xl font-semibold mb-4 ${t?"text-white":"text-gray-900"}`,children:"Test Execution"}),!1,w.jsxs("div",{children:[w.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"Nmero da Test Execution"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("div",{className:"relative flex-1",children:[w.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10",children:w.jsx("span",{className:`text-base font-normal ${t?"text-white":"text-gray-900"}`,style:{letterSpacing:"0.025em"},children:"UAAS-"})}),w.jsx("input",{type:"text",value:r,onChange:we,onKeyDown:W=>{W.key==="Enter"&&!P&&r.trim()&&(W.preventDefault(),He())},placeholder:"Test Execution Number",disabled:P,className:`w-full pl-16 pr-4 py-2 rounded-lg border text-base ${t?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"} ${(m==null?void 0:m.valid)===!1?"border-red-500":(m==null?void 0:m.valid)===!0?"border-green-500":""} focus:outline-none focus:ring-2 focus:ring-yellow-500 disabled:opacity-50 select-text`,style:{userSelect:"text",WebkitUserSelect:"text"}})]}),w.jsx("button",{onClick:He,disabled:P||!r.trim()||!1||!1||!1,className:`px-6 py-2 rounded-lg font-medium transition-colors ${P||!r.trim()?t?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-300 text-gray-500 cursor-not-allowed":t?"bg-green-600 text-white hover:bg-green-700":"bg-green-500 text-white hover:bg-green-600"}`,children:P?w.jsxs("span",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Validar..."]}):"Validar"})]}),(m==null?void 0:m.valid)===!0&&!P&&w.jsxs("div",{className:"mt-2 space-y-2",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-green-500 text-xl",children:""}),w.jsx("p",{className:`text-sm font-semibold ${t?"text-green-400":"text-green-600"}`,children:"Test Execution Vlida"})]}),w.jsx("div",{className:`text-sm ml-7 ${t?"text-gray-300":"text-gray-700"}`,children:w.jsxs("p",{children:[(On=m.testExecution)==null?void 0:On.key,((fi=m.testExecution)==null?void 0:fi.summary)&&w.jsxs(w.Fragment,{children:[" - ",m.testExecution.summary]}),m.testRuns&&w.jsxs("span",{className:`ml-2 ${t?"text-gray-400":"text-gray-500"}`,children:["(",m.testRuns.total," Test Runs)"]})]})}),m.statusSummary&&w.jsx("div",{className:"flex flex-wrap gap-3 ml-7",children:(()=>{const W={PASSED:1,EXECUTING:2,"IN PROGRESS":2,BLOCKED:3,FAILED:4,FAIL:4,"TO DO":5,TODO:5,"N/A":6,NA:6};return Object.entries(m.statusSummary).sort(([ie],[J])=>{const pe=W[ie.toUpperCase()]||999,me=W[J.toUpperCase()]||999;return pe-me}).map(([ie,J])=>{let pe="",me="";const he=ie.toUpperCase();return he==="PASSED"?(pe=t?"text-green-400":"text-green-600",me=t?"bg-green-900/30":"bg-green-50"):he==="EXECUTING"||he==="IN PROGRESS"?(pe=t?"text-yellow-400":"text-yellow-600",me=t?"bg-yellow-900/30":"bg-yellow-50"):he==="TO DO"||he==="TODO"?(pe=t?"text-gray-300":"text-gray-500",me=t?"bg-gray-700/80":"bg-gray-100"):he==="N/A"||he==="NA"?(pe=t?"text-gray-400":"text-gray-600",me=t?"bg-gray-700/30":"bg-gray-100"):he==="BLOCKED"?(pe=t?"text-orange-400":"text-orange-600",me=t?"bg-orange-900/30":"bg-orange-50"):he==="FAILED"||he==="FAIL"?(pe=t?"text-red-400":"text-red-600",me=t?"bg-red-900/30":"bg-red-50"):(pe=t?"text-gray-300":"text-gray-700",me=t?"bg-gray-700/30":"bg-gray-100"),w.jsxs("div",{className:`px-3 py-1 rounded-md text-xs font-medium ${pe} ${me}`,children:[w.jsxs("span",{className:"font-semibold",children:[ie,":"]})," ",w.jsx("span",{className:"font-bold",children:J})]},ie)})})()})]}),(m==null?void 0:m.valid)===!1&&!P&&w.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[w.jsx("span",{className:"text-red-500 text-xl",children:""}),w.jsx("p",{className:`text-sm ${t?"text-red-400":"text-red-600"}`,children:m.error||"Test Execution no encontrada"})]}),P&&w.jsx("p",{className:`mt-2 text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"A validar Test Execution..."})]})]}),w.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-xl shadow-lg p-6`,children:[w.jsx("h3",{className:`text-xl font-semibold mb-4 ${t?"text-white":"text-gray-900"}`,children:"Upload de Ficheiros"}),(()=>{var W,Z;return m!=null&&m.valid?m!=null&&m.valid&&!((((W=m.statusSummary)==null?void 0:W.EXECUTING)||((Z=m.statusSummary)==null?void 0:Z["IN PROGRESS"])||0)>0)?w.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-900/20 border border-red-500/50",children:w.jsxs("div",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"text-red-500 text-lg",children:""}),w.jsxs("div",{children:[w.jsx("p",{className:`text-sm font-medium ${t?"text-red-400":"text-red-600"}`,children:"Erro: No existem testes em EXECUTING"}),w.jsx("p",{className:`text-xs mt-1 ${t?"text-red-300":"text-red-700"}`,children:"Apenas  possvel fazer upload de evidncias para testes que j se encontram em estado EXECUTING. Por favor, inicie a execuo dos testes antes de fazer upload."})]})]})}):null:w.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-900/20 border border-red-500/50",children:w.jsxs("div",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"text-red-500 text-lg",children:""}),w.jsxs("div",{children:[w.jsx("p",{className:`text-sm font-medium ${t?"text-red-400":"text-red-600"}`,children:"Aviso: Test Execution no validada"}),w.jsx("p",{className:`text-xs mt-1 ${t?"text-red-300":"text-red-700"}`,children:"Por favor, valide a Test Execution antes de fazer upload de evidncias."})]})]})})})(),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx("span",{className:`text-sm font-medium ${t?"text-gray-300":"text-gray-700"}`,children:"Modo de upload:"}),w.jsxs("div",{className:"flex space-x-2",children:[w.jsx("button",{type:"button",onClick:()=>Ze("folder"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${C==="folder"?"bg-yellow-600 text-white":t?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Pasta"}),w.jsx("button",{type:"button",onClick:()=>Ze("files"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${C==="files"?"bg-yellow-600 text-white":t?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Ficheiros"})]})]}),w.jsx("button",{onClick:xn,disabled:_||P||Object.keys(p).length===0||!e.trim()||!(m!=null&&m.valid)||(m==null?void 0:m.valid)&&(((pi=m.statusSummary)==null?void 0:pi.EXECUTING)||((ys=m.statusSummary)==null?void 0:ys["IN PROGRESS"])||0)===0,className:`px-6 py-2 rounded-lg font-medium transition-colors ${_||P||Object.keys(p).length===0||!e.trim()||!(m!=null&&m.valid)||m!=null&&m.valid&&(((Qo=m.statusSummary)==null?void 0:Qo.EXECUTING)||((Xo=m.statusSummary)==null?void 0:Xo["IN PROGRESS"])||0)===0?t?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-300 text-gray-500 cursor-not-allowed":t?"bg-green-600 text-white hover:bg-green-700":"bg-green-500 text-white hover:bg-green-600"}`,children:_?"A importar...":"Importar para o XRAY"})]}),w.jsx("input",{ref:A,type:"file",multiple:!0,onChange:ct,className:"hidden"}),w.jsx("input",{ref:k,type:"file",webkitdirectory:"",multiple:!0,onChange:ct,className:"hidden"}),(()=>{var Z,ie;const W=!(m!=null&&m.valid)||(m==null?void 0:m.valid)&&(((Z=m.statusSummary)==null?void 0:Z.EXECUTING)||((ie=m.statusSummary)==null?void 0:ie["IN PROGRESS"])||0)===0;return w.jsx("button",{type:"button",onClick:gs,disabled:W,className:`w-full px-6 py-4 rounded-lg border-2 border-dashed transition-all duration-200 ${W?t?"border-gray-700 bg-gray-800 opacity-50 cursor-not-allowed text-gray-500":"border-gray-300 bg-gray-100 opacity-50 cursor-not-allowed text-gray-400":t?"border-gray-600 bg-gray-700 hover:border-yellow-500 hover:bg-gray-600 text-white":"border-gray-300 bg-gray-50 hover:border-yellow-500 hover:bg-yellow-50 text-gray-700"}`,children:w.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[w.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),w.jsx("span",{className:"font-medium",children:C==="folder"?"Selecionar Pasta":"Selecionar Ficheiros"}),w.jsx("span",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:C==="folder"?"Selecione uma pasta para fazer upload de todos os ficheiros":"Selecione um ou mais ficheiros"})]})})})(),w.jsxs("div",{className:"relative inline-block group",children:[w.jsxs("div",{className:"flex items-center gap-2 text-yellow-500 cursor-help",children:[w.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),w.jsx("span",{className:"text-sm font-medium",children:"Formatos de ficheiros aceites"})]}),w.jsx("div",{className:"absolute left-0 bottom-full mb-2 hidden group-hover:block z-50 w-80",children:w.jsx("div",{className:`${t?"bg-gray-800 border-gray-700":"bg-white border-gray-300"} border rounded-lg shadow-xl p-4`,children:w.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[w.jsx("svg",{className:`w-5 h-5 flex-shrink-0 mt-0.5 ${t?"text-yellow-400":"text-yellow-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),w.jsxs("div",{children:[w.jsx("p",{className:`text-sm font-semibold mb-2 ${t?"text-white":"text-gray-900"}`,children:"Formatos aceites:"}),w.jsxs("ul",{className:`text-xs space-y-1.5 ${t?"text-gray-300":"text-gray-700"}`,children:[w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"text-green-500 mt-1",children:""}),w.jsx("span",{children:w.jsx("code",{className:`px-1.5 py-0.5 rounded ${t?"bg-gray-700 text-yellow-400":"bg-gray-100 text-yellow-600"}`,children:"UAAS-123.png"})})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"text-green-500 mt-1",children:""}),w.jsx("span",{children:w.jsx("code",{className:`px-1.5 py-0.5 rounded ${t?"bg-gray-700 text-yellow-400":"bg-gray-100 text-yellow-600"}`,children:"UAAS-123-screenshot.jpeg"})})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"text-green-500 mt-1",children:""}),w.jsx("span",{children:w.jsx("code",{className:`px-1.5 py-0.5 rounded ${t?"bg-gray-700 text-yellow-400":"bg-gray-100 text-yellow-600"}`,children:"123.mp4"})})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"text-green-500 mt-1",children:""}),w.jsx("span",{children:w.jsx("code",{className:`px-1.5 py-0.5 rounded ${t?"bg-gray-700 text-yellow-400":"bg-gray-100 text-yellow-600"}`,children:"123-evidence.mp3"})})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"text-green-500 mt-1",children:""}),w.jsx("span",{children:w.jsx("code",{className:`px-1.5 py-0.5 rounded ${t?"bg-gray-700 text-yellow-400":"bg-gray-100 text-yellow-600"}`,children:"UAAS-123-document.pdf"})})]})]})]})]})})})]}),(Object.keys(p).length>0||c.length>0)&&w.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-600",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs("h4",{className:`text-xs font-semibold ${t?"text-white":"text-gray-900"}`,children:["Testes Selecionados (",Object.keys(p).length," testes,"," ",s.length," ficheiros)"]}),c.length>0&&w.jsxs("span",{className:`text-xs px-2 py-1 rounded ${t?"bg-red-900/50 text-red-300 border border-red-700":"bg-red-100 text-red-700 border border-red-300"}`,children:[" ",c.length," ignorado",c.length!==1?"s":""]})]}),w.jsx("button",{type:"button",onClick:()=>{o([]),u([]),f([]),y({}),ke(new Set),A.current&&(A.current.value=""),k.current&&(k.current.value="")},className:`text-xs px-3 py-1 rounded ${t?"bg-red-600 hover:bg-red-700 text-white":"bg-red-100 hover:bg-red-200 text-red-700"} transition-colors`,children:"Limpar todos"})]}),w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:`absolute right-0 top-0 bottom-0 w-3 ${t?"bg-gray-600/30":"bg-gray-300/30"} rounded-r-lg pointer-events-none z-10`,style:{background:t?"linear-gradient(to right, transparent 0%, rgba(75, 85, 99, 0.3) 100%)":"linear-gradient(to right, transparent 0%, rgba(209, 213, 219, 0.3) 100%)"}}),w.jsxs("div",{ref:W=>{W&&W.scrollHeight>W.clientHeight&&(W.scrollTop=1,setTimeout(()=>{W.scrollTop=0},10))},className:`max-h-72 space-y-2 ${t?"bg-gray-700":"bg-gray-50"} rounded-lg p-3 always-visible-scrollbar ${t?"":"light"}`,style:{overflowY:"scroll",overflowX:"hidden",scrollbarWidth:"thin",scrollbarColor:t?"#6b7280 #374151":"#9ca3af #f3f4f6"},children:[c.length>0&&w.jsx("div",{className:`${t?"bg-gray-800 border border-red-700/50":"bg-white border border-red-300"} rounded-lg overflow-hidden`,children:w.jsxs("div",{className:"p-2",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("svg",{className:`w-4 h-4 ${t?"text-red-400":"text-red-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),w.jsxs("span",{className:`text-xs font-semibold ${t?"text-red-400":"text-red-600"}`,children:["Ficheiros Ignorados (",c.length,")"]})]}),w.jsx("div",{className:"mt-2 space-y-1",children:c.map((W,Z)=>{const ie=W.file.name.split("/").pop()||W.file.name.split("\\").pop()||W.file.name,J=()=>{switch(W.reason){case"invalid_format":return"";case"test_not_found":return"";case"test_not_executing":return"";case"file_too_large":return"";default:return""}};return w.jsxs("div",{className:`flex items-center gap-2 p-1.5 rounded ${t?"bg-gray-900/50":"bg-gray-50"}`,children:[w.jsx("span",{className:"text-xs",children:J()}),w.jsxs("span",{className:`text-xs font-mono ${t?"text-gray-300":"text-gray-700"}`,children:[ie,w.jsxs("span",{className:`ml-2 ${t?"text-red-400":"text-red-600"}`,children:["(",W.reasonText,")"]})]})]},Z)})})]})}),Object.entries(p).map(([W,Z])=>{const ie=B.has(W);return w.jsxs("div",{className:`${t?"bg-gray-800 border border-green-600/50":"bg-white border border-green-400/50"} rounded-lg overflow-hidden`,children:[w.jsx("button",{type:"button",onClick:()=>{const J=new Set(B);ie?J.delete(W):J.add(W),ke(J)},className:`w-full flex items-center justify-between p-2.5 hover:${t?"bg-gray-700":"bg-gray-50"} transition-colors`,children:w.jsxs("div",{className:"flex items-center gap-2.5",children:[w.jsx("svg",{className:`w-4 h-4 transition-transform ${ie?"rotate-90":""} ${t?"text-gray-400":"text-gray-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),w.jsxs("span",{className:`text-xs font-semibold ${t?"text-yellow-400":"text-yellow-600"}`,children:["UAAS-",W]}),w.jsxs("span",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:["(",Z.length," ficheiro",Z.length!==1?"s":"",")"]})]})}),ie&&w.jsx("div",{className:`border-t ${t?"border-gray-700":"border-gray-200"} p-2.5 space-y-1`,children:Z.map((J,pe)=>w.jsxs("div",{className:`flex items-center gap-2 p-1.5 rounded ${t?"bg-gray-900/50":"bg-gray-50"}`,children:[w.jsx("svg",{className:`w-3.5 h-3.5 ${t?"text-green-400":"text-green-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),w.jsx("span",{className:`text-xs ${t?"text-gray-300":"text-gray-700"}`,children:J.file.name})]},pe))})]},W)})]})]})]})]})]}),w.jsx("div",{className:"flex justify-end"}),Object.keys(p).length===0&&s.length>0&&w.jsx("div",{className:`text-sm text-center ${t?"text-yellow-400":"text-yellow-600"}`,children:" Nenhum ficheiro vlido encontrado. Verifique se os nomes seguem o formato: UAAS-<nmero>.extenso, UAAS-<nmero>-qualquer_coisa.extenso, <nmero>.extenso ou <nmero>-qualquer_coisa.extenso"}),x&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",style:{position:"fixed",top:0,left:0,right:0,bottom:0,overflow:"hidden",pointerEvents:"auto"},children:w.jsx("div",{className:`rounded-xl shadow-2xl p-6 w-96 ${t?"bg-gray-800":"bg-white"}`,style:{position:"relative",isolation:"isolate"},children:w.jsxs("div",{className:"mb-4",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4 relative",children:[w.jsx("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"}`,children:x.message}),x.stage!=="complete"&&w.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-orange-500 border-t-transparent"}),x.stage==="complete"&&w.jsx("button",{onClick:()=>{T(null),o([]),u([]),f([]),y({}),n(""),i(""),E(null),V(new Set),v(null),ke(new Set),$(new Map),A.current&&(A.current.value=""),k.current&&(k.current.value="")},className:`w-6 h-6 flex items-center justify-center rounded-full hover:bg-opacity-20 transition-colors ${t?"text-red-400 hover:bg-red-600":"text-red-500 hover:bg-red-100"}`,children:w.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),w.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden relative mb-3",style:{contain:"layout style paint"},children:w.jsx("div",{className:`h-full transition-all duration-500 ease-out ${x.stage==="complete"?"bg-green-500":"bg-orange-500"}`,style:{width:`${Math.min(x.animatedProgress,100)}%`,willChange:"width",transform:"translateZ(0)",backfaceVisibility:"hidden"}})}),x.stage!=="complete"&&x.dynamicMessage&&w.jsx("p",{className:`text-sm text-center ${t?"text-gray-400":"text-gray-500"}`,children:x.dynamicMessage}),x.stage==="complete"&&e&&w.jsx("div",{className:"text-center mt-2",children:w.jsx("a",{href:`https://ecom4isi.atlassian.net/browse/${e}`,target:"_blank",rel:"noopener noreferrer",className:`text-sm font-medium underline hover:no-underline transition-all ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:"Ver Test Execution"})})]})})})]})})]})]})}cc.createRoot(document.getElementById("root")).render(w.jsx(gt.StrictMode,{children:w.jsx(_A,{children:w.jsx(C1,{basename:"/equipa-unifo",children:w.jsxs(_1,{children:[w.jsx(Ur,{path:"/login",element:w.jsx(IA,{})}),w.jsx(Ur,{path:"/",element:w.jsx(ba,{children:w.jsx(EA,{})})}),w.jsx(Ur,{path:"/nif-generator",element:w.jsx(ba,{children:w.jsx(xA,{})})}),w.jsx(Ur,{path:"/function-number",element:w.jsx(ba,{children:w.jsx(qR,{})})}),w.jsx(Ur,{path:"/import-evidence",element:w.jsx(ba,{children:w.jsx(QR,{})})}),w.jsx(Ur,{path:"*",element:w.jsx(Uv,{to:"/",replace:!0})})]})})})}));
